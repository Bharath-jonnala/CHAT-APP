(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function GS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function QS(){if(Sv)return Vl;Sv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=t,Vl.jsx=n,Vl.jsxs=n,Vl}var bv;function YS(){return bv||(bv=1,dm.exports=QS()),dm.exports}var et=YS(),mm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function KS(){if(wv)return Rt;wv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function L(V,rt,ut){this.props=V,this.context=rt,this.refs=B,this.updater=ut||N}L.prototype.isReactComponent={},L.prototype.setState=function(V,rt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,rt,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=L.prototype;function F(V,rt,ut){this.props=V,this.context=rt,this.refs=B,this.updater=ut||N}var Y=F.prototype=new P;Y.constructor=F,O(Y,L.prototype),Y.isPureReactComponent=!0;var it=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function I(V,rt,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:i,type:V,key:rt,ref:ut!==void 0?ut:null,props:Dt}}function w(V,rt){return I(V.type,rt,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function x(V){var rt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return rt[ut]})}var k=/\/+/g;function U(V,rt){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):rt.toString(36)}function D(){}function Ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(rt){V.status==="pending"&&(V.status="fulfilled",V.value=rt)},function(rt){V.status==="pending"&&(V.status="rejected",V.reason=rt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,rt,ut,at,yt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case i:case t:St=!0;break;case E:return St=V._init,ee(St(V._payload),rt,ut,at,yt)}}if(St)return yt=yt(V),St=at===""?"."+U(V,0):at,it(yt)?(ut="",St!=null&&(ut=St.replace(k,"$&/")+"/"),ee(yt,rt,ut,"",function(Xn){return Xn})):yt!=null&&(R(yt)&&(yt=w(yt,ut+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(k,"$&/")+"/")+St)),rt.push(yt)),1;St=0;var Oe=at===""?".":at+":";if(it(V))for(var $t=0;$t<V.length;$t++)at=V[$t],Dt=Oe+U(at,$t),St+=ee(at,rt,ut,Dt,yt);else if($t=A(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(at=V.next()).done;)at=at.value,Dt=Oe+U(at,$t++),St+=ee(at,rt,ut,Dt,yt);else if(Dt==="object"){if(typeof V.then=="function")return ee(Ae(V),rt,ut,at,yt);throw rt=String(V),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(V,rt,ut){if(V==null)return V;var at=[],yt=0;return ee(V,at,"","",function(Dt){return rt.call(ut,Dt,yt++)}),at}function lt(V){if(V._status===-1){var rt=V._result;rt=rt(),rt.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=rt)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return Rt.Children={map:W,forEach:function(V,rt,ut){W(V,function(){rt.apply(this,arguments)},ut)},count:function(V){var rt=0;return W(V,function(){rt++}),rt},toArray:function(V){return W(V,function(rt){return rt})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=L,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=F,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return st.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,rt,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=O({},V.props),yt=V.key,Dt=void 0;if(rt!=null)for(St in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!ct.call(rt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&rt.ref===void 0||(at[St]=rt[St]);var St=arguments.length-2;if(St===1)at.children=ut;else if(1<St){for(var Oe=Array(St),$t=0;$t<St;$t++)Oe[$t]=arguments[$t+2];at.children=Oe}return I(V.type,yt,void 0,void 0,Dt,at)},Rt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Rt.createElement=function(V,rt,ut){var at,yt={},Dt=null;if(rt!=null)for(at in rt.key!==void 0&&(Dt=""+rt.key),rt)ct.call(rt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=rt[at]);var St=arguments.length-2;if(St===1)yt.children=ut;else if(1<St){for(var Oe=Array(St),$t=0;$t<St;$t++)Oe[$t]=arguments[$t+2];yt.children=Oe}if(V&&V.defaultProps)for(at in St=V.defaultProps,St)yt[at]===void 0&&(yt[at]=St[at]);return I(V,Dt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:m,render:V}},Rt.isValidElement=R,Rt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:lt}},Rt.memo=function(V,rt){return{$$typeof:g,type:V,compare:rt===void 0?null:rt}},Rt.startTransition=function(V){var rt=st.T,ut={};st.T=ut;try{var at=V(),yt=st.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,mt)}catch(Dt){mt(Dt)}finally{st.T=rt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(V){return st.H.use(V)},Rt.useActionState=function(V,rt,ut){return st.H.useActionState(V,rt,ut)},Rt.useCallback=function(V,rt){return st.H.useCallback(V,rt)},Rt.useContext=function(V){return st.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,rt){return st.H.useDeferredValue(V,rt)},Rt.useEffect=function(V,rt,ut){var at=st.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,rt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(V,rt,ut){return st.H.useImperativeHandle(V,rt,ut)},Rt.useInsertionEffect=function(V,rt){return st.H.useInsertionEffect(V,rt)},Rt.useLayoutEffect=function(V,rt){return st.H.useLayoutEffect(V,rt)},Rt.useMemo=function(V,rt){return st.H.useMemo(V,rt)},Rt.useOptimistic=function(V,rt){return st.H.useOptimistic(V,rt)},Rt.useReducer=function(V,rt,ut){return st.H.useReducer(V,rt,ut)},Rt.useRef=function(V){return st.H.useRef(V)},Rt.useState=function(V){return st.H.useState(V)},Rt.useSyncExternalStore=function(V,rt,ut){return st.H.useSyncExternalStore(V,rt,ut)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.1.0",Rt}var Rv;function hp(){return Rv||(Rv=1,mm.exports=KS()),mm.exports}var q=hp();const ie=GS(q);var pm={exports:{}},Ml={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function XS(){return Iv||(Iv=1,function(i){function t(W,lt){var mt=W.length;W.push(lt);t:for(;0<mt;){var jt=mt-1>>>1,V=W[jt];if(0<o(V,lt))W[jt]=lt,W[mt]=V,mt=jt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var lt=W[0],mt=W.pop();if(mt!==lt){W[0]=mt;t:for(var jt=0,V=W.length,rt=V>>>1;jt<rt;){var ut=2*(jt+1)-1,at=W[ut],yt=ut+1,Dt=W[yt];if(0>o(at,mt))yt<V&&0>o(Dt,at)?(W[jt]=Dt,W[yt]=mt,jt=yt):(W[jt]=at,W[ut]=mt,jt=ut);else if(yt<V&&0>o(Dt,mt))W[jt]=Dt,W[yt]=mt,jt=yt;else break t}}return lt}function o(W,lt){var mt=W.sortIndex-lt.sortIndex;return mt!==0?mt:W.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,A=3,N=!1,O=!1,B=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function it(W){for(var lt=n(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=W)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(g)}}function st(W){if(B=!1,it(W),!O)if(n(p)!==null)O=!0,ct||(ct=!0,U());else{var lt=n(g);lt!==null&&ee(st,lt.startTime-W)}}var ct=!1,I=-1,w=5,R=-1;function x(){return L?!0:!(i.unstable_now()-R<w)}function k(){if(L=!1,ct){var W=i.unstable_now();R=W;var lt=!0;try{t:{O=!1,B&&(B=!1,F(I),I=-1),N=!0;var mt=A;try{e:{for(it(W),S=n(p);S!==null&&!(S.expirationTime>W&&x());){var jt=S.callback;if(typeof jt=="function"){S.callback=null,A=S.priorityLevel;var V=jt(S.expirationTime<=W);if(W=i.unstable_now(),typeof V=="function"){S.callback=V,it(W),lt=!0;break e}S===n(p)&&s(p),it(W)}else s(p);S=n(p)}if(S!==null)lt=!0;else{var rt=n(g);rt!==null&&ee(st,rt.startTime-W),lt=!1}}break t}finally{S=null,A=mt,N=!1}lt=void 0}}finally{lt?U():ct=!1}}}var U;if(typeof Y=="function")U=function(){Y(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ae=D.port2;D.port1.onmessage=k,U=function(){Ae.postMessage(null)}}else U=function(){P(k,0)};function ee(W,lt){I=P(function(){W(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var lt=3;break;default:lt=A}var mt=A;A=lt;try{return W()}finally{A=mt}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=A;A=W;try{return lt()}finally{A=mt}},i.unstable_scheduleCallback=function(W,lt,mt){var jt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,W={id:E++,callback:lt,priorityLevel:W,startTime:mt,expirationTime:V,sortIndex:-1},mt>jt?(W.sortIndex=mt,t(g,W),n(p)===null&&W===n(g)&&(B?(F(I),I=-1):B=!0,ee(st,mt-jt))):(W.sortIndex=V,t(p,W),O||N||(O=!0,ct||(ct=!0,U()))),W},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(W){var lt=A;return function(){var mt=A;A=lt;try{return W.apply(this,arguments)}finally{A=mt}}}}(ym)),ym}var Cv;function WS(){return Cv||(Cv=1,gm.exports=XS()),gm.exports}var _m={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function ZS(){if(Dv)return We;Dv=1;var i=hp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},We.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},We.requestFormReset=function(p){s.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.1.0",We}var Nv;function JS(){if(Nv)return _m.exports;Nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_m.exports=ZS(),_m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function $S(){if(Ov)return Ml;Ov=1;var i=WS(),t=hp(),n=JS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case L:return"Profiler";case B:return"StrictMode";case st:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case it:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return r=e.displayName||null,r!==null?r:Ae(e.type)||"Memo";case w:r=e._payload,e=e._init;try{return Ae(e(r))}catch{}}return null}var ee=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],V=-1;function rt(e){return{current:e}}function ut(e){0>V||(e.current=jt[V],jt[V]=null,V--)}function at(e,r){V++,jt[V]=e.current,e.current=r}var yt=rt(null),Dt=rt(null),St=rt(null),Oe=rt(null);function $t(e,r){switch(at(St,r),at(Dt,e),at(yt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Z_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Z_(r),e=J_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(yt),at(yt,e)}function Xn(){ut(yt),ut(Dt),ut(St)}function ur(e){e.memoizedState!==null&&at(Oe,e);var r=yt.current,a=J_(r,e.type);r!==a&&(at(Dt,e),at(yt,a))}function Ti(e){Dt.current===e&&(ut(yt),ut(Dt)),Oe.current===e&&(ut(Oe),Cl._currentValue=mt)}var os=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,us=i.unstable_cancelCallback,wo=i.unstable_shouldYield,bu=i.unstable_requestPaint,bn=i.unstable_now,df=i.unstable_getCurrentPriorityLevel,Ro=i.unstable_ImmediatePriority,ra=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,mf=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Io=i.log,wu=i.unstable_setDisableYieldValue,ue=null,Gt=null;function mn(e){if(typeof Io=="function"&&wu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Ke=Math.clz32?Math.clz32:hs,Ru=Math.log,pf=Math.LN2;function hs(e){return e>>>=0,e===0?32:31-(Ru(e)/pf|0)|0}var fs=256,ds=4194304;function Bn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Bn(l):(v&=T,v!==0?h=Bn(v):a||(a=T&~e,a!==0&&(h=Bn(a))))):(T=l&~d,T!==0?h=Bn(T):v!==0?h=Bn(v):a||(a=l&~e,a!==0&&(h=Bn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ms(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Co(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var e=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),e}function No(){var e=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),e}function Ai(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Si(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oo(e,r,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,G=e.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Ke(a),$=1<<Z;T[Z]=0,C[Z]=-1;var Q=G[Z];if(Q!==null)for(G[Z]=null,Z=0;Z<Q.length;Z++){var K=Q[Z];K!==null&&(K.lane&=-536870913)}a&=~$}l!==0&&Wn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function Wn(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ke(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function xo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ke(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hr(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:yv(e.type))}function Iu(e,r){var a=lt.p;try{return lt.p=e,r()}finally{lt.p=a}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,ge="__reactProps$"+re,wn="__reactContainer$"+re,Vo="__reactEvents$"+re,gf="__reactListeners$"+re,fr="__reactHandles$"+re,Cu="__reactResources$"+re,ps="__reactMarker$"+re;function dr(e){delete e[Se],delete e[ge],delete e[Vo],delete e[gf],delete e[fr]}function bi(e){var r=e[Se];if(r)return r;for(var a=e.parentNode;a;){if(r=a[wn]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=nv(e);e!==null;){if(a=e[Se])return a;e=nv(e)}return r}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[Se]||e[wn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Jn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function nn(e){var r=e[Cu];return r||(r=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function fe(e){e[ps]=!0}var Mo=new Set,la={};function zn(e,r){wi(e,r),wi(e+"Capture",r)}function wi(e,r){for(la[e]=r,e=0;e<r.length;e++)Mo.add(r[e])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},gs={};function Ou(e){return os.call(gs,e)?!0:os.call(Nu,e)?!1:Du.test(e)?gs[e]=!0:(Nu[e]=!0,!1)}function mr(e,r,a){if(Ou(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function $n(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ze(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var ys,xu;function Ri(e){if(ys===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ys=r&&r[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+xu}var ua=!1;function ca(e,r){if(!e||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(K){var Q=K}Reflect.construct(e,[],$)}else{try{$.call()}catch(K){Q=K}e.call($.prototype)}}else{try{throw Error()}catch(K){Q=K}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(K){if(K&&Q&&typeof K.stack=="string")return[K.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),G=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var Z=`
`+C[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ri(a):""}function Po(e){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return Ri("Activity");default:return""}}function ha(e){try{var r="";do r+=Po(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ko(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yf(e){var r=ko(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function fa(e){e._valueTracker||(e._valueTracker=yf(e))}function Lo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=ko(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _f=/[\n"\\]/g;function ye(e){return e.replace(_f,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(e,r,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+rn(r)):e.value!==""+rn(r)&&(e.value=""+rn(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?pr(e,v,rn(r)):a!=null?pr(e,v,rn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function vs(e,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function pr(e,r,a){r==="number"&&_s(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ii(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Kt(e,r,a){if(r!=null&&(r=""+rn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+rn(a):""}function Es(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Ts.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Uo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vu(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vu(e,d,r[d])}function Bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return Ef.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ci=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Ni=null;function zo(e){var r=Zn(e);if(r&&(e=r.stateNode)){var a=e[ge]||null;t:switch(e=r.stateNode,r.type){case"input":if(pn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[ge]||null;if(!h)throw Error(s(90));pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Lo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ii(e,!!a.multiple,r,!1)}}}var ti=!1;function Mu(e,r,a){if(ti)return e(r,a);ti=!0;try{var l=e(r);return l}finally{if(ti=!1,(Di!==null||Ni!==null)&&(Ic(),Di&&(r=Di,e=Ni,Ni=Di=null,zo(r),e)))for(r=0;r<e.length;r++)zo(e[r])}}function As(e,r){var a=e.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(jn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Cn=!1}var ei=null,gr=null,Oi=null;function jo(){if(Oi)return Oi;var e,r=gr,a=r.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Oi=h.slice(e,1<l?1-l:void 0)}function ni(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function qo(){return!1}function xe(e){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:qo,this.isPropagationStopped=qo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=xe(Ht),bs=E({},Ht,{view:0,detail:0}),Pu=xe(bs),pa,ga,ri,ws=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(pa=e.screenX-ri.screenX,ga=e.screenY-ri.screenY):ga=pa=0,ri=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Dn=xe(ws),ku=E({},ws,{dataTransfer:0}),Tf=xe(ku),Rs=E({},bs,{relatedTarget:0}),ya=xe(Rs),Ho=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=xe(Ho),Lu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=xe(Lu),Af=E({},Ht,{data:0}),Fo=xe(Af),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Bu[e])?!!r[e]:!1}function Cs(){return Go}var zu=E({},bs,{key:function(e){if(e.key){var r=Is[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ea=xe(zu),ju=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=xe(ju),xi=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),qu=xe(xi),Hu=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=xe(Hu),Gu=E({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=xe(Gu),sn=E({},Ht,{newState:0,oldState:0}),Qu=xe(sn),Yu=[9,13,27,32],si=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!si||c&&8<c&&11>=c),b=" ",j=!1;function X(e,r){switch(e){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function be(e,r){switch(e){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(j=!0,b);case"textInput":return e=r.data,e===b&&j?null:e;default:return null}}function Lt(e,r){if(kt)return e==="compositionend"||!si&&X(e,r)?(e=jo(),Oi=gr=ei=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ve[e.type]:r==="textarea"}function Vi(e,r,a,l){Di?Ni?Ni.push(l):Ni=[l]:Di=l,r=Vc(r,"onChange"),0<r.length&&(a=new ma("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var je=null,ai=null;function Yo(e){Q_(e,0)}function Ku(e){var r=Jn(e);if(Lo(r))return e}function dg(e,r){if(e==="change")return r}var mg=!1;if(jn){var Sf;if(jn){var bf="oninput"in document;if(!bf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),bf=typeof pg.oninput=="function"}Sf=bf}else Sf=!1;mg=Sf&&(!document.documentMode||9<document.documentMode)}function gg(){je&&(je.detachEvent("onpropertychange",yg),ai=je=null)}function yg(e){if(e.propertyName==="value"&&Ku(ai)){var r=[];Vi(r,ai,e,In(e)),Mu(Yo,r)}}function T1(e,r,a){e==="focusin"?(gg(),je=r,ai=a,je.attachEvent("onpropertychange",yg)):e==="focusout"&&gg()}function A1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(ai)}function S1(e,r){if(e==="click")return Ku(r)}function b1(e,r){if(e==="input"||e==="change")return Ku(r)}function w1(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var gn=typeof Object.is=="function"?Object.is:w1;function Ko(e,r){if(gn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!os.call(r,h)||!gn(e[h],r[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,r){var a=_g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Eg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=_s(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=_s(e.document)}return r}function wf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var R1=jn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Rf=null,Xo=null,If=!1;function Ag(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Aa==null||Aa!==_s(l)||(l=Aa,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Ko(Xo,l)||(Xo=l,l=Vc(Rf,"onSelect"),0<l.length&&(r=new ma("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Aa)))}function Ds(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Sa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Cf={},Sg={};jn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ns(e){if(Cf[e])return Cf[e];if(!Sa[e])return e;var r=Sa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Sg)return Cf[e]=r[a];return e}var bg=Ns("animationend"),wg=Ns("animationiteration"),Rg=Ns("animationstart"),I1=Ns("transitionrun"),C1=Ns("transitionstart"),D1=Ns("transitioncancel"),Ig=Ns("transitionend"),Cg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function qn(e,r){Cg.set(e,r),zn(r,[e])}var Dg=new WeakMap;function Nn(e,r){if(typeof e=="object"&&e!==null){var a=Dg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:ha(r)},Dg.set(e,r),r)}return{value:e,source:r,stack:ha(r)}}var On=[],ba=0,Nf=0;function Xu(){for(var e=ba,r=Nf=ba=0;r<e;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ng(a,h,d)}}function Wu(e,r,a,l){On[ba++]=e,On[ba++]=r,On[ba++]=a,On[ba++]=l,Nf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Of(e,r,a,l){return Wu(e,r,a,l),Zu(e)}function wa(e,r){return Wu(e,null,null,r),Zu(e)}function Ng(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-Ke(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(e){if(50<El)throw El=0,Ld=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ra={};function N1(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,r,a,l){return new N1(e,r,a,l)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,r){var a=e.alternate;return a===null?(a=yn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Og(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ju(e,r,a,l,h,d){var v=0;if(l=e,typeof e=="function")xf(e)&&(v=1);else if(typeof e=="string")v=xS(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,r,h),e.elementType=R,e.lanes=d,e;case O:return Os(a.children,h,d,r);case B:v=8,h|=24;break;case L:return e=yn(12,a,r,h|2),e.elementType=L,e.lanes=d,e;case st:return e=yn(13,a,r,h),e.elementType=st,e.lanes=d,e;case ct:return e=yn(19,a,r,h),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:case Y:v=10;break t;case F:v=9;break t;case it:v=11;break t;case I:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=yn(v,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Os(e,r,a,l){return e=yn(7,e,l,r),e.lanes=a,e}function Vf(e,r,a){return e=yn(6,e,null,r),e.lanes=a,e}function Mf(e,r,a){return r=yn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Ia=[],Ca=0,$u=null,tc=0,xn=[],Vn=0,xs=null,Pi=1,ki="";function Vs(e,r){Ia[Ca++]=tc,Ia[Ca++]=$u,$u=e,tc=r}function xg(e,r,a){xn[Vn++]=Pi,xn[Vn++]=ki,xn[Vn++]=xs,xs=e;var l=Pi;e=ki;var h=32-Ke(l)-1;l&=~(1<<h),a+=1;var d=32-Ke(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-Ke(r)+h|a<<h|l,ki=d+e}else Pi=1<<d|a<<h|l,ki=e}function Pf(e){e.return!==null&&(Vs(e,1),xg(e,1,0))}function kf(e){for(;e===$u;)$u=Ia[--Ca],Ia[Ca]=null,tc=Ia[--Ca],Ia[Ca]=null;for(;e===xs;)xs=xn[--Vn],xn[Vn]=null,ki=xn[--Vn],xn[Vn]=null,Pi=xn[--Vn],xn[Vn]=null}var an=null,ce=null,qt=!1,Ms=null,oi=!1,Lf=Error(s(519));function Ps(e){var r=Error(s(418,""));throw Jo(Nn(r,e)),Lf}function Vg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Se]=e,r[ge]=l,a){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Vt(Al[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),Es(r,l.value,l.defaultValue,l.children),fa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||W_(r.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),l.onScroll!=null&&Vt("scroll",r),l.onScrollEnd!=null&&Vt("scrollend",r),l.onClick!=null&&(r.onclick=Mc),r=!0):r=!1,r||Ps(e)}function Mg(e){for(an=e.return;an;)switch(an.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:an=an.return}}function Wo(e){if(e!==an)return!1;if(!qt)return Mg(e),qt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&ce&&Ps(e),Mg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){ce=Fn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}ce=null}}else r===27?(r=ce,xr(e.type)?(e=im,im=null,ce=e):ce=r):ce=an?Fn(e.stateNode.nextSibling):null;return!0}function Zo(){ce=an=null,qt=!1}function Pg(){var e=Ms;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ms=null),e}function Jo(e){Ms===null?Ms=[e]:Ms.push(e)}var Uf=rt(null),ks=null,Li=null;function yr(e,r,a){at(Uf,r._currentValue),r._currentValue=a}function Ui(e){e._currentValue=Uf.current,ut(Uf)}function Bf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function zf(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Bf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Bf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;gn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&zf(r,e,a,l),r.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return kg(ks,e)}function nc(e,r){return ks===null&&Ls(e),kg(e,r)}function kg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Li=Li.next=r;return a}var O1=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},x1=i.unstable_scheduleCallback,V1=i.unstable_NormalPriority,Re={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new O1,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&x1(V1,function(){e.controller.abort()})}var el=null,qf=0,Da=0,Na=null;function M1(e,r){if(el===null){var a=el=[];qf=0,Da=Fd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,r.then(Lg,Lg),r}function Lg(){if(--qf===0&&el!==null){Na!==null&&(Na.status="fulfilled");var e=el;el=null,Da=0,Na=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function P1(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=W.S;W.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&M1(e,r),Ug!==null&&Ug(e,r)};var Us=rt(null);function Hf(){var e=Us.current;return e!==null?e:te.pooledCache}function ic(e,r){r===null?at(Us,Us.current):at(Us,r.pool)}function Bg(){var e=Hf();return e===null?null:{parent:Re._currentValue,pool:e}}var nl=Error(s(460)),zg=Error(s(474)),rc=Error(s(542)),Ff={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sc(){}function qg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(sc,sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Fg(e),e;default:if(typeof r.status=="string")r.then(sc,sc);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Fg(e),e}throw il=r,nl}}var il=null;function Hg(){if(il===null)throw Error(s(459));var e=il;return il=null,e}function Fg(e){if(e===nl||e===rc)throw Error(s(483))}var _r=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(e),Ng(e,null,a),r}return Wu(e,l,r,a),Zu(e)}function rl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,xo(e,a)}}function Yf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Kf=!1;function sl(){if(Kf){var e=Na;if(e!==null)throw e}}function al(e,r,a,l){Kf=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,G=C.next;C.next=null,v===null?d=G:v.next=G,v=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=G:T.next=G,Z.lastBaseUpdate=C))}if(d!==null){var $=h.baseState;v=0,Z=G=C=null,T=d;do{var Q=T.lane&-536870913,K=Q!==T.lane;if(K?(Ut&Q)===Q:(l&Q)===Q){Q!==0&&Q===Da&&(Kf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var At=e,_t=T;Q=r;var Zt=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){$=At.call(Zt,$,Q);break t}$=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,Q=typeof At=="function"?At.call(Zt,$,Q):At,Q==null)break t;$=E({},$,Q);break t;case 2:_r=!0}}Q=T.callback,Q!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[Q]:K.push(Q))}else K={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(G=Z=K,C=$):Z=Z.next=K,v|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(C=$),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Cr|=v,e.lanes=v,e.memoizedState=$}}function Gg(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Qg(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gg(a[e],r)}var Oa=rt(null),ac=rt(0);function Yg(e,r){e=Gi,at(ac,e),at(Oa,r),Gi=e|r.baseLanes}function Xf(){at(ac,Gi),at(Oa,Oa.current)}function Wf(){Gi=ac.current,ut(Oa),ut(ac)}var Tr=0,It=null,Xt=null,_e=null,oc=!1,xa=!1,Bs=!1,lc=0,ol=0,Va=null,k1=0;function de(){throw Error(s(321))}function Zf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!gn(e[a],r[a]))return!1;return!0}function Jf(e,r,a,l,h,d){return Tr=d,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=e===null||e.memoizedState===null?Ny:Oy,Bs=!1,d=a(l,h),Bs=!1,xa&&(d=Xg(r,a,l,h)),Kg(e),d}function Kg(e){W.H=mc;var r=Xt!==null&&Xt.next!==null;if(Tr=0,_e=Xt=It=null,oc=!1,ol=0,Va=null,r)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&ec(e)&&(Me=!0))}function Xg(e,r,a,l){It=e;var h=0;do{if(xa&&(Va=null),ol=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,_e=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=H1,d=r(a,l)}while(xa);return d}function L1(){var e=W.H,r=e.useState()[0];return r=typeof r.then=="function"?ll(r):r,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(It.flags|=1024),r}function $f(){var e=lc!==0;return lc=0,e}function td(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function ed(e){if(oc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}oc=!1}Tr=0,_e=Xt=It=null,xa=!1,ol=lc=0,Va=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Xt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var r=_e===null?It.memoizedState:_e.next;if(r!==null)_e=r,Xt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var r=ol;return ol+=1,Va===null&&(Va=[]),e=qg(Va,e,r),r=It,(_e===null?r.memoizedState:_e.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Ny:Oy),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===Y)return Xe(e)}throw Error(s(438,String(e)))}function id(e){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=nd(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=x;return r.index++,a}function Bi(e,r){return typeof r=="function"?r(e):r}function cc(e){var r=ve();return rd(r,Xt,e)}function rd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var T=v=null,C=null,G=r,Z=!1;do{var $=G.lane&-536870913;if($!==G.lane?(Ut&$)===$:(Tr&$)===$){var Q=G.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),$===Da&&(Z=!0);else if((Tr&Q)===Q){G=G.next,Q===Da&&(Z=!0);continue}else $={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=$,v=d):C=C.next=$,It.lanes|=Q,Cr|=Q;$=G.action,Bs&&a(d,$),d=G.hasEagerState?G.eagerState:a(d,$)}else Q={lane:$,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=Q,v=d):C=C.next=Q,It.lanes|=$,Cr|=$;G=G.next}while(G!==null&&G!==r);if(C===null?v=d:C.next=T,!gn(d,e.memoizedState)&&(Me=!0,Z&&(a=Na,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sd(e){var r=ve(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);gn(d,r.memoizedState)||(Me=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(e,r,a){var l=It,h=ve(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!gn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var T=$g.bind(null,l,h,e);if(ul(2048,8,T,[e]),h.getSnapshot!==r||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ma(9,hc(),Jg.bind(null,l,h,a,r),null),te===null)throw Error(s(349));d||(Tr&124)!==0||Zg(l,r,a)}return a}function Zg(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=nd(),It.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Jg(e,r,a,l){r.value=a,r.getSnapshot=l,ty(r)&&ey(e)}function $g(e,r,a){return a(function(){ty(r)&&ey(e)})}function ty(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!gn(e,a)}catch{return!0}}function ey(e){var r=wa(e,2);r!==null&&An(r,e,2)}function ad(e){var r=un();if(typeof e=="function"){var a=e;if(e=a(),Bs){mn(!0);try{a()}finally{mn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},r}function ny(e,r,a,l){return e.baseState=a,rd(e,Xt,typeof l=="function"?l:Bi)}function U1(e,r,a,l,h){if(dc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,iy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function iy(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),C=W.S;C!==null&&C(v,T),ry(e,r,T)}catch(G){od(e,r,G)}finally{W.T=d}}else try{d=a(h,l),ry(e,r,d)}catch(G){od(e,r,G)}}function ry(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sy(e,r,l)},function(l){return od(e,r,l)}):sy(e,r,a)}function sy(e,r,a){r.status="fulfilled",r.value=a,ay(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,iy(e,a)))}function od(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ay(r),r=r.next;while(r!==l)}e.action=null}function ay(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function oy(e,r){return r}function ly(e,r){if(qt){var a=te.formState;if(a!==null){t:{var l=It;if(qt){if(ce){e:{for(var h=ce,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=Fn(h.nextSibling),l=h.data==="F!";break t}}Ps(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:r},a.queue=l,a=Iy.bind(null,It,l),l.dispatch=a,l=ad(!1),d=fd.bind(null,It,!1,l.queue),l=un(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=U1.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function uy(e){var r=ve();return cy(r,Xt,e)}function cy(e,r,a){if(r=rd(e,r,oy)[0],e=cc(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(v){throw v===nl?rc:v}else l=r;r=ve();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(It.flags|=2048,Ma(9,hc(),B1.bind(null,h,a),null)),[l,d,e]}function B1(e,r){e.action=r}function hy(e){var r=ve(),a=Xt;if(a!==null)return cy(r,a,e);ve(),r=r.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ma(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=nd(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function hc(){return{destroy:void 0,resource:void 0}}function fy(){return ve().memoizedState}function fc(e,r,a,l){var h=un();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ma(1|r,hc(),a,l)}function ul(e,r,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Zf(l,Xt.memoizedState.deps)?h.memoizedState=Ma(r,d,a,l):(It.flags|=e,h.memoizedState=Ma(1|r,d,a,l))}function dy(e,r){fc(8390656,8,e,r)}function my(e,r){ul(2048,8,e,r)}function py(e,r){return ul(4,2,e,r)}function gy(e,r){return ul(4,4,e,r)}function yy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function _y(e,r,a){a=a!=null?a.concat([e]):null,ul(4,4,yy.bind(null,r,e),a)}function ld(){}function vy(e,r){var a=ve();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Ey(e,r){var a=ve();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=e(),Bs){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,r],l}function ud(e,r,a){return a===void 0||(Tr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=S_(),It.lanes|=e,Cr|=e,a)}function Ty(e,r,a,l){return gn(a,r)?a:Oa.current!==null?(e=ud(e,a,l),gn(e,r)||(Me=!0),e):(Tr&42)===0?(Me=!0,e.memoizedState=a):(e=S_(),It.lanes|=e,Cr|=e,r)}function Ay(e,r,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,fd(e,!1,r,a);try{var C=h(),G=W.S;if(G!==null&&G(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=P1(C,l);cl(e,r,Z,Tn(e))}else cl(e,r,l,Tn(e))}catch($){cl(e,r,{then:function(){},status:"rejected",reason:$},Tn())}finally{lt.p=d,W.T=v}}function z1(){}function cd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=Sy(e).queue;Ay(e,h,r,mt,a===null?z1:function(){return by(e),a(l)})}function Sy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:mt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function by(e){var r=Sy(e).next.queue;cl(e,r,{},Tn())}function hd(){return Xe(Cl)}function wy(){return ve().memoizedState}function Ry(){return ve().memoizedState}function j1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();e=vr(a);var l=Er(r,e,a);l!==null&&(An(l,r,a),rl(l,r,a)),r={cache:jf()},e.payload=r;return}r=r.return}}function q1(e,r,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(e)?Cy(r,a):(a=Of(e,r,a,l),a!==null&&(An(a,e,l),Dy(a,r,l)))}function Iy(e,r,a){var l=Tn();cl(e,r,a,l)}function cl(e,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(e))Cy(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,v))return Wu(e,r,h,0),te===null&&Xu(),!1}catch{}finally{}if(a=Of(e,r,h,l),a!==null)return An(a,e,l),Dy(a,r,l),!0}return!1}function fd(e,r,a,l){if(l={lane:2,revertLane:Fd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(r)throw Error(s(479))}else r=Of(e,a,l,2),r!==null&&An(r,e,2)}function dc(e){var r=e.alternate;return e===It||r!==null&&r===It}function Cy(e,r){xa=oc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Dy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,xo(e,a)}}var mc={readContext:Xe,use:uc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Ny={readContext:Xe,use:uc,useCallback:function(e,r){return un().memoizedState=[e,r===void 0?null:r],e},useContext:Xe,useEffect:dy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,fc(4194308,4,yy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return fc(4194308,4,e,r)},useInsertionEffect:function(e,r){fc(4,2,e,r)},useMemo:function(e,r){var a=un();r=r===void 0?null:r;var l=e();if(Bs){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=un();if(a!==void 0){var h=a(r);if(Bs){mn(!0);try{a(r)}finally{mn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=q1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var r=un();return e={current:e},r.memoizedState=e},useState:function(e){e=ad(e);var r=e.queue,a=Iy.bind(null,It,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(e,r){var a=un();return ud(a,e,r)},useTransition:function(){var e=ad(!1);return e=Ay.bind(null,It,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=It,h=un();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),te===null)throw Error(s(349));(Ut&124)!==0||Zg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,dy($g.bind(null,l,d,e),[e]),l.flags|=2048,Ma(9,hc(),Jg.bind(null,l,d,a,r),null),a},useId:function(){var e=un(),r=te.identifierPrefix;if(qt){var a=ki,l=Pi;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=k1++,r="«"+r+"r"+a.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:hd,useFormState:ly,useActionState:ly,useOptimistic:function(e){var r=un();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=fd.bind(null,It,!0,a),a.dispatch=r,[e,r]},useMemoCache:id,useCacheRefresh:function(){return un().memoizedState=j1.bind(null,It)}},Oy={readContext:Xe,use:uc,useCallback:vy,useContext:Xe,useEffect:my,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:cc,useRef:fy,useState:function(){return cc(Bi)},useDebugValue:ld,useDeferredValue:function(e,r){var a=ve();return Ty(a,Xt.memoizedState,e,r)},useTransition:function(){var e=cc(Bi)[0],r=ve().memoizedState;return[typeof e=="boolean"?e:ll(e),r]},useSyncExternalStore:Wg,useId:wy,useHostTransitionStatus:hd,useFormState:uy,useActionState:uy,useOptimistic:function(e,r){var a=ve();return ny(a,Xt,e,r)},useMemoCache:id,useCacheRefresh:Ry},H1={readContext:Xe,use:uc,useCallback:vy,useContext:Xe,useEffect:my,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:sd,useRef:fy,useState:function(){return sd(Bi)},useDebugValue:ld,useDeferredValue:function(e,r){var a=ve();return Xt===null?ud(a,e,r):Ty(a,Xt.memoizedState,e,r)},useTransition:function(){var e=sd(Bi)[0],r=ve().memoizedState;return[typeof e=="boolean"?e:ll(e),r]},useSyncExternalStore:Wg,useId:wy,useHostTransitionStatus:hd,useFormState:hy,useActionState:hy,useOptimistic:function(e,r){var a=ve();return Xt!==null?ny(a,Xt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Ry},Pa=null,hl=0;function pc(e){var r=hl;return hl+=1,Pa===null&&(Pa=[]),qg(Pa,e,r)}function fl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function gc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function xy(e){var r=e._init;return r(e._payload)}function Vy(e){function r(z,M){if(e){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!e)return null;for(;M!==null;)r(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Mi(z,M),z.index=0,z.sibling=null,z}function d(z,M,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,H,J){return M===null||M.tag!==6?(M=Vf(H,z.mode,J),M.return=z,M):(M=h(M,H),M.return=z,M)}function C(z,M,H,J){var dt=H.type;return dt===O?Z(z,M,H.props.children,J,H.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&xy(dt)===M.type)?(M=h(M,H.props),fl(M,H),M.return=z,M):(M=Ju(H.type,H.key,H.props,null,z.mode,J),fl(M,H),M.return=z,M)}function G(z,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Mf(H,z.mode,J),M.return=z,M):(M=h(M,H.children||[]),M.return=z,M)}function Z(z,M,H,J,dt){return M===null||M.tag!==7?(M=Os(H,z.mode,J,dt),M.return=z,M):(M=h(M,H),M.return=z,M)}function $(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vf(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return H=Ju(M.type,M.key,M.props,null,z.mode,H),fl(H,M),H.return=z,H;case N:return M=Mf(M,z.mode,H),M.return=z,M;case w:var J=M._init;return M=J(M._payload),$(z,M,H)}if(ee(M)||U(M))return M=Os(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return $(z,pc(M),H);if(M.$$typeof===Y)return $(z,nc(z,M),H);gc(z,M)}return null}function Q(z,M,H,J){var dt=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:T(z,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===dt?C(z,M,H,J):null;case N:return H.key===dt?G(z,M,H,J):null;case w:return dt=H._init,H=dt(H._payload),Q(z,M,H,J)}if(ee(H)||U(H))return dt!==null?null:Z(z,M,H,J,null);if(typeof H.then=="function")return Q(z,M,pc(H),J);if(H.$$typeof===Y)return Q(z,M,nc(z,H),J);gc(z,H)}return null}function K(z,M,H,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,T(M,z,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return z=z.get(J.key===null?H:J.key)||null,C(M,z,J,dt);case N:return z=z.get(J.key===null?H:J.key)||null,G(M,z,J,dt);case w:var Nt=J._init;return J=Nt(J._payload),K(z,M,H,J,dt)}if(ee(J)||U(J))return z=z.get(H)||null,Z(M,z,J,dt,null);if(typeof J.then=="function")return K(z,M,H,pc(J),dt);if(J.$$typeof===Y)return K(z,M,H,nc(M,J),dt);gc(M,J)}return null}function At(z,M,H,J){for(var dt=null,Nt=null,pt=M,vt=M=0,ke=null;pt!==null&&vt<H.length;vt++){pt.index>vt?(ke=pt,pt=null):ke=pt.sibling;var zt=Q(z,pt,H[vt],J);if(zt===null){pt===null&&(pt=ke);break}e&&pt&&zt.alternate===null&&r(z,pt),M=d(zt,M,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt,pt=ke}if(vt===H.length)return a(z,pt),qt&&Vs(z,vt),dt;if(pt===null){for(;vt<H.length;vt++)pt=$(z,H[vt],J),pt!==null&&(M=d(pt,M,vt),Nt===null?dt=pt:Nt.sibling=pt,Nt=pt);return qt&&Vs(z,vt),dt}for(pt=l(pt);vt<H.length;vt++)ke=K(pt,z,vt,H[vt],J),ke!==null&&(e&&ke.alternate!==null&&pt.delete(ke.key===null?vt:ke.key),M=d(ke,M,vt),Nt===null?dt=ke:Nt.sibling=ke,Nt=ke);return e&&pt.forEach(function(Lr){return r(z,Lr)}),qt&&Vs(z,vt),dt}function _t(z,M,H,J){if(H==null)throw Error(s(151));for(var dt=null,Nt=null,pt=M,vt=M=0,ke=null,zt=H.next();pt!==null&&!zt.done;vt++,zt=H.next()){pt.index>vt?(ke=pt,pt=null):ke=pt.sibling;var Lr=Q(z,pt,zt.value,J);if(Lr===null){pt===null&&(pt=ke);break}e&&pt&&Lr.alternate===null&&r(z,pt),M=d(Lr,M,vt),Nt===null?dt=Lr:Nt.sibling=Lr,Nt=Lr,pt=ke}if(zt.done)return a(z,pt),qt&&Vs(z,vt),dt;if(pt===null){for(;!zt.done;vt++,zt=H.next())zt=$(z,zt.value,J),zt!==null&&(M=d(zt,M,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return qt&&Vs(z,vt),dt}for(pt=l(pt);!zt.done;vt++,zt=H.next())zt=K(pt,z,vt,zt.value,J),zt!==null&&(e&&zt.alternate!==null&&pt.delete(zt.key===null?vt:zt.key),M=d(zt,M,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return e&&pt.forEach(function(FS){return r(z,FS)}),qt&&Vs(z,vt),dt}function Zt(z,M,H,J){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var dt=H.key;M!==null;){if(M.key===dt){if(dt=H.type,dt===O){if(M.tag===7){a(z,M.sibling),J=h(M,H.props.children),J.return=z,z=J;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&xy(dt)===M.type){a(z,M.sibling),J=h(M,H.props),fl(J,H),J.return=z,z=J;break t}a(z,M);break}else r(z,M);M=M.sibling}H.type===O?(J=Os(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=Ju(H.type,H.key,H.props,null,z.mode,J),fl(J,H),J.return=z,z=J)}return v(z);case N:t:{for(dt=H.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),J=h(M,H.children||[]),J.return=z,z=J;break t}else{a(z,M);break}else r(z,M);M=M.sibling}J=Mf(H,z.mode,J),J.return=z,z=J}return v(z);case w:return dt=H._init,H=dt(H._payload),Zt(z,M,H,J)}if(ee(H))return At(z,M,H,J);if(U(H)){if(dt=U(H),typeof dt!="function")throw Error(s(150));return H=dt.call(H),_t(z,M,H,J)}if(typeof H.then=="function")return Zt(z,M,pc(H),J);if(H.$$typeof===Y)return Zt(z,M,nc(z,H),J);gc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),J=h(M,H),J.return=z,z=J):(a(z,M),J=Vf(H,z.mode,J),J.return=z,z=J),v(z)):a(z,M)}return function(z,M,H,J){try{hl=0;var dt=Zt(z,M,H,J);return Pa=null,dt}catch(pt){if(pt===nl||pt===rc)throw pt;var Nt=yn(29,pt,null,z.mode);return Nt.lanes=J,Nt.return=z,Nt}finally{}}}var ka=Vy(!0),My=Vy(!1),Mn=rt(null),li=null;function Ar(e){var r=e.alternate;at(Ie,Ie.current&1),at(Mn,e),li===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(li=e)}function Py(e){if(e.tag===22){if(at(Ie,Ie.current),at(Mn,e),li===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(li=e)}}else Sr()}function Sr(){at(Ie,Ie.current),at(Mn,Mn.current)}function zi(e){ut(Mn),li===e&&(li=null),ut(Ie)}var Ie=rt(0);function yc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function dd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var md={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=vr(l);h.payload=r,a!=null&&(h.callback=a),r=Er(e,h,l),r!==null&&(An(r,e,l),rl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=vr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Er(e,h,l),r!==null&&(An(r,e,l),rl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Tn(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(e,l,a),r!==null&&(An(r,e,a),rl(r,e,a))}};function ky(e,r,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function Ly(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&md.enqueueReplaceState(r,r.state,null)}function zs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var _c=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Uy(e){_c(e)}function By(e){console.error(e)}function zy(e){_c(e)}function vc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function jy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(e,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(e,r)},a}function qy(e){return e=vr(e),e.tag=3,e}function Hy(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){jy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){jy(r,a,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function F1(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&$o(r,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return li===null?Bd():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ff?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),jd(e,l,h)),!1;case 22:return a.flags|=65536,l===Ff?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),jd(e,l,h)),!1}throw Error(s(435,a.tag))}return jd(e,l,h),Bd(),!1}if(qt)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),Jo(Nn(e,a)))):(l!==Lf&&(r=Error(s(423),{cause:l}),Jo(Nn(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=pd(e.stateNode,l,h),Yf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),vl===null?vl=[d]:vl.push(d),he!==4&&(he=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=pd(a.stateNode,l,e),Yf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Hy(h,e,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var Fy=Error(s(461)),Me=!1;function qe(e,r,a,l){r.child=e===null?My(r,null,a,l):ka(r,e.child,a,l)}function Gy(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ls(r),l=Jf(e,r,a,v,d,h),T=$f(),e!==null&&!Me?(td(e,r,h),ji(e,r,h)):(qt&&T&&Pf(r),r.flags|=1,qe(e,r,l,h),r.child)}function Qy(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Yy(e,r,d,l,h)):(e=Ju(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Sd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(v,l)&&e.ref===r.ref)return ji(e,r,h)}return r.flags|=1,e=Mi(d,l),e.ref=r.ref,e.return=r,r.child=e}function Yy(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ko(d,l)&&e.ref===r.ref)if(Me=!1,r.pendingProps=l=d,Sd(e,h))(e.flags&131072)!==0&&(Me=!0);else return r.lanes=e.lanes,ji(e,r,h)}return gd(e,r,a,l,h)}function Ky(e,r,a){var l=r.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Xy(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ic(r,d!==null?d.cachePool:null),d!==null?Yg(r,d):Xf(),Py(r);else return r.lanes=r.childLanes=536870912,Xy(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ic(r,d.cachePool),Yg(r,d),Sr(),r.memoizedState=null):(e!==null&&ic(r,null),Xf(),Sr());return qe(e,r,h,a),r.child}function Xy(e,r,a,l){var h=Hf();return h=h===null?null:{parent:Re._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},e!==null&&ic(r,null),Xf(),Py(r),e!==null&&$o(e,r,l,!0),null}function Ec(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function gd(e,r,a,l,h){return Ls(r),a=Jf(e,r,a,l,void 0,h),l=$f(),e!==null&&!Me?(td(e,r,h),ji(e,r,h)):(qt&&l&&Pf(r),r.flags|=1,qe(e,r,a,h),r.child)}function Wy(e,r,a,l,h,d){return Ls(r),r.updateQueue=null,a=Xg(r,l,a,h),Kg(e),l=$f(),e!==null&&!Me?(td(e,r,d),ji(e,r,d)):(qt&&l&&Pf(r),r.flags|=1,qe(e,r,a,d),r.child)}function Zy(e,r,a,l,h){if(Ls(r),r.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Gf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):Ra,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(dd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&md.enqueueReplaceState(d,d.state,null),al(r,l,d,h),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,C=zs(a,T);d.props=C;var G=d.context,Z=a.contextType;v=Ra,typeof Z=="object"&&Z!==null&&(v=Xe(Z));var $=a.getDerivedStateFromProps;Z=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&Ly(r,d,l,v),_r=!1;var Q=r.memoizedState;d.state=Q,al(r,l,d,h),sl(),G=r.memoizedState,T||Q!==G||_r?(typeof $=="function"&&(dd(r,a,$,l),G=r.memoizedState),(C=_r||ky(r,a,C,l,Q,G,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Qf(e,r),v=r.memoizedProps,Z=zs(a,v),d.props=Z,$=r.pendingProps,Q=d.context,G=a.contextType,C=Ra,typeof G=="object"&&G!==null&&(C=Xe(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||Q!==C)&&Ly(r,d,l,C),_r=!1,Q=r.memoizedState,d.state=Q,al(r,l,d,h),sl();var K=r.memoizedState;v!==$||Q!==K||_r||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof T=="function"&&(dd(r,a,T,l),K=r.memoizedState),(Z=_r||ky(r,a,Z,l,Q,K,C)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ec(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ka(r,e.child,null,h),r.child=ka(r,null,a,h)):qe(e,r,a,h),r.memoizedState=d.state,e=r.child):e=ji(e,r,h),e}function Jy(e,r,a,l){return Zo(),r.flags|=256,qe(e,r,a,l),r.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:Bg()}}function vd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Pn),e}function $y(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(qt){if(h?Ar(r):Sr(),qt){var T=ce,C;if(C=T){t:{for(C=T,T=oi;C.nodeType!==8;){if(!T){T=null;break t}if(C=Fn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},C=yn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,an=r,ce=null,C=!0):C=!1}C||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return nm(T)?r.lanes=32:r.lanes=536870912,null;zi(r)}return T=l.children,l=l.fallback,h?(Sr(),h=r.mode,T=Tc({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=_d(a),h.childLanes=vd(e,v,a),r.memoizedState=yd,l):(Ar(r),Ed(r,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Ar(r),r.flags&=-257,r=Td(e,r,a)):r.memoizedState!==null?(Sr(),r.child=e.child,r.flags|=128,r=null):(Sr(),h=l.fallback,T=r.mode,l=Tc({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ka(r,e.child,null,a),l=r.child,l.memoizedState=_d(a),l.childLanes=vd(e,v,a),r.memoizedState=yd,r=h);else if(Ar(r),nm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,Jo({value:l,source:null,stack:null}),r=Td(e,r,a)}else if(Me||$o(e,r,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,wa(e,l),An(v,e,l),Fy;T.data==="$?"||Bd(),r=Td(e,r,a)}else T.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=C.treeContext,ce=Fn(T.nextSibling),an=r,qt=!0,Ms=null,oi=!1,e!==null&&(xn[Vn++]=Pi,xn[Vn++]=ki,xn[Vn++]=xs,Pi=e.id,ki=e.overflow,xs=r),r=Ed(r,l.children),r.flags|=4096);return r}return h?(Sr(),h=l.fallback,T=r.mode,C=e.child,G=C.sibling,l=Mi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?h=Mi(G,h):(h=Os(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=e.child.memoizedState,T===null?T=_d(a):(C=T.cachePool,C!==null?(G=Re._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Bg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=vd(e,v,a),r.memoizedState=yd,l):(Ar(r),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function Ed(e,r){return r=Tc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Tc(e,r){return e=yn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Td(e,r,a){return ka(r,e.child,null,a),e=Ed(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function t_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Bf(e.return,r,a)}function Ad(e,r,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function e_(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qe(e,r,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t_(e,a,r);else if(e.tag===19)t_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(at(Ie,l),h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&yc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&yc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ad(r,!0,a,null,d);break;case"together":Ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ji(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if($o(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Mi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Sd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function G1(e,r,a){switch(r.tag){case 3:$t(r,r.stateNode.containerInfo),yr(r,Re,e.memoizedState.cache),Zo();break;case 27:case 5:ur(r);break;case 4:$t(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$y(e,r,a):(Ar(r),e=ji(e,r,a),e!==null?e.sibling:null);Ar(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||($o(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return e_(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Ie,Ie.current),l)break;return null;case 22:case 23:return r.lanes=0,Ky(e,r,a);case 24:yr(r,Re,e.memoizedState.cache)}return ji(e,r,a)}function n_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Me=!0;else{if(!Sd(e,a)&&(r.flags&128)===0)return Me=!1,G1(e,r,a);Me=(e.flags&131072)!==0}else Me=!1,qt&&(r.flags&1048576)!==0&&xg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")xf(l)?(e=zs(l,e),r.tag=1,r=Zy(null,r,l,e,a)):(r.tag=0,r=gd(null,r,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===it){r.tag=11,r=Gy(null,r,l,e,a);break t}else if(h===I){r.tag=14,r=Qy(null,r,l,e,a);break t}}throw r=Ae(l)||l,Error(s(306,r,""))}}return r;case 0:return gd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=zs(l,r.pendingProps),Zy(e,r,l,h,a);case 3:t:{if($t(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Qf(e,r),al(r,l,null,a);var v=r.memoizedState;if(l=v.cache,yr(r,Re,l),l!==d.cache&&zf(r,[Re],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Jy(e,r,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),r),Jo(h),r=Jy(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Fn(e.firstChild),an=r,qt=!0,Ms=null,oi=!0,a=My(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===h){r=ji(e,r,a);break t}qe(e,r,l,a)}r=r.child}return r;case 26:return Ec(e,r),e===null?(a=av(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,e=r.pendingProps,l=Pc(St.current).createElement(a),l[Se]=r,l[ge]=e,Fe(l,a,e),fe(l),r.stateNode=l):r.memoizedState=av(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ur(r),e===null&&qt&&(l=r.stateNode=iv(r.type,r.pendingProps,St.current),an=r,oi=!0,h=ce,xr(r.type)?(im=h,ce=Fn(l.firstChild)):ce=h),qe(e,r,r.pendingProps.children,a),Ec(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qt&&((h=l=ce)&&(l=vS(l,r.type,r.pendingProps,oi),l!==null?(r.stateNode=l,an=r,ce=Fn(l.firstChild),oi=!1,h=!0):h=!1),h||Ps(r)),ur(r),h=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,$d(h,d)?l=null:v!==null&&$d(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Jf(e,r,L1,null,null,a),Cl._currentValue=h),Ec(e,r),qe(e,r,l,a),r.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=ES(a,r.pendingProps,oi),a!==null?(r.stateNode=a,an=r,ce=null,e=!0):e=!1),e||Ps(r)),null;case 13:return $y(e,r,a);case 4:return $t(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ka(r,null,l,a):qe(e,r,l,a),r.child;case 11:return Gy(e,r,r.type,r.pendingProps,a);case 7:return qe(e,r,r.pendingProps,a),r.child;case 8:return qe(e,r,r.pendingProps.children,a),r.child;case 12:return qe(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),qe(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ls(r),h=Xe(h),l=l(h),r.flags|=1,qe(e,r,l,a),r.child;case 14:return Qy(e,r,r.type,r.pendingProps,a);case 15:return Yy(e,r,r.type,r.pendingProps,a);case 19:return e_(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Mi(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ky(e,r,a);case 24:return Ls(r),l=Xe(Re),e===null?(h=Hf(),h===null&&(h=te,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Gf(r),yr(r,Re,h)):((e.lanes&a)!==0&&(Qf(e,r),al(r,null,null,a),sl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),yr(r,Re,l)):(l=d.cache,yr(r,Re,l),l!==h.cache&&zf(r,[Re],a,!0))),qe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qi(e){e.flags|=4}function i_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hv(r)){if(r=Mn.current,r!==null&&((Ut&4194048)===Ut?li!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==li))throw il=Ff,zg;e.flags|=8192}}function Ac(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?No():536870912,e.lanes|=r,za|=r)}function dl(e,r){if(!qt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Q1(e,r,a){var l=r.pendingProps;switch(kf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ui(Re),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wo(r)?qi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pg())),ae(r),null;case 26:return a=r.memoizedState,e===null?(qi(r),a!==null?(ae(r),i_(r,a)):(ae(r),r.flags&=-16777217)):a?a!==e.memoizedState?(qi(r),ae(r),i_(r,a)):(ae(r),r.flags&=-16777217):(e.memoizedProps!==l&&qi(r),ae(r),r.flags&=-16777217),null;case 27:Ti(r),a=St.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}e=yt.current,Wo(r)?Vg(r):(e=iv(h,l,a),r.stateNode=e,qi(r))}return ae(r),null;case 5:if(Ti(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(e=yt.current,Wo(r))Vg(r);else{switch(h=Pc(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=r,e[ge]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(Fe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(r)}}return ae(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=St.current,Wo(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(e.nodeValue,a)),e||Ps(r)}else e=Pc(e).createTextNode(l),e[Se]=r,r.stateNode=e}return ae(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Wo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=r}else Zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),h=!1}else h=Pg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(zi(r),r):(zi(r),null)}if(zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),ae(r),null;case 4:return Xn(),e===null&&Kd(r.stateNode.containerInfo),ae(r),null;case 10:return Ui(r.type),ae(r),null;case 19:if(ut(Ie),h=r.memoizedState,h===null)return ae(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=yc(e),d!==null){for(r.flags|=128,dl(h,!1),e=d.updateQueue,r.updateQueue=e,Ac(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Og(a,e),a=a.sibling;return at(Ie,Ie.current&1|2),r.child}e=e.sibling}h.tail!==null&&bn()>wc&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(e=yc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Ac(r,e),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ae(r),null}else 2*bn()-h.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,e=Ie.current,at(Ie,l?e&1|2:e&1),r):(ae(r),null);case 22:case 23:return zi(r),Wf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&ut(Us),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ui(Re),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Y1(e,r){switch(kf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ui(Re),Xn(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ti(r),null;case 13:if(zi(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ut(Ie),null;case 4:return Xn(),null;case 10:return Ui(r.type),null;case 22:case 23:return zi(r),Wf(),e!==null&&ut(Us),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Ui(Re),null;case 25:return null;default:return null}}function r_(e,r){switch(kf(r),r.tag){case 3:Ui(Re),Xn();break;case 26:case 27:case 5:Ti(r);break;case 4:Xn();break;case 13:zi(r);break;case 19:ut(Ie);break;case 10:Ui(r.type);break;case 22:case 23:zi(r),Wf(),e!==null&&ut(Us);break;case 24:Ui(Re)}}function ml(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Jt(r,r.return,T)}}function br(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a,G=T;try{G()}catch(Z){Jt(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){Jt(r,r.return,Z)}}function s_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Qg(r,a)}catch(l){Jt(e,e.return,l)}}}function a_(e,r,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,r,l)}}function pl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,r,h)}}function ui(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,r,h)}else a.current=null}function o_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function bd(e,r,a){try{var l=e.stateNode;mS(l,e.type,a,r),l[ge]=r}catch(h){Jt(e,e.return,h)}}function l_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||l_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Mc));else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Rd(e,r,a),e=e.sibling;e!==null;)Rd(e,r,a),e=e.sibling}function Sc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Sc(e,r,a),e=e.sibling;e!==null;)Sc(e,r,a),e=e.sibling}function u_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Fe(r,l,a),r[Se]=e,r[ge]=a}catch(d){Jt(e,e.return,d)}}var Hi=!1,me=!1,Id=!1,c_=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function K1(e,r){if(e=e.containerInfo,Zd=jc,e=Tg(e),wf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,G=0,Z=0,$=e,Q=null;e:for(;;){for(var K;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||l!==0&&$.nodeType!==3||(C=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(K=$.firstChild)!==null;)Q=$,$=K;for(;;){if($===e)break e;if(Q===a&&++G===h&&(T=v),Q===d&&++Z===l&&(C=v),(K=$.nextSibling)!==null)break;$=Q,Q=$.parentNode}$=K}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:e,selectionRange:a},jc=!1,Pe=r;Pe!==null;)if(r=Pe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Pe=e;else for(;Pe!==null;){switch(r=Pe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=zs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)em(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":em(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Pe=e;break}Pe=r.return}}function h_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(e,a),l&4&&ml(5,a);break;case 1:if(wr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=zs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&s_(a),l&512&&pl(a,a.return);break;case 3:if(wr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qg(e,r)}catch(v){Jt(a,a.return,v)}}break;case 27:r===null&&l&4&&u_(a);case 26:case 5:wr(e,a),r===null&&l&4&&o_(a),l&512&&pl(a,a.return);break;case 12:wr(e,a);break;case 13:wr(e,a),l&4&&m_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=iS.bind(null,a),TS(e,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){r=r!==null&&r.memoizedState!==null||me,h=Hi;var d=me;Hi=l,(me=r)&&!d?Rr(e,a,(a.subtreeFlags&8772)!==0):wr(e,a),Hi=h,me=d}break;case 30:break;default:wr(e,a)}}function f_(e){var r=e.alternate;r!==null&&(e.alternate=null,f_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&dr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,cn=!1;function Fi(e,r,a){for(a=a.child;a!==null;)d_(e,r,a),a=a.sibling}function d_(e,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ui(a,r),Fi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ui(a,r);var l=se,h=cn;xr(a.type)&&(se=a.stateNode,cn=!1),Fi(e,r,a),bl(a.stateNode),se=l,cn=h;break;case 5:me||ui(a,r);case 6:if(l=se,h=cn,se=null,Fi(e,r,a),se=l,cn=h,se!==null)if(cn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Jt(a,r,d)}else try{se.removeChild(a.stateNode)}catch(d){Jt(a,r,d)}break;case 18:se!==null&&(cn?(e=se,ev(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),xl(e)):ev(se,a.stateNode));break;case 4:l=se,h=cn,se=a.stateNode.containerInfo,cn=!0,Fi(e,r,a),se=l,cn=h;break;case 0:case 11:case 14:case 15:me||br(2,a,r),me||br(4,a,r),Fi(e,r,a);break;case 1:me||(ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,r,l)),Fi(e,r,a);break;case 21:Fi(e,r,a);break;case 22:me=(l=me)||a.memoizedState!==null,Fi(e,r,a),me=l;break;default:Fi(e,r,a)}}function m_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(a){Jt(r,r.return,a)}}function X1(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new c_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new c_),r;default:throw Error(s(435,e.tag))}}function Cd(e,r){var a=X1(e);r.forEach(function(l){var h=rS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){se=T.stateNode,cn=!1;break t}break;case 5:se=T.stateNode,cn=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(se===null)throw Error(s(160));d_(d,v,h),se=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p_(r,e),r=r.sibling}var Hn=null;function p_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(r,e),vn(e),l&4&&(br(3,e,e.return),ml(3,e),br(5,e,e.return));break;case 1:_n(r,e),vn(e),l&512&&(me||a===null||ui(a,a.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(_n(r,e),vn(e),l&512&&(me||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var v=uv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=uv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else cv(h,e.type,e.stateNode);else e.stateNode=lv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(h,e.type,e.stateNode):lv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(r,e),vn(e),l&512&&(me||a===null||ui(a,a.return)),a!==null&&l&4&&bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,e),vn(e),l&512&&(me||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(K){Jt(e,e.return,K)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,bd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(_n(r,e),vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){Jt(e,e.return,K)}}break;case 3:if(Uc=null,h=Hn,Hn=kc(r.containerInfo),_n(r,e),Hn=h,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch(K){Jt(e,e.return,K)}Id&&(Id=!1,g_(e));break;case 4:l=Hn,Hn=kc(e.stateNode.containerInfo),_n(r,e),vn(e),Hn=l;break;case 12:_n(r,e),vn(e);break;case 13:_n(r,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Md=bn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cd(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=Hi,Z=me;if(Hi=G||h,me=Z||C,_n(r,e),me=Z,Hi=G,vn(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Hi||me||js(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,Q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(K){Jt(C,C.return,K)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(K){Jt(C,C.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cd(e,a))));break;case 19:_n(r,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cd(e,l)));break;case 30:break;case 21:break;default:_n(r,e),vn(e)}}function vn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(e);Sc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=wd(e);Sc(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,G=wd(e);Rd(e,G,C);break;default:throw Error(s(161))}}catch(Z){Jt(e,e.return,Z)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function g_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;g_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function wr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(e,r.alternate,r),r=r.sibling}function js(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),js(r);break;case 1:ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&a_(r,r.return,a),js(r);break;case 27:bl(r.stateNode);case 26:case 5:ui(r,r.return),js(r);break;case 22:r.memoizedState===null&&js(r);break;case 30:js(r);break;default:js(r)}e=e.sibling}}function Rr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),ml(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Jt(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gg(C[h],T)}catch(G){Jt(l,l.return,G)}}a&&v&64&&s_(d),pl(d,d.return);break;case 27:u_(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&o_(d),pl(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&m_(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),pl(d,d.return);break;case 30:break;default:Rr(h,d,a)}r=r.sibling}}function Dd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function Nd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&tl(e))}function ci(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y_(e,r,a,l),r=r.sibling}function y_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ci(e,r,a,l),h&2048&&ml(9,r);break;case 1:ci(e,r,a,l);break;case 3:ci(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){ci(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(r,r.return,C)}}else ci(e,r,a,l);break;case 13:ci(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ci(e,r,a,l):gl(e,r):d._visibility&2?ci(e,r,a,l):(d._visibility|=2,La(e,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Dd(v,r);break;case 24:ci(e,r,a,l),h&2048&&Nd(r.alternate,r);break;default:ci(e,r,a,l)}}function La(e,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,v=r,T=a,C=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,T,C,h),ml(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?La(d,v,T,C,h):gl(d,v):(Z._visibility|=2,La(d,v,T,C,h)),h&&G&2048&&Dd(v.alternate,v);break;case 24:La(d,v,T,C,h),h&&G&2048&&Nd(v.alternate,v);break;default:La(d,v,T,C,h)}r=r.sibling}}function gl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Dd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Nd(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function Ua(e){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)__(e),e=e.sibling}function __(e){switch(e.tag){case 26:Ua(e),e.flags&yl&&e.memoizedState!==null&&MS(Hn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e);break;case 3:case 4:var r=Hn;Hn=kc(e.stateNode.containerInfo),Ua(e),Hn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,Ua(e),yl=r):Ua(e));break;default:Ua(e)}}function v_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function _l(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,T_(l,e)}v_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)E_(e),e=e.sibling}function E_(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&br(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,bc(e)):_l(e);break;default:_l(e)}}function bc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,T_(l,e)}v_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:br(8,r,r.return),bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,bc(r));break;default:bc(r)}e=e.sibling}}function T_(e,r){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(f_(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var W1={getCacheForType:function(e){var r=Xe(Re),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},Z1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,xt=null,Ut=0,Yt=0,En=null,Ir=!1,Ba=!1,Od=!1,Gi=0,he=0,Cr=0,qs=0,xd=0,Pn=0,za=0,vl=null,hn=null,Vd=!1,Md=0,wc=1/0,Rc=null,Dr=null,He=0,Nr=null,ja=null,qa=0,Pd=0,kd=null,A_=null,El=0,Ld=null;function Tn(){if((Qt&2)!==0&&Ut!==0)return Ut&-Ut;if(W.T!==null){var e=Da;return e!==0?e:Fd()}return hr()}function S_(){Pn===0&&(Pn=(Ut&536870912)===0||qt?Do():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Pn}function An(e,r,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Or(e,Ut,Pn,!1)),Si(e,a),((Qt&2)===0||e!==te)&&(e===te&&((Qt&2)===0&&(qs|=a),he===4&&Or(e,Ut,Pn,!1)),hi(e))}function b_(e,r,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||ms(e,r),h=l?tS(e,r):zd(e,r,!0),d=l;do{if(h===0){Ba&&!l&&Or(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!J1(a)){h=zd(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=e;h=vl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ha(T,v).flags|=256),v=zd(T,v,!1),v!==2){if(Od&&!C){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),Or(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,Pn,!Ir);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Md+300-bn(),10<h)){if(Or(l,r,Pn,!Ir),aa(l,0,!0)!==0)break t;l.timeoutHandle=$_(w_.bind(null,l,a,hn,Rc,Vd,r,Pn,qs,za,Ir,d,2,-0,0),h);break t}w_(l,a,hn,Rc,Vd,r,Pn,qs,za,Ir,d,0,-0,0)}}break}while(!0);hi(e)}function w_(e,r,a,l,h,d,v,T,C,G,Z,$,Q,K){if(e.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:VS},__(r),$=PS(),$!==null)){e.cancelPendingCommit=$(x_.bind(null,e,r,d,a,l,h,v,T,C,Z,1,Q,K)),Or(e,d,v,!G);return}x_(e,r,d,a,l,h,v,T,C)}function J1(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(e,r,a,l){r&=~xd,r&=~qs,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-Ke(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(e,a,r)}function Ic(){return(Qt&6)===0?(Tl(0),!1):!0}function Ud(){if(xt!==null){if(Yt===0)var e=xt.return;else e=xt,Li=ks=null,ed(e),Pa=null,hl=0,e=xt;for(;e!==null;)r_(e.alternate,e),e=e.return;xt=null}}function Ha(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ud(),te=e,xt=a=Mi(e.current,null),Ut=r,Yt=0,En=null,Ir=!1,Ba=ms(e,r),Od=!1,za=Pn=xd=qs=Cr=he=0,hn=vl=null,Vd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-Ke(l),d=1<<h;r|=e[h],l&=~d}return Gi=r,Xu(),a}function R_(e,r){It=null,W.H=mc,r===nl||r===rc?(r=Hg(),Yt=3):r===zg?(r=Hg(),Yt=4):Yt=r===Fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,xt===null&&(he=1,vc(e,Nn(r,e.current)))}function I_(){var e=W.H;return W.H=mc,e===null?mc:e}function C_(){var e=W.A;return W.A=W1,e}function Bd(){he=4,Ir||(Ut&4194048)!==Ut&&Mn.current!==null||(Ba=!0),(Cr&134217727)===0&&(qs&134217727)===0||te===null||Or(te,Ut,Pn,!1)}function zd(e,r,a){var l=Qt;Qt|=2;var h=I_(),d=C_();(te!==e||Ut!==r)&&(Rc=null,Ha(e,r)),r=!1;var v=he;t:do try{if(Yt!==0&&xt!==null){var T=xt,C=En;switch(Yt){case 8:Ud(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var G=Yt;if(Yt=0,En=null,Fa(e,T,C,G),a&&Ba){v=0;break t}break;default:G=Yt,Yt=0,En=null,Fa(e,T,C,G)}}$1(),v=he;break}catch(Z){R_(e,Z)}while(!0);return r&&e.shellSuspendCounter++,Li=ks=null,Qt=l,W.H=h,W.A=d,xt===null&&(te=null,Ut=0,Xu()),v}function $1(){for(;xt!==null;)D_(xt)}function tS(e,r){var a=Qt;Qt|=2;var l=I_(),h=C_();te!==e||Ut!==r?(Rc=null,wc=bn()+500,Ha(e,r)):Ba=ms(e,r);t:do try{if(Yt!==0&&xt!==null){r=xt;var d=En;e:switch(Yt){case 1:Yt=0,En=null,Fa(e,r,d,1);break;case 2:case 9:if(jg(d)){Yt=0,En=null,N_(r);break}r=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),hi(e)},d.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:jg(d)?(Yt=0,En=null,N_(r)):(Yt=0,En=null,Fa(e,r,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var T=xt;if(!v||hv(v)){Yt=0,En=null;var C=T.sibling;if(C!==null)xt=C;else{var G=T.return;G!==null?(xt=G,Cc(G)):xt=null}break e}}Yt=0,En=null,Fa(e,r,d,5);break;case 6:Yt=0,En=null,Fa(e,r,d,6);break;case 8:Ud(),he=6;break t;default:throw Error(s(462))}}eS();break}catch(Z){R_(e,Z)}while(!0);return Li=ks=null,W.H=l,W.A=h,Qt=a,xt!==null?0:(te=null,Ut=0,Xu(),he)}function eS(){for(;xt!==null&&!wo();)D_(xt)}function D_(e){var r=n_(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,r===null?Cc(e):xt=r}function N_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:ed(r);default:r_(a,r),r=xt=Og(r,Gi),r=n_(a,r,Gi)}e.memoizedProps=e.pendingProps,r===null?Cc(e):xt=r}function Fa(e,r,a,l){Li=ks=null,ed(r),Pa=null,hl=0;var h=r.return;try{if(F1(e,h,r,a,Ut)){he=1,vc(e,Nn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;he=1,vc(e,Nn(a,e.current)),xt=null;return}r.flags&32768?(qt||l===1?e=!0:Ba||(Ut&536870912)!==0?e=!1:(Ir=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(r,e)):Cc(r)}function Cc(e){var r=e;do{if((r.flags&32768)!==0){O_(r,Ir);return}e=r.return;var a=Q1(r.alternate,r,Gi);if(a!==null){xt=a;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=e}while(r!==null);he===0&&(he=5)}function O_(e,r){do{var a=Y1(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);he=6,xt=null}function x_(e,r,a,l,h,d,v,T,C){e.cancelPendingCommit=null;do Dc();while(He!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Nf,Oo(e,a,d,v,T,C),e===te&&(xt=te=null,Ut=0),ja=r,Nr=e,qa=a,Pd=d,kd=h,A_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sS(cs,function(){return L_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=lt.p,lt.p=2,v=Qt,Qt|=4;try{K1(e,r,a)}finally{Qt=v,lt.p=h,W.T=l}}He=1,V_(),M_(),P_()}}function V_(){if(He===1){He=0;var e=Nr,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var h=Qt;Qt|=4;try{p_(r,e);var d=Jd,v=Tg(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Eg(T.ownerDocument.documentElement,T)){if(C!==null&&wf(T)){var G=C.start,Z=C.end;if(Z===void 0&&(Z=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Z,T.value.length);else{var $=T.ownerDocument||document,Q=$&&$.defaultView||window;if(Q.getSelection){var K=Q.getSelection(),At=T.textContent.length,_t=Math.min(C.start,At),Zt=C.end===void 0?_t:Math.min(C.end,At);!K.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var z=vg(T,_t),M=vg(T,Zt);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=$.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),_t>Zt?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for($=[],K=T;K=K.parentNode;)K.nodeType===1&&$.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var J=$[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}jc=!!Zd,Jd=Zd=null}finally{Qt=h,lt.p=l,W.T=a}}e.current=r,He=2}}function M_(){if(He===2){He=0;var e=Nr,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var h=Qt;Qt|=4;try{h_(e,r.alternate,r)}finally{Qt=h,lt.p=l,W.T=a}}He=3}}function P_(){if(He===4||He===3){He=0,bu();var e=Nr,r=ja,a=qa,l=A_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,ja=Nr=null,k_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),oa(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,h=lt.p,lt.p=2,W.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=r,lt.p=h}}(qa&3)!==0&&Dc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ld?El++:(El=0,Ld=e):El=0,Tl(0)}}function k_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,tl(r)))}function Dc(e){return V_(),M_(),P_(),L_()}function L_(){if(He!==5)return!1;var e=Nr,r=Pd;Pd=0;var a=oa(qa),l=W.T,h=lt.p;try{lt.p=32>a?32:a,W.T=null,a=kd,kd=null;var d=Nr,v=qa;if(He=0,ja=Nr=null,qa=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,E_(d.current),y_(d,d.current,v,a),Qt=T,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{lt.p=h,W.T=l,k_(e,r)}}function U_(e,r,a){r=Nn(a,r),r=pd(e.stateNode,r,2),e=Er(e,r,2),e!==null&&(Si(e,2),hi(e))}function Jt(e,r,a){if(e.tag===3)U_(e,e,a);else for(;r!==null;){if(r.tag===3){U_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){e=Nn(a,e),a=qy(2),l=Er(r,a,2),l!==null&&(Hy(a,l,r,e),Si(l,2),hi(l));break}}r=r.return}}function jd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Z1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Od=!0,h.add(a),e=nS.bind(null,e,r,a),r.then(e,e))}function nS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ut&a)===a&&(he===4||he===3&&(Ut&62914560)===Ut&&300>bn()-Md?(Qt&2)===0&&Ha(e,0):xd|=a,za===Ut&&(za=0)),hi(e)}function B_(e,r){r===0&&(r=No()),e=wa(e,r),e!==null&&(Si(e,r),hi(e))}function iS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),B_(e,a)}function rS(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),B_(e,a)}function sS(e,r){return ls(e,r)}var Nc=null,Ga=null,qd=!1,Oc=!1,Hd=!1,Hs=0;function hi(e){e!==Ga&&e.next===null&&(Ga===null?Nc=Ga=e:Ga=Ga.next=e),Oc=!0,qd||(qd=!0,oS())}function Tl(e,r){if(!Hd&&Oc){Hd=!0;do for(var a=!1,l=Nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ke(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(l,d))}else d=Ut,d=aa(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,H_(l,d));l=l.next}while(a);Hd=!1}}function aS(){z_()}function z_(){Oc=qd=!1;var e=0;Hs!==0&&(pS()&&(e=Hs),Hs=0);for(var r=bn(),a=null,l=Nc;l!==null;){var h=l.next,d=j_(l,r);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Oc=!0)),l=h}Tl(e)}function j_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ke(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Co(T,r)):C<=r&&(e.expiredLanes|=T),d&=~T}if(r=te,a=Ut,a=aa(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ms(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&us(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=cs;break;case 268435456:a=sa;break;default:a=cs}return l=q_.bind(null,e),a=ls(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&us(l),e.callbackPriority=2,e.callbackNode=null,2}function q_(e,r){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var l=Ut;return l=aa(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(b_(e,l,r),j_(e,bn()),e.callbackNode!=null&&e.callbackNode===a?q_.bind(null,e):null)}function H_(e,r){if(Dc())return null;b_(e,r,!0)}function oS(){yS(function(){(Qt&6)!==0?ls(Ro,aS):z_()})}function Fd(){return Hs===0&&(Hs=Do()),Hs}function F_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function G_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function lS(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=F_((h[ge]||null).action),v=l.submitter;v&&(r=(r=v[ge]||null)?F_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ma("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=v?G_(h,v):new FormData(h);cd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?G_(h,v):new FormData(h),cd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Gd=0;Gd<Df.length;Gd++){var Qd=Df[Gd],uS=Qd.toLowerCase(),cS=Qd[0].toUpperCase()+Qd.slice(1);qn(uS,"on"+cS)}qn(bg,"onAnimationEnd"),qn(wg,"onAnimationIteration"),qn(Rg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(I1,"onTransitionRun"),qn(C1,"onTransitionStart"),qn(D1,"onTransitionCancel"),qn(Ig,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Q_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,G=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(Z){_c(Z)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,G=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(Z){_c(Z)}h.currentTarget=null,d=C}}}}function Vt(e,r){var a=r[Vo];a===void 0&&(a=r[Vo]=new Set);var l=e+"__bubble";a.has(l)||(Y_(r,e,2,!1),a.add(l))}function Yd(e,r,a){var l=0;r&&(l|=4),Y_(a,e,l,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[xc]){e[xc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(hS.has(a)||Yd(a,!1,e),Yd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[xc]||(r[xc]=!0,Yd("selectionchange",!1,r))}}function Y_(e,r,a,l){switch(yv(r)){case 2:var h=US;break;case 8:h=BS;break;default:h=lm}a=h.bind(null,r,a,e),h=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function Xd(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Mu(function(){var G=d,Z=In(a),$=[];t:{var Q=Cg.get(e);if(Q!==void 0){var K=ma,At=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":K=Ea;break;case"focusin":At="focus",K=ya;break;case"focusout":At="blur",K=ya;break;case"beforeblur":case"afterblur":K=ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qu;break;case bg:case wg:case Rg:K=_a;break;case Ig:K=Fu;break;case"scroll":case"scrollend":K=Pu;break;case"wheel":K=Ta;break;case"copy":case"cut":case"paste":K=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qo;break;case"toggle":case"beforetoggle":K=Qu}var _t=(r&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),z=_t?Q!==null?Q+"Capture":null:Q;_t=[];for(var M=G,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=As(M,z),J!=null&&_t.push(Sl(M,J,H))),Zt)break;M=M.return}0<_t.length&&(Q=new K(Q,At,null,a,Z),$.push({event:Q,listeners:_t}))}}if((r&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Q&&a!==Ci&&(At=a.relatedTarget||a.fromElement)&&(bi(At)||At[wn]))break t;if((K||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,K?(At=a.relatedTarget||a.toElement,K=G,At=At?bi(At):null,At!==null&&(Zt=u(At),_t=At.tag,At!==Zt||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(K=null,At=G),K!==At)){if(_t=Dn,J="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qo,J="onPointerLeave",z="onPointerEnter",M="pointer"),Zt=K==null?Q:Jn(K),H=At==null?Q:Jn(At),Q=new _t(J,M+"leave",K,a,Z),Q.target=Zt,Q.relatedTarget=H,J=null,bi(Z)===G&&(_t=new _t(z,M+"enter",At,a,Z),_t.target=H,_t.relatedTarget=Zt,J=_t),Zt=J,K&&At)e:{for(_t=K,z=At,M=0,H=_t;H;H=Qa(H))M++;for(H=0,J=z;J;J=Qa(J))H++;for(;0<M-H;)_t=Qa(_t),M--;for(;0<H-M;)z=Qa(z),H--;for(;M--;){if(_t===z||z!==null&&_t===z.alternate)break e;_t=Qa(_t),z=Qa(z)}_t=null}else _t=null;K!==null&&K_($,Q,K,_t,!1),At!==null&&Zt!==null&&K_($,Zt,At,_t,!0)}}t:{if(Q=G?Jn(G):window,K=Q.nodeName&&Q.nodeName.toLowerCase(),K==="select"||K==="input"&&Q.type==="file")var dt=dg;else if(we(Q))if(mg)dt=b1;else{dt=A1;var Nt=T1}else K=Q.nodeName,!K||K.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Bo(G.elementType)&&(dt=dg):dt=S1;if(dt&&(dt=dt(e,G))){Vi($,dt,a,Z);break t}Nt&&Nt(e,Q,G),e==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&pr(Q,"number",Q.value)}switch(Nt=G?Jn(G):window,e){case"focusin":(we(Nt)||Nt.contentEditable==="true")&&(Aa=Nt,Rf=G,Xo=null);break;case"focusout":Xo=Rf=Aa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Ag($,a,Z);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":Ag($,a,Z)}var pt;if(si)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?X(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(pt=jo()):(ei=Z,gr="value"in ei?ei.value:ei.textContent,kt=!0)),Nt=Vc(G,vt),0<Nt.length&&(vt=new Fo(vt,e,null,a,Z),$.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=ot(a),pt!==null&&(vt.data=pt)))),(pt=y?be(e,a):Lt(e,a))&&(vt=Vc(G,"onBeforeInput"),0<vt.length&&(Nt=new Fo("onBeforeInput","beforeinput",null,a,Z),$.push({event:Nt,listeners:vt}),Nt.data=pt)),lS($,e,G,a,Z)}Q_($,r)})}function Sl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Vc(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(e,a),h!=null&&l.unshift(Sl(e,h,d)),h=As(e,r),h!=null&&l.push(Sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function K_(e,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,G=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||G===null||(C=G,h?(G=As(a,d),G!=null&&v.unshift(Sl(a,G,C))):h||(G=As(a,d),G!=null&&v.push(Sl(a,G,C)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var fS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function X_(e){return(typeof e=="string"?e:""+e).replace(fS,`
`).replace(dS,"")}function W_(e,r){return r=X_(r),X_(e)===r}function Mc(){}function Wt(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(r!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Wt(e,r,"name",h.name,h,null),Wt(e,r,"formEncType",h.formEncType,h,null),Wt(e,r,"formMethod",h.formMethod,h,null),Wt(e,r,"formTarget",h.formTarget,h,null)):(Wt(e,r,"encType",h.encType,h,null),Wt(e,r,"method",h.method,h,null),Wt(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Mc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),mr(e,"popover",l);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vf.get(a)||a,mr(e,a,l))}}function Wd(e,r,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[ge]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):mr(e,a,l)}}}function Fe(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,d,v,a,null)}}h&&Wt(e,r,"srcSet",a.srcSet,a,null),l&&Wt(e,r,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":C=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Wt(e,r,l,Z,a,null)}}vs(e,d,T,C,G,v,h,!1),fa(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(e,r,h,T,a,null)}r=d,a=v,e.multiple=!!l,r!=null?Ii(e,!!l,r,!1):a!=null&&Ii(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,r,v,T,a,null)}Es(e,l,h,d),fa(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,r,C,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Al.length;l++)Vt(Al[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,G,l,a,null)}return;default:if(Bo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Wd(e,r,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,r,T,l,a,null))}function mS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,G=null,Z=null;for(K in a){var $=a[K];if(a.hasOwnProperty(K)&&$!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(K)||Wt(e,r,K,null,l,$)}}for(var Q in l){var K=l[Q];if($=a[Q],l.hasOwnProperty(Q)&&(K!=null||$!=null))switch(Q){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==$&&Wt(e,r,Q,K,l,$)}}pn(e,v,T,C,G,Z,d,h);return;case"select":K=v=T=Q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||Wt(e,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Wt(e,r,h,d,l,C)}r=T,a=v,l=K,Q!=null?Ii(e,!!a,Q,!1):!!l!=!!a&&(r!=null?Ii(e,!!a,r,!0):Ii(e,!!a,a?[]:"",!1));return;case"textarea":K=Q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,r,v,h,l,d)}Kt(e,Q,K);return;case"option":for(var At in a)if(Q=a[At],a.hasOwnProperty(At)&&Q!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Wt(e,r,At,null,l,Q)}for(C in l)if(Q=l[C],K=a[C],l.hasOwnProperty(C)&&Q!==K&&(Q!=null||K!=null))switch(C){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Wt(e,r,C,Q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)Q=a[_t],a.hasOwnProperty(_t)&&Q!=null&&!l.hasOwnProperty(_t)&&Wt(e,r,_t,null,l,Q);for(G in l)if(Q=l[G],K=a[G],l.hasOwnProperty(G)&&Q!==K&&(Q!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Wt(e,r,G,Q,l,K)}return;default:if(Bo(r)){for(var Zt in a)Q=a[Zt],a.hasOwnProperty(Zt)&&Q!==void 0&&!l.hasOwnProperty(Zt)&&Wd(e,r,Zt,void 0,l,Q);for(Z in l)Q=l[Z],K=a[Z],!l.hasOwnProperty(Z)||Q===K||Q===void 0&&K===void 0||Wd(e,r,Z,Q,l,K);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&Wt(e,r,z,null,l,Q);for($ in l)Q=l[$],K=a[$],!l.hasOwnProperty($)||Q===K||Q==null&&K==null||Wt(e,r,$,Q,l,K)}var Zd=null,Jd=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function Z_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function $d(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function pS(){var e=window.event;return e&&e.type==="popstate"?e===tm?!1:(tm=e,!0):(tm=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(_S)}:$_;function _S(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function ev(e,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[ps]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),xl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(r)}function em(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vS(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ps])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function ES(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function nm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function TS(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var im=null;function nv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function iv(e,r,a){switch(r=Pc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function bl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);dr(e)}var kn=new Map,rv=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=lt.d;lt.d={f:AS,r:SS,D:bS,C:wS,L:RS,m:IS,X:DS,S:CS,M:NS};function AS(){var e=Qi.f(),r=Ic();return e||r}function SS(e){var r=Zn(e);r!==null&&r.tag===5&&r.type==="form"?by(r):Qi.r(e)}var Ya=typeof document>"u"?null:document;function sv(e,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=ye(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Fe(r,"link",e),fe(r),l.head.appendChild(r)))}}function bS(e){Qi.D(e),sv("dns-prefetch",e,null)}function wS(e,r){Qi.C(e,r),sv("preconnect",e,r)}function RS(e,r,a){Qi.L(e,r,a);var l=Ya;if(l&&e&&r){var h='link[rel="preload"][as="'+ye(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(r){case"style":d=Ka(e);break;case"script":d=Xa(e)}kn.has(d)||(e=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),kn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(wl(d))||r==="script"&&l.querySelector(Rl(d))||(r=l.createElement("link"),Fe(r,"link",e),fe(r),l.head.appendChild(r)))}}function IS(e,r){Qi.m(e,r);var a=Ya;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!kn.has(d)&&(e=E({rel:"modulepreload",href:e},r),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Fe(l,"link",e),fe(l),a.head.appendChild(l)}}}function CS(e,r,a){Qi.S(e,r,a);var l=Ya;if(l&&e){var h=nn(l).hoistableStyles,d=Ka(e);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(wl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":r},a),(a=kn.get(d))&&rm(e,a);var C=v=l.createElement("link");fe(C),Fe(C,"link",e),C._p=new Promise(function(G,Z){C.onload=G,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function DS(e,r){Qi.X(e,r);var a=Ya;if(a&&e){var l=nn(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=E({src:e,async:!0},r),(r=kn.get(h))&&sm(e,r),d=a.createElement("script"),fe(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function NS(e,r){Qi.M(e,r);var a=Ya;if(a&&e){var l=nn(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=E({src:e,async:!0,type:"module"},r),(r=kn.get(h))&&sm(e,r),d=a.createElement("script"),fe(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function av(e,r,a,l){var h=(h=St.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=nn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=nn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(wl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||OS(h,e,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=nn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+ye(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function ov(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function OS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Fe(r,"link",a),fe(r),e.head.appendChild(r))}function Xa(e){return'[src="'+ye(e)+'"]'}function Rl(e){return"script[async]"+e}function lv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return r.instance=l,fe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),Fe(l,"style",h),Lc(l,a.precedence,e),r.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(wl(h));if(d)return r.state.loading|=4,r.instance=d,fe(d),d;l=ov(a),(h=kn.get(h))&&rm(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Fe(d,"link",l),r.state.loading|=4,Lc(d,a.precedence,e),r.instance=d;case"script":return d=Xa(a.src),(h=e.querySelector(Rl(d)))?(r.instance=h,fe(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),sm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Fe(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,e));return r.instance}function Lc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function rm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function sm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Uc=null;function uv(e,r,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function cv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function xS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Il=null;function VS(){}function MS(e,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=e.querySelector(wl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Bc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,fe(d);return}d=e.ownerDocument||e,a=ov(a),(h=kn.get(h))&&rm(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Fe(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function PS(){if(Il===null)throw Error(s(475));var e=Il;return e.stylesheets&&e.count===0&&am(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&am(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function am(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,r.forEach(kS,e),zc=null,Bc.call(e))}function kS(e,r){if(!(r.state.loading&4)){var a=zc.get(e);if(a)var l=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Cl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function LS(e,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function fv(e,r,a,l,h,d,v,T,C,G,Z,$){return e=new LS(e,r,a,v,T,C,G,$),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),e.current=d,d.stateNode=e,r=jf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Gf(d),e}function dv(e){return e?(e=Ra,e):Ra}function mv(e,r,a,l,h,d){h=dv(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,r),a!==null&&(An(a,e,r),rl(a,e,r))}function pv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function om(e,r){pv(e,r),(e=e.alternate)&&pv(e,r)}function gv(e){if(e.tag===13){var r=wa(e,67108864);r!==null&&An(r,e,67108864),om(e,67108864)}}var jc=!0;function US(e,r,a,l){var h=W.T;W.T=null;var d=lt.p;try{lt.p=2,lm(e,r,a,l)}finally{lt.p=d,W.T=h}}function BS(e,r,a,l){var h=W.T;W.T=null;var d=lt.p;try{lt.p=8,lm(e,r,a,l)}finally{lt.p=d,W.T=h}}function lm(e,r,a,l){if(jc){var h=um(l);if(h===null)Xd(e,r,l,qc,a),_v(e,l);else if(jS(h,e,r,a,l))l.stopPropagation();else if(_v(e,l),r&4&&-1<zS.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Ke(v);T.entanglements[1]|=C,v&=~C}hi(d),(Qt&6)===0&&(wc=bn()+500,Tl(0))}}break;case 13:T=wa(d,2),T!==null&&An(T,d,2),Ic(),om(d,2)}if(d=um(l),d===null&&Xd(e,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(e,r,l,null,a)}}function um(e){return e=In(e),cm(e)}var qc=null;function cm(e){if(qc=null,e=bi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=f(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return qc=e,null}function yv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(df()){case Ro:return 2;case ra:return 8;case cs:case mf:return 32;case sa:return 268435456;default:return 32}default:return 32}}var hm=!1,Vr=null,Mr=null,Pr=null,Dl=new Map,Nl=new Map,kr=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(e,r){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Ol(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&gv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function jS(e,r,a,l,h){switch(r){case"focusin":return Vr=Ol(Vr,e,r,a,l,h),!0;case"dragenter":return Mr=Ol(Mr,e,r,a,l,h),!0;case"mouseover":return Pr=Ol(Pr,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,e,r,a,l,h)),!0}return!1}function vv(e){var r=bi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){e.blockedOn=r,Iu(e.priority,function(){if(a.tag===13){var l=Tn();l=cr(l);var h=wa(a,l);h!==null&&An(h,a,l),om(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=um(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return r=Zn(a),r!==null&&gv(r),e.blockedOn=a,!1;r.shift()}return!0}function Ev(e,r,a){Hc(e)&&a.delete(r)}function qS(){hm=!1,Vr!==null&&Hc(Vr)&&(Vr=null),Mr!==null&&Hc(Mr)&&(Mr=null),Pr!==null&&Hc(Pr)&&(Pr=null),Dl.forEach(Ev),Nl.forEach(Ev)}function Fc(e,r){e.blockedOn===r&&(e.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qS)))}var Gc=null;function Tv(e){Gc!==e&&(Gc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(r,3),r-=3,cd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(e){function r(C){return Fc(C,e)}Vr!==null&&Fc(Vr,e),Mr!==null&&Fc(Mr,e),Pr!==null&&Fc(Pr,e),Dl.forEach(r),Nl.forEach(r);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ge]||null;if(typeof d=="function")v||Tv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ge]||null)T=v.formAction;else if(cm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Tv(a)}}}function fm(e){this._internalRoot=e}Qc.prototype.render=fm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();mv(a,l,e,r,null,null)},Qc.prototype.unmount=fm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;mv(e.current,2,null,e,null,null),Ic(),r[wn]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var r=hr();e={blockedOn:null,target:e,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,e),a===0&&vv(e)}};var Av=t.version;if(Av!=="19.1.0")throw Error(s(527,Av,"19.1.0"));lt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var HS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ue=Yc.inject(HS),Gt=Yc}catch{}}return Ml.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=Uy,d=By,v=zy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=fv(e,1,!1,null,null,a,l,h,d,v,T,null),e[wn]=r.current,Kd(e),new fm(r)},Ml.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Uy,v=By,T=zy,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=fv(e,1,!0,r,a??null,l,h,d,v,T,C,G),r.context=dv(null),a=r.current,l=Tn(),l=cr(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,r.current.lanes=a,Si(r,a),hi(r),e[wn]=r.current,Kd(e),new Qc(r)},Ml.version="19.1.0",Ml}var xv;function tb(){if(xv)return pm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pm.exports=$S(),pm.exports}var eb=tb(),Pl={},Vv;function nb(){if(Vv)return Pl;Vv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=f,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const O=new u,B=A.length;if(B<2)return O;const L=N?.decode||E;let P=0;do{const F=A.indexOf("=",P);if(F===-1)break;const Y=A.indexOf(";",P),it=Y===-1?B:Y;if(F>it){P=A.lastIndexOf(";",F-1)+1;continue}const st=m(A,P,F),ct=p(A,F,st),I=A.slice(st,ct);if(O[I]===void 0){let w=m(A,F+1,it),R=p(A,it,w);const x=L(A.slice(w,R));O[I]=x}P=it+1}while(P<B);return O}function m(A,N,O){do{const B=A.charCodeAt(N);if(B!==32&&B!==9)return N}while(++N<O);return O}function p(A,N,O){for(;N>O;){const B=A.charCodeAt(--N);if(B!==32&&B!==9)return N+1}return O}function g(A,N,O){const B=O?.encode||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const L=B(N);if(!t.test(L))throw new TypeError(`argument val is invalid: ${N}`);let P=A+"="+L;if(!O)return P;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);P+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);P+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);P+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);P+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(P+="; HttpOnly"),O.secure&&(P+="; Secure"),O.partitioned&&(P+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return P}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return Pl}nb();var Mv="popstate";function ib(i={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return xm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return sb(t,n,null,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function _i(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rb(){return Math.random().toString(36).substring(2,10)}function Pv(i,t){return{usr:i.state,key:i.key,idx:t}}function xm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?po(t):t,state:n,key:t&&t.key||s||rb()}}function Xl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function po(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function sb(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let L=E(),P=L==null?null:L-g;g=L,p&&p({action:m,location:B.location,delta:P})}function A(L,P){m="PUSH";let F=xm(B.location,L,P);g=E()+1;let Y=Pv(F,g),it=B.createHref(F);try{f.pushState(Y,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(it)}u&&p&&p({action:m,location:B.location,delta:1})}function N(L,P){m="REPLACE";let F=xm(B.location,L,P);g=E();let Y=Pv(F,g),it=B.createHref(F);f.replaceState(Y,"",it),u&&p&&p({action:m,location:B.location,delta:0})}function O(L){return ab(L)}let B={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,S),p=L,()=>{o.removeEventListener(Mv,S),p=null}},createHref(L){return t(o,L)},createURL:O,encodeLocation(L){let P=O(L);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:A,replace:N,go(L){return f.go(L)}};return B}function ab(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),oe(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Xl(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yE(i,t,n="/"){return ob(i,t,n,!1)}function ob(i,t,n,s){let o=typeof t=="string"?po(t):t,u=$i(o.pathname||"/",n);if(u==null)return null;let f=_E(i);lb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=vb(u);m=yb(f[p],g,s)}return m}function _E(i,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(oe(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(oe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_E(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:pb(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of vE(u.path))o(u,f,m)}),t}function vE(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function lb(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:gb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ub=/^:[\w-]+$/,cb=3,hb=2,fb=1,db=10,mb=-2,kv=i=>i==="*";function pb(i,t){let n=i.split("/"),s=n.length;return n.some(kv)&&(s+=mb),t&&(s+=hb),n.filter(o=>!kv(o)).reduce((o,u)=>o+(ub.test(u)?cb:u===""?fb:db),s)}function gb(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function yb(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Xi([u,S.pathname]),pathnameBase:Sb(Xi([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Xi([u,S.pathnameBase]))}return f}function ph(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=_b(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let O=m[A]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=m[A];return S&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function _b(i,t=!1,n=!0){_i(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function vb(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function $i(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Eb(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?po(i):i;return{pathname:n?n.startsWith("/")?n:Tb(n,t):t,search:bb(s),hash:wb(o)}}function Tb(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ab(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function EE(i){let t=Ab(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function TE(i,t,n,s=!1){let o;typeof i=="string"?o=po(i):(o={...i},oe(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?t[S]:"/"}let p=Eb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xi=i=>i.join("/").replace(/\/\/+/g,"/"),Sb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Rb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var Ib=["GET",...AE];new Set(Ib);var go=q.createContext(null);go.displayName="DataRouter";var Uh=q.createContext(null);Uh.displayName="DataRouterState";var SE=q.createContext({isTransitioning:!1});SE.displayName="ViewTransition";var Cb=q.createContext(new Map);Cb.displayName="Fetchers";var Db=q.createContext(null);Db.displayName="Await";var Ei=q.createContext(null);Ei.displayName="Navigation";var au=q.createContext(null);au.displayName="Location";var sr=q.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var fp=q.createContext(null);fp.displayName="RouteError";function Nb(i,{relative:t}={}){oe(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Ei),{hash:o,pathname:u,search:f}=uu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ou(){return q.useContext(au)!=null}function ta(){return oe(ou(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(au).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(i){q.useContext(Ei).static||q.useLayoutEffect(i)}function lu(){let{isDataRoute:i}=q.useContext(sr);return i?Hb():Ob()}function Ob(){oe(ou(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(go),{basename:t,navigator:n}=q.useContext(Ei),{matches:s}=q.useContext(sr),{pathname:o}=ta(),u=JSON.stringify(EE(s)),f=q.useRef(!1);return wE(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(_i(f.current,bE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=TE(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Xi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,i])}q.createContext(null);function uu(i,{relative:t}={}){let{matches:n}=q.useContext(sr),{pathname:s}=ta(),o=JSON.stringify(EE(n));return q.useMemo(()=>TE(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function xb(i,t){return RE(i,t)}function RE(i,t,n,s){oe(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Ei),{matches:u}=q.useContext(sr),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let P=E&&E.path||"";IE(p,!E||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let S=ta(),A;if(t){let P=typeof t=="string"?po(t):t;oe(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),A=P}else A=S;let N=A.pathname||"/",O=N;if(g!=="/"){let P=g.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let B=yE(i,{pathname:O});_i(E||B!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_i(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Lb(B&&B.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Xi([g,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Xi([g,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,s);return t&&L?q.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},L):L}function Vb(){let i=qb(),t=Rb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var Mb=q.createElement(Vb,null),Pb=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?q.createElement(sr.Provider,{value:this.props.routeContext},q.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kb({routeContext:i,match:t,children:n}){let s=q.useContext(go);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(sr.Provider,{value:i},n)}function Lb(i,t=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,A=!1,N=null,O=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||Mb,f&&(m<0&&E===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=g.route.hydrateFallbackElement||null)));let B=t.concat(o.slice(0,E+1)),L=()=>{let P;return S?P=N:A?P=O:g.route.Component?P=q.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,q.createElement(kb,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(Pb,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:L(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):L()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(i){let t=q.useContext(go);return oe(t,dp(i)),t}function Bb(i){let t=q.useContext(Uh);return oe(t,dp(i)),t}function zb(i){let t=q.useContext(sr);return oe(t,dp(i)),t}function mp(i){let t=zb(i),n=t.matches[t.matches.length-1];return oe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jb(){return mp("useRouteId")}function qb(){let i=q.useContext(fp),t=Bb("useRouteError"),n=mp("useRouteError");return i!==void 0?i:t.errors?.[n]}function Hb(){let{router:i}=Ub("useNavigate"),t=mp("useNavigate"),n=q.useRef(!1);return wE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{_i(n.current,bE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Lv={};function IE(i,t,n){!t&&!Lv[i]&&(Lv[i]=!0,_i(!1,n))}q.memo(Fb);function Fb({routes:i,future:t,state:n}){return RE(i,void 0,n,t)}function eh(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gb({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){oe(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:A="default"}=n,N=q.useMemo(()=>{let O=$i(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:S,key:A},navigationType:s}},[f,p,g,E,S,A,s]);return _i(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:q.createElement(Ei.Provider,{value:m},q.createElement(au.Provider,{children:t,value:N}))}function Qb({children:i,location:t}){return xb(Vm(i),t)}function Vm(i,t=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...t,o];if(s.type===q.Fragment){n.push.apply(n,Vm(s.props.children,u));return}oe(s.type===eh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Bh(i){return i!=null&&typeof i.tagName=="string"}function Yb(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function Kb(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function Xb(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function Wb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Zb(i,t){return i.button===0&&(!t||t==="_self")&&!Wb(i)}var Kc=null;function Jb(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var $b=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(i){return i!=null&&!$b.has(i)?(_i(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):i}function tw(i,t){let n,s,o,u,f;if(Kb(i)){let m=i.getAttribute("action");s=m?$i(m,t):null,n=i.getAttribute("method")||nh,o=Em(i.getAttribute("enctype"))||ih,u=new FormData(i)}else if(Yb(i)||Xb(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?$i(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||nh,o=Em(i.getAttribute("formenctype"))||Em(m.getAttribute("enctype"))||ih,u=new FormData(m,i),!Jb()){let{name:g,type:E,value:S}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function pp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function ew(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iw(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await ew(u,n);return f.links?f.links():[]}return[]}));return ow(s.flat(1).filter(nw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(i,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function rw(i,t,{includeHydrateFallback:n}={}){return sw(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sw(i){return[...new Set(i)]}function aw(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function ow(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(aw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lw=new Set([100,101,204,205]);function uw(i,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":t&&$i(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function CE(){let i=q.useContext(go);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cw(){let i=q.useContext(Uh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=q.createContext(void 0);gp.displayName="FrameworkContext";function DE(){let i=q.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function hw(i,t){let n=q.useContext(gp),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=t,A=q.useRef(null);q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let B=P=>{P.forEach(F=>{f(F.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),q.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let N=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,N),onBlur:kl(p,O),onMouseEnter:kl(g,N),onMouseLeave:kl(E,O),onTouchStart:kl(S,N)}]:[!1,A,{}]}function kl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function fw({page:i,...t}){let{router:n}=CE(),s=q.useMemo(()=>yE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(mw,{page:i,matches:s,...t}):null}function dw(i){let{manifest:t,routeModules:n}=DE(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return iw(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),s}function mw({page:i,matches:t,...n}){let s=ta(),{manifest:o,routeModules:u}=DE(),{basename:f}=CE(),{loaderData:m,matches:p}=cw(),g=q.useMemo(()=>Uv(i,t,p,o,s,"data"),[i,t,p,o,s]),E=q.useMemo(()=>Uv(i,t,p,o,s,"assets"),[i,t,p,o,s]),S=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,B=!1;if(t.forEach(P=>{let F=o.routes[P.route.id];!F||!F.hasLoader||(!g.some(Y=>Y.route.id===P.route.id)&&P.route.id in m&&u[P.route.id]?.shouldRevalidate||F.hasClientLoader?B=!0:O.add(P.route.id))}),O.size===0)return[];let L=uw(i,f);return B&&O.size>0&&L.searchParams.set("_routes",t.filter(P=>O.has(P.route.id)).map(P=>P.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,t,i,u]),A=q.useMemo(()=>rw(E,o),[E,o]),N=dw(E);return q.createElement(q.Fragment,null,S.map(O=>q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>q.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),N.map(({key:O,link:B})=>q.createElement("link",{key:O,...B})))}function pw(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.6.3")}catch{}function gw({basename:i,children:t,window:n}){let s=q.useRef();s.current==null&&(s.current=ib({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(Gb,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xE=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...A},N){let{basename:O}=q.useContext(Ei),B=typeof g=="string"&&OE.test(g),L,P=!1;if(typeof g=="string"&&B&&(L=g,NE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=$i(x.pathname,O);x.origin===R.origin&&k!=null?g=k+x.search+x.hash:P=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Nb(g,{relative:o}),[Y,it,st]=hw(s,A),ct=Ew(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function I(R){t&&t(R),R.defaultPrevented||ct(R)}let w=q.createElement("a",{...A,...st,href:L||F,onClick:P||u?t:I,ref:pw(N,it),target:p,"data-discover":!B&&n==="render"?"true":void 0});return Y&&!B?q.createElement(q.Fragment,null,w,q.createElement(fw,{page:F})):w});xE.displayName="Link";var yw=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=uu(f,{relative:g.relative}),A=ta(),N=q.useContext(Uh),{navigator:O,basename:B}=q.useContext(Ei),L=N!=null&&ww(S)&&m===!0,P=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,F=A.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(F=F.toLowerCase(),Y=Y?Y.toLowerCase():null,P=P.toLowerCase()),Y&&B&&(Y=$i(Y,B)||Y);const it=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let st=F===P||!o&&F.startsWith(P)&&F.charAt(it)==="/",ct=Y!=null&&(Y===P||!o&&Y.startsWith(P)&&Y.charAt(P.length)==="/"),I={isActive:st,isPending:ct,isTransitioning:L},w=st?t:void 0,R;typeof s=="function"?R=s(I):R=[s,st?"active":null,ct?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(I):u;return q.createElement(xE,{...g,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(I):p)});yw.displayName="NavLink";var _w=q.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...A},N)=>{let O=Sw(),B=bw(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",P=typeof m=="string"&&OE.test(m),F=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let it=Y.nativeEvent.submitter,st=it?.getAttribute("formmethod")||f;O(it||Y.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:N,method:L,action:B,onSubmit:s?p:F,...A,"data-discover":!P&&i==="render"?"true":void 0})});_w.displayName="Form";function vw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(i){let t=q.useContext(go);return oe(t,vw(i)),t}function Ew(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=lu(),p=ta(),g=uu(i,{relative:u});return q.useCallback(E=>{if(Zb(E,t)){E.preventDefault();let S=n!==void 0?n:Xl(p)===Xl(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,i,o,u,f])}var Tw=0,Aw=()=>`__${String(++Tw)}__`;function Sw(){let{router:i}=VE("useSubmit"),{basename:t}=q.useContext(Ei),n=jb();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=tw(s,t);if(o.navigate===!1){let E=o.fetcherKey||Aw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function bw(i,{relative:t}={}){let{basename:n}=q.useContext(Ei),s=q.useContext(sr);oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(i||".",{relative:t})},f=ta();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Xl(u)}function ww(i,t={}){let n=q.useContext(SE);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VE("useViewTransitionState"),o=uu(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=$i(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}[...lw];const Rw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",Iw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASdSURBVHgB3ZvBa9RAFMZfrYqwFVuQ9qAiFVER9eBB9GBBBLGX3v0jPXuqFL1URBFaxHpQtBWxB1u0C7IFcX5Nxk7fziSZbHaTzQePbSazs/PlvXnvzct0QvyYNTJvZM5IR4aDrpE1I58lHieMLEgyT40dI7tGNo180zcn1DXk7gYGGgZ6Rp5KPFDG3QL9eKjL6ecBjjk3Z4wsyujIgn0ph5MF+6HAx0ambcOkc+ORJKYyKkD2nSTmF4vfRk4bOVOgLxwvGvnKb1qTXpL+tbotyRrbkfKaqAPW/1xS7fBZhv15I5fVzXUjq5LY/l8ZLzBn66zmnHYUug3h65KsX4tPRt7K+AONou0ptxGnNa06lgkTTcW6up6D8Ixq3Jb2QDvEzjFpN3q64bgMDkLZTCr8jUfHszfSUgYhDLlrRq6KP35DfEuS0NaVhqAsYbR5X7LzbB4C8RBP+ULKJRiVo8wahuxDKb6p6KT9p6UBiCXM5NGsNmHMl/i9ln5qEyb3XZDRpq5exJr0TenX7IYkRHX6eSPtb8H3rqV9a0Oshs+rawI7WZkv1+behmq7IjVrOYYwzsedrN3AZwHS7sPAtGekRsQQ1hP9kf+Vg8C/mTPOSBFDWJti0djazRlnpIghrNdp0bA0lTPOSBFDeEdd48CKaGs2Z5yRIoYwmZJ2QLdyvkNoci2BNV1rjg1hl0TWumSyH1QbYeampy+av+25tyU1g8TjjSQTQ2N5YeajJLUiV2tokZwZze2l9y6I38mtS82YkHjYXDrG22JF1IfrWL9P3IsymwcmfaS4nQNbDK/VWVlMSjn8kWQ9ouWpwDho9b0cVj/rwhE/UsakfSD06IrHsOrZ7nsv0JPD3Rp+RD/cIyZdRYlH0h8adriBKO+TdMLTce5Dlqpr0PlWRXjY0FvNEDpyGPtXfR2aTpglcs/IOYnDfPrZR7rJhG1pyJezs14xXUyY/IHykS5OzPsGrcppVQ00imZ9yQta8/mLrAf0H2XD0jDBGrwj/XPD669IuPppy8JsaoLvj6vQ8Gz6I+6Lq710YjZUFEHWeqVUVPQFX6amByFc9HhE37GDwFihSUJ0Q+Ln5h2vrEnbAYuUazAv3k7wcH3aRqMPjJxS7Tyg51JuhxU0byaBKbED6qWd8rKjQs4hgG76Gzvp98mWQidxXsrgKSm/seQ2EJYwS1t+PTgWkDOAj6x7PAKged+xA753VbIRs17z0PfAIOzWmrPWY4gse1ydym074iveh1BmvUahaOIRQ9YFyQGkCTWXMvrRB7JD30IWIVyWrAVm9UoSQqzZ6XQsfAahq4jfqAx5hAcl68J6zlrrWlkVjyrJNgYhwq0kC3yEW0sW+Ai3liwIadhFa8iCvDJtq8iCLMKtIwtChFtJFkBYJ9j2kEoboPcGuxDWRxdqPZJQMXT+/pMCwL66gZcObdbHCWxY9FZ0HcKYtD5Iba970qBzkgVAMeOsJHt8rV14vLY1LbS6KA04KTckYMXPjHQnnYbvkvz3RxNLt4PAvpv+xYVLjlegXySnrjtmwA+tSEoWhMq0kKaaaA9+jxNYq0QeW205gn8V7PTp/QnotgAAAABJRU5ErkJggg==",Cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7VvNb9xEFH8z9kYVpMGoCQKltA6UzQohdXvrjc2ttKFduHFquPXW9AScsrnBqclf0OQfoAlqSuFS9wS3urd8VIqDElEgFW4TKWmy9vCe90Njx95sdu0la/hJ++HZsdfz/N6bN7/3hkHC0PWivp/ZK3CunBcgdCGEDgw0BkyX++FvFr7ZjDH6fOI4jikywny2+MCCBMEgAZw+N1pgCrvmglsMDvSowPMtV7gGc9ns+tN7BsSM2ASg6QWtt6f3Jl5xnA4hAXjCcJ1JR3GNuDSjbQF0YuAhsNFkZhzmTLcriLYE8E72k6LClDvQeOA2vkx8PRHMNYGDmXF7bGtxzpI76bmiXoayzlzQBIMCNp3HVwEa3nxFIzZW7s9Ai2hLAO8Of7pKji3kJxq0gVef3t7dNm3LsKEFkHad7OktuFwUmWDXo/qRIPbZ/kgr2tCWAE4Pj/4N/qdvVwc91eqgo/B27pKuAC+AYBMRjpXMYnJjaWEKjgAF2sDJgXN/4EeekRwZfLf9avuLP5/+/GDXtnYhZmxvPrW3NlfMrecr030DWUaah/8rC/8EHl/qO5WFl8+XHzV73USmwU6gohFKKcw0MNaY2Vhe+LKZ63StAGoYHL4yjk9+AgKOGIVgohAuHHZ+1wuA4GmDUB4eiC6b0IS2fMBxAfmH1wfen0cBFGW/gGF1/mT/Bxr6jZ+izk2FAAiRQgB2EYXwAoXwa9h5qTABGRHmYJdZ+UJYnMAhZfAGqYjPoBKM1aCpQr0T1v+ACVB4q/Xnfnmjf/iGdipnv3i+9AS6DFt/rTxDtX9FcYHUrIeZgs8ESH0yIvNQCm/t9aV7b0KXAiPVu/hRlJpsDNaG5CjVZwKqq16XY3v8Hms467u57OgEhdL0wrn8NiQAtPtbEDAFXLmOy33qAqCnj9PGmPwjHs9CAsBF1G3UvRJUghdih8ZRICWIGZ4/EDDta2RwkxZZtcO6AGihEXj61vrivRIkALz22IFGvDFIAOqeSoujSC2oC4ALZcJ3pismIQWwrDk7TAtqXz0BEIcXXNcT7QRJIXhDFSRiboQwLTidGy3QF08AQhW+FRXF0EmysevLnmlNV2+KOIRJnG3GISF4WkAEjQynMjuo9MaFZ//135DNnYeEUR1wYoM+ACRqcIj1KZFxdo3+n5P3D6r/zt6OASmDuqsSL1k3Axrz0NDnZ3nGVfOBvkbcdNZxQNUMTLltT90d4aj4fgG40HWh7xHgGxsDnlfx/bzciFy7AR3AmezV6y5zpzAIspHWKv22/ENis0ANRMszIQW/XOgcjUGXOylc6Yj6CyZK+KGRLZIgoBNw/CaA2n+W4434uLTMq55V6AACjrcjGSWMbXwPlwPXeJBHW139fg1SimBsQw8hdYTIUfG/AOA/Du5VZkig6AhSCop65WNKqnKcg32eEaOjrqXADoNaVnX5GNc8NkcxWIF+eUgpGPdPt0iIrpEPWPM38tQKoFp4ITeY3KvakMH9oXHK4A/7wTG5AweYn7xMGqYFul6kMRXkNsGFySk6CswEWu+J3tSZgdNTLsjHNGYauxcH4HTgZ4BEMgztvwmXi2u+BlGhyCqBEIO5QP9CmszAy3mIQM6DV3IengCQ/zfgkAxKN8MrrpJQzXkY9J1LrQ0zKN2MRjmPugAOy6B0KygHGeAebDnnURdAVAYlGD93E8LynYhZmRfwZ4dDtEAVaiKZW/BT1BYkAAWUiWC+EzPGU/4+8h3Zi7shhQW5RjU2rUIusuSMf/Nyc9mEGHFm+CpN5V/7Gl1x6/flHw25KbRGCHP2D8EfNdnCdUc2Vu7HepNJgVQfNfcxSFwjPf2NpYWhYN9QQgTVhGrrfKbAuXK3G/xBrcoFAjXMSPePhPUPFUA1PPalx8mW6MLHWQghJT4eaCxRyd7IOkGy+b7+LJEjF6VmDR1L8bWB9+apLg+OEaIGT5lnVP1vo847tE5wMHdlJliQ3E59fhIY/PBynjvK3QNPnonZjcWFsUbnNlUoicHEY+wZXCG2VJ8fN8jbI7VVgqSLpcM0ofpHMw53JjutDVVPTzFKMfhbM0++hqZrhbc2V+ZoowIESAUqSCa/0Hcqqx1lo0KroPVJ/1sffYVprRkI5y+nUStvQJM4cq1wVH1+5WLxb2uroYndaS2ZZEvF0lH1+TLINFzHnd9xdox2Nk31qshOKR5BU4DoJKpBsUvHN00N5i6PNdjEJMPAPma5XH6kMMVGft7CxZcld6husaUB5qvbbEm96dVwS167jrjtcvmqMyK1JAfZKf4gtt1pse0XaGJbWxyIfVteMpunc17hJZoHfNyuMGgR45G2yFvWaKw4kfiOES9EddW8V4xF9UgCdKpKCds+7+UpK6m6NUrYZKDHCG6xjRv/AF0bOBSDHmXQAAAAAElFTkSuQmCC",Dw="/CHAT-APP/assets/logo_icon-Bug9MN-U.png",Nw="/CHAT-APP/assets/logo_big-Cp0kVrXR.png",Ow="/CHAT-APP/assets/logo-9xkPj2hX.png",xw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",Vw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",Mw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR4nO3dzWoUQRRA4ZFAtiZZJVka9QV8AX/ACApZ5R1EyS4afAPXYdC3EMW1P4+j7nUVOVJM1hm7u5p7uTkf9K4aqjj0DF0zdC8WkiRJkiRJkroDbgCPgFfA2ZrjFHjYzjHFDIAd4DvDfQO2jdI/yGfG+2iQvjHuMt1to/QLctQhyJFB+gU57hDk2CAGqQmvkFwwSC4YJBcMkgsGyQWD5AIcdrgPeRy9jjKALeDPhBi/gZvR6yiF1Zb6WKfR8y8JeAH8GBCijX0ePe/SgA3gFnBvzdHGbETPV5IkSZIkSdcXsA88u/zR6qqjjdmPnm9ZwCbwDvg7YLf3Ali2c6PnXw7wnvGW0fOv+DF1MSFIO3cveh1lsPo+mOpp9DrKwH+d5IJBcsEguWCQXDBILhgkFwySCwbJBW8MS26d7EavoxRWu7ZjnUfPv+r2+3LgldLGnrv9Pm+YvQE/UPkxJUmSJEmSpOgHBxz8x4MD2hgfHDBzjBPg14Dd3p/Ay1kndV0BbxjvdfT8SwG2Jz6eqZ27Fb2OMoAnTHcYvY4y8F8nuWCQXDBILhgkFwySCwbJBYPkgkFywVce5QLc6XCnfhC9jlKATxNifIief9UNxq8jYnzxxZLzvnr1QdtOB96uOdqY+756VZIkSZIkSVrM4h8rzbcQzwZwVgAAAABJRU5ErkJggg==",Pw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABCCAYAAAACPxW5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAH7SURBVGhD7dq/SsNQFMfxJnYQHBxKUereIV2d3ARxc+sTCILgQ/QpdBKfIEgnH8HZoQ0FZ0cn8c9QuN5fORERmya5f865cL9LuJcM+ZBwh0M6sVgsFoutb4uuIppMJulgMOjNZrMP2jIupauEkvl8fr1cLh/H4/EB7RmX0JW7RKNukiS5pPWzUuo4z/MXWrdOAvAvrswKkhu4DldmjOQEbsKVGSFZTlGclv1+/1bjLmirqp6+7yzLsvuiKN5or3Ycp+jqtNQPfU7rjek3+K5P1y9aNsr3J1r3s/xJ45407mQ6nb7SVqN8Ar3jkC8gCw75ALLhkGsgKw65BLLjkCugCBxyARSDQ7aBonDIJlAcDtkCisQhG0CxOGQKFI1DJkDxONQWGAQOtQEGg0NNgUHhUBNgcDgkafDrpEZDp6IoHrIs29Nv8ZC2KtP37adpejocDvPFYvFJ215rPFULDdlqbBgSsvVcNBSk0eA3BKQREElHGgORZKQVIJKKtAZEEpFWgUga0joQSUI6ASIpSGdAJAHpFIi4kc6BiBPpBYi4kN6AiAPpFYh8IzlGFmo0Gl0ppe5ovTGN3Ol2u9u0bJTJ4Ne0ukOs8H4EKqvxuRr/ysUKRBVIKz/jsQPRP0grOCQCiH4hd23hkKTB7+p01aflkS1cLBaLxWKVdTrf5kX+OXj25HwAAAAASUVORK5CYII=",kw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",on={avatar_icon:Rw,gallery_icon:Iw,help_icon:Cw,logo_big:Nw,logo_icon:Dw,logo:Ow,search_icon:xw,send_button:Vw,menu_icon:Mw,arrow_icon:Pw,green_dot:kw},Lw=()=>{};var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Uw=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(A=64)),s.push(n[E],n[S],n[A],n[N])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ME(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Uw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Bw;const A=u<<2|m>>4;if(s.push(A),g!==64){const N=m<<4&240|g>>2;if(s.push(N),S!==64){const O=g<<6&192|S;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(i){const t=ME(i);return PE.encodeByteArray(t,!0)},gh=function(i){return zw(i).replace(/\./g,"")},kE=function(i){try{return PE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>jw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof Bv>"u")return;const i=Bv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Fw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&kE(i[1]);return t&&JSON.parse(t)},zh=()=>{try{return Lw()||qw()||Hw()||Fw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},LE=i=>{var t,n;return(n=(t=zh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},Gw=i=>{const t=LE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},UE=()=>{var i;return(i=zh())===null||i===void 0?void 0:i.config},BE=i=>{var t;return(t=zh())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(i){return i.endsWith(".cloudworkstations.dev")}async function zE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const Hl={};function Kw(){const i={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?i.emulator.push(t):i.prod.push(t);return i}function Xw(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let zv=!1;function jE(i,t){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Hl[i]===t||Hl[i]||zv)return;Hl[i]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=Kw().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{zv=!0,f()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=Xw(s),N=n("text"),O=document.getElementById(N)||document.createElement("span"),B=n("learnmore"),L=document.getElementById(B)||document.createElement("a"),P=n("preprendIcon"),F=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Y=A.element;m(Y),E(L,B);const it=g();p(F,P),Y.append(F,O,L,it),document.body.appendChild(Y)}u?(O.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Zw(){var i;const t=(i=zh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eR(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nR(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=sR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?aR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function aR(i,t){return i.replace(oR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const oR=/\{\$([^}]+)}/g;function lR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Xr(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(jv(u)&&jv(f)){if(!Xr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ll(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ul(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function uR(i,t){const n=new cR(i,t);return n.subscribe.bind(n)}class cR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(i){return i&&i._delegate?i._delegate:i}class Ys{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Qw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mR(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(i){return i===Fs?void 0:i}function mR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const gR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},yR=Mt.INFO,_R={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},vR=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=_R[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yp{constructor(t){this.name=t,this._logLevel=yR,this._logHandler=vR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ER=(i,t)=>t.some(n=>i instanceof n);let qv,Hv;function TR(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Mm=new WeakMap,HE=new WeakMap,Am=new WeakMap,_p=new WeakMap;function SR(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Fr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qE.set(n,i)}).catch(()=>{}),_p.set(t,i),t}function bR(i){if(Mm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Mm.set(i,t)}let Pm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Mm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||HE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function wR(i){Pm=i(Pm)}function RR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Sm(this),t,...n);return HE.set(s,t.sort?t.sort():[t]),Fr(s)}:AR().includes(i)?function(...t){return i.apply(Sm(this),t),Fr(qE.get(this))}:function(...t){return Fr(i.apply(Sm(this),t))}}function IR(i){return typeof i=="function"?RR(i):(i instanceof IDBTransaction&&bR(i),ER(i,TR())?new Proxy(i,Pm):i)}function Fr(i){if(i instanceof IDBRequest)return SR(i);if(Am.has(i))return Am.get(i);const t=IR(i);return t!==i&&(Am.set(i,t),_p.set(t,i)),t}const Sm=i=>_p.get(i);function CR(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=Fr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fr(f.result),p.oldVersion,p.newVersion,Fr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const DR=["get","getKey","getAll","getAllKeys","count"],NR=["put","add","delete","clear"],bm=new Map;function Fv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(bm.get(t))return bm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=NR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(t,u),u}wR(i=>({...i,get:(t,n,s)=>Fv(t,n)||i.get(t,n,s),has:(t,n)=>!!Fv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xR(i){const t=i.getComponent();return t?.type==="VERSION"}const km="@firebase/app",Gv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new yp("@firebase/app"),VR="@firebase/app-compat",MR="@firebase/analytics-compat",PR="@firebase/analytics",kR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",BR="@firebase/auth-compat",zR="@firebase/database",jR="@firebase/data-connect",qR="@firebase/database-compat",HR="@firebase/functions",FR="@firebase/functions-compat",GR="@firebase/installations",QR="@firebase/installations-compat",YR="@firebase/messaging",KR="@firebase/messaging-compat",XR="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",$R="@firebase/storage",tI="@firebase/storage-compat",eI="@firebase/firestore",nI="@firebase/ai",iI="@firebase/firestore-compat",rI="firebase",sI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",aI={[km]:"fire-core",[VR]:"fire-core-compat",[PR]:"fire-analytics",[MR]:"fire-analytics-compat",[LR]:"fire-app-check",[kR]:"fire-app-check-compat",[UR]:"fire-auth",[BR]:"fire-auth-compat",[zR]:"fire-rtdb",[jR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[HR]:"fire-fn",[FR]:"fire-fn-compat",[GR]:"fire-iid",[QR]:"fire-iid-compat",[YR]:"fire-fcm",[KR]:"fire-fcm-compat",[XR]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[$R]:"fire-gcs",[tI]:"fire-gcs-compat",[eI]:"fire-fst",[iI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,oI=new Map,Um=new Map;function Qv(i,t){try{i.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function so(i){const t=i.name;if(Um.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Um.set(t,i);for(const n of yh.values())Qv(n,i);for(const n of oI.values())Qv(n,i);return!0}function vp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new cu("app","Firebase",lI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=sI;function FE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Lm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=UE()),!n)throw Gr.create("no-options");const u=yh.get(o);if(u){if(Xr(n,u.options)&&Xr(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new pR(o);for(const p of Um.values())f.addComponent(p);const m=new uI(n,s,f);return yh.set(o,m),m}function GE(i=Lm){const t=yh.get(i);if(!t&&i===Lm&&UE())return FE();if(!t)throw Gr.create("no-app",{appName:i});return t}function Qr(i,t,n){var s;let o=(s=aI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(m.join(" "));return}so(new Ys(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",hI=1,Wl="firebase-heartbeat-store";let wm=null;function QE(){return wm||(wm=CR(cI,hI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),wm}async function fI(i){try{const n=(await QE()).transaction(Wl),s=await n.objectStore(Wl).get(YE(i));return await n.done,s}catch(t){if(t instanceof ar)tr.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(n.message)}}}async function Yv(i,t){try{const s=(await QE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(t,YE(i)),await s.done}catch(n){if(n instanceof ar)tr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function YE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,mI=30;class pI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Kv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>mI){const f=_I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kv(),{heartbeatsToSend:s,unsentEntries:o}=gI(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function gI(i,t=dI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Xv(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function _I(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){so(new Ys("platform-logger",t=>new OR(t),"PRIVATE")),so(new Ys("heartbeat",t=>new pI(t),"PRIVATE")),Qr(km,Gv,i),Qr(km,Gv,"esm2017"),Qr("fire-js","")}vI("");var EI="firebase",TI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(EI,TI,"app");function Ep(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=KE,XE=new cu("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new yp("@firebase/auth");function SI(i,...t){_h.logLevel<=Mt.WARN&&_h.warn(`Auth (${_o}): ${i}`,...t)}function rh(i,...t){_h.logLevel<=Mt.ERROR&&_h.error(`Auth (${_o}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...t){throw Tp(i,...t)}function di(i,...t){return Tp(i,...t)}function WE(i,t,n){const s=Object.assign(Object.assign({},AI()),{[t]:n});return new cu("auth","Firebase",s).create(t,{appName:i.name})}function Wi(i){return WE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return XE.create(i,...t)}function Et(i,t,...n){if(!i)throw Tp(t,...n)}function Yi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw rh(t),new Error(t)}function er(i,t){i||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function bI(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bI()||$w()||"connection"in navigator)?navigator.onLine:!0}function RI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=Ww()||tR()}get(){return wI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i,t){er(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DI=new fu(3e4,6e4);function or(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function lr(i,t,n,s,o={}){return JE(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return Jw()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&yo(i.emulatorConfig.host)&&(g.credentials="include"),ZE.fetch()(await $E(i,i.config.apiHost,n,m),g)})}async function JE(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},II),t);try{const o=new OI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw WE(i,E,g);Yn(i,E)}}catch(o){if(o instanceof ar)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function du(i,t,n,s,o={}){const u=await lr(i,t,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(i,t,n,s){const o=`${t}${n}?${s}`,u=i,f=u.config.emulator?Ap(i.config,o):`${i.config.apiScheme}://${o}`;return CI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function NI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),DI.get())})}}function Xc(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(i,t,s);return o.customData._tokenResponse=n,o}function Zv(i){return i!==void 0&&i.enterprise!==void 0}class xI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return NI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(i,t){return lr(i,"GET","/v2/recaptchaConfig",or(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,t){return lr(i,"POST","/v1/accounts:delete",t)}async function vh(i,t){return lr(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PI(i,t=!1){const n=Be(i),s=await n.getIdToken(t),o=Sp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Fl(Rm(o.auth_time)),issuedAtTime:Fl(Rm(o.iat)),expirationTime:Fl(Rm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rm(i){return Number(i)*1e3}function Sp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(i){const t=Sp(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ar&&kI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function kI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await Zl(i,vh(n,{idToken:s}));Et(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?tT(u.providerUserInfo):[],m=BI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function UI(i){const t=Be(i);await Eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BI(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function tT(i){return i.map(t=>{var{providerId:n}=t,s=Ep(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,t){const n=await JE(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await $E(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&yo(i.emulatorConfig.host)&&(p.credentials="include"),ZE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jI(i,t){return lr(i,"POST","/v2/accounts:revokeToken",or(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Jv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await zI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Gn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Ep(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return PI(this,t)}reload(){return UI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Zl(this,MI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,B=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,P=(g=n.createdAt)!==null&&g!==void 0?g:void 0,F=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:it,isAnonymous:st,providerData:ct,stsTokenManager:I}=n;Et(Y&&I,t,"internal-error");const w=eo.fromJSON(this.name,I);Et(typeof Y=="string",t,"internal-error"),Ur(S,t.name),Ur(A,t.name),Et(typeof it=="boolean",t,"internal-error"),Et(typeof st=="boolean",t,"internal-error"),Ur(N,t.name),Ur(O,t.name),Ur(B,t.name),Ur(L,t.name),Ur(P,t.name),Ur(F,t.name);const R=new Gn({uid:Y,auth:t,email:A,emailVerified:it,displayName:S,isAnonymous:st,photoURL:O,phoneNumber:N,tenantId:B,stsTokenManager:w,createdAt:P,lastLoginAt:F});return ct&&Array.isArray(ct)&&(R.providerData=ct.map(x=>Object.assign({},x))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Ki(i){er(i instanceof Function,"Expected a class definition");let t=$v.get(i);return t?(er(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,$v.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}eT.type="NONE";const t0=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,t,n){return`firebase:${i}:${t}:${n}`}class no{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vh(this.auth,{idToken:t}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,t):null}return Gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new no(Ki(t0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ki(t0);const f=sh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const A=await vh(t,{idToken:E}).catch(()=>{});if(!A)break;S=await Gn._fromGetAccountInfoResponse(t,A,E)}else S=Gn._fromJSON(t,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new no(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oT(t))return"Blackberry";if(lT(t))return"Webos";if(iT(t))return"Safari";if((t.includes("chrome/")||rT(t))&&!t.includes("edge/"))return"Chrome";if(aT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function nT(i=en()){return/firefox\//i.test(i)}function iT(i=en()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rT(i=en()){return/crios\//i.test(i)}function sT(i=en()){return/iemobile/i.test(i)}function aT(i=en()){return/android/i.test(i)}function oT(i=en()){return/blackberry/i.test(i)}function lT(i=en()){return/webos/i.test(i)}function bp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qI(i=en()){var t;return bp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function HI(){return eR()&&document.documentMode===10}function uT(i=en()){return bp(i)||aT(i)||lT(i)||oT(i)||/windows phone/i.test(i)||sT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i,t=[]){let n;switch(i){case"Browser":n=e0(en());break;case"Worker":n=`${e0(en())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,t={}){return lr(i,"GET","/v2/passwordPolicy",or(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=6;class YI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:QI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new FI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vh(this,{idToken:t}),s=await Gn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Eh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Wi(this));const n=t?Be(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GI(this),n=new YI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ki(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&SI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function rs(i){return Be(i)}class n0{constructor(t){this.auth=t,this.observer=null,this.addObserver=uR(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XI(i){jh=i}function hT(i){return jh.loadJS(i)}function WI(){return jh.recaptchaEnterpriseScript}function ZI(){return jh.gapiScript}function JI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class $I{constructor(){this.enterprise=new tC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class tC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const eC="recaptcha-enterprise",fT="NO_RECAPTCHA";class nC{constructor(t){this.type=eC,this.auth=rs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{VI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(fT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $I().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WI();p.length!==0&&(p+=m),hT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function i0(i,t,n,s=!1,o=!1){const u=new nC(i);let f;if(o)f=fT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Th(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await i0(i,t,n,n==="getOobCode");return s(i,f)}else return s(i,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await i0(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i,t){const n=vp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xr(u,t??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:t})}function rC(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ki);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function sC(i,t,n){const s=rs(i);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=dT(t),{host:f,port:m}=aC(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Xr(g,s.config.emulator)&&Xr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,yo(f)?(zE(`${u}//${f}${p}`),jE("Auth",!0)):oC()}function dT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function aC(i){const t=dT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:r0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:r0(f)}}}function r0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function oC(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,n){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function lC(i,t){return lr(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,t){return du(i,"POST","/v1/accounts:signInWithPassword",or(i,t))}async function cC(i,t){return lr(i,"POST","/v1/accounts:sendOobCode",or(i,t))}async function hC(i,t){return cC(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(i,t){return du(i,"POST","/v1/accounts:signInWithEmailLink",or(i,t))}async function dC(i,t){return du(i,"POST","/v1/accounts:signInWithEmailLink",or(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends wp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Jl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Jl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(t,n,"signInWithPassword",uC);case"emailLink":return fC(t,{email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(t,s,"signUpPassword",lC);case"emailLink":return dC(t,{idToken:n,email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i,t){return du(i,"POST","/v1/accounts:signInWithIdp",or(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class Ks extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Ep(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(i){const t=Ll(Ul(i)).link,n=t?Ll(Ul(t)).deep_link_id:null,s=Ll(Ul(i)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||t||i}class Rp{constructor(t){var n,s,o,u,f,m;const p=Ll(Ul(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=pC((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=gC(t);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,n){return Jl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Rp.parseLink(n);return Et(s,"argument-error"),Jl._fromEmailAndCode(t,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends mT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends mu{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ks._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends mu{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends mu{constructor(){super("twitter.com")}static credential(t,n){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,t){return du(i,"POST","/v1/accounts:signUp",or(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Gn._fromIdTokenResponse(t,s,o),f=s0(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=s0(s);return new Xs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function s0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends ar{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ah(t,n,s,o)}}function pT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,u,t,s):u})}async function _C(i,t,n=!1){const s=await Zl(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Xs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,t,n=!1){const{auth:s}=i;if(Ln(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await Zl(i,pT(s,o,t,i),n);Et(u.idToken,s,"internal-error");const f=Sp(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(i.uid===m,s,"user-mismatch"),Xs._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(i,t,n=!1){if(Ln(i.app))return Promise.reject(Wi(i));const s="signIn",o=await pT(i,s,t),u=await Xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function EC(i,t){return gT(rs(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(i){const t=rs(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function TC(i,t,n){const s=rs(i);await Th(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hC)}async function AC(i,t,n){if(Ln(i.app))return Promise.reject(Wi(i));const s=rs(i),f=await Th(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yT(i),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function SC(i,t,n){return Ln(i.app)?Promise.reject(Wi(i)):EC(Be(i),vo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yT(i),s})}function bC(i,t,n,s){return Be(i).onIdTokenChanged(t,n,s)}function wC(i,t,n){return Be(i).beforeAuthStateChanged(t,n)}function _T(i,t,n,s){return Be(i).onAuthStateChanged(t,n,s)}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1e3,IC=10;class ET extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ET.type="LOCAL";const CC=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}TT.type="SESSION";const AT=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await DC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function OC(i){mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function MC(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebaseLocalStorageDb",PC=1,bh="firebaseLocalStorage",wT="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,t){return i.transaction([bh],t?"readwrite":"readonly").objectStore(bh)}function kC(){const i=indexedDB.deleteDatabase(bT);return new pu(i).toPromise()}function jm(){const i=indexedDB.open(bT,PC);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(bh,{keyPath:wT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(bh)?t(s):(s.close(),await kC(),t(await jm()))})})}async function a0(i,t,n){const s=Hh(i,!0).put({[wT]:t,value:n});return new pu(s).toPromise()}async function LC(i,t){const n=Hh(i,!1).get(t),s=await new pu(n).toPromise();return s===void 0?null:s.value}function o0(i,t){const n=Hh(i,!0).delete(t);return new pu(n).toPromise()}const UC=800,BC=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>BC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await a0(t,Sh,"1"),await o0(t,Sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>a0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>LC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>o0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new pu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const zC=RT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i,t){return t?Ki(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends wp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qC(i){return gT(i.auth,new Cp(i),i.bypassAuthState)}function HC(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),vC(n,new Cp(i),i.bypassAuthState)}async function FC(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),_C(n,new Cp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:Yn(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new fu(2e3,1e4);class to extends IT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GC.get())};t()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="pendingRedirect",ah=new Map;class YC extends IT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ah.get(this.auth._key());if(!t){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ah.set(this.auth._key(),t)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(i,t){const n=ZC(t),s=WC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XC(i,t){ah.set(i._key(),t)}function WC(i){return Ki(i._redirectPersistence)}function ZC(i){return sh(QC,i.config.apiKey,i.name)}async function JC(i,t,n=!1){if(Ln(i.app))return Promise.reject(Wi(i));const s=rs(i),o=jC(s,t),f=await new YC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=10*60*1e3;class t2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!e2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!CT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(di(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(t))}saveEventToCache(t){this.cachedEventUids.add(l0(t)),this.lastProcessedEventTime=Date.now()}}function l0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function CT({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function e2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,t={}){return lr(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function s2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await n2(i);for(const n of t)try{if(a2(n))return}catch{}Yn(i,"unauthorized-domain")}function a2(i){const t=Bm(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!r2.test(n))return!1;if(i2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new fu(3e4,6e4);function u0(){const i=mi().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function l2(i){return new Promise((t,n)=>{var s,o,u;function f(){u0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{u0(),n(di(i,"network-request-failed"))},timeout:o2.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=JI("iframefcb");return mi()[m]=()=>{gapi.load?f():n(di(i,"network-request-failed"))},hT(`${ZI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw oh=null,t})}let oh=null;function u2(i){return oh=oh||l2(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new fu(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Ap(t,f2):`https://${i.config.authDomain}/${h2}`,s={apiKey:t.apiKey,appName:i.name,v:_o},o=m2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function g2(i){const t=await u2(i),n=mi().gapi;return Et(n,i,"internal-error"),t.open({where:document.body,url:p2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=di(i,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},c2.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class c0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(i,t,n,s=_2,o=v2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},y2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=rT(g)?E2:n),nT(g)&&(t=t||T2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[N,O])=>`${A}${N}=${O},`,"");if(qI(g)&&m!=="_self")return S2(t||"",m),new c0(null);const S=window.open(t||"",m,E);Et(S,i,"popup-blocked");try{S.focus()}catch{}return new c0(S)}function S2(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="__/auth/handler",w2="emulator/auth/handler",R2=encodeURIComponent("fac");async function h0(i,t,n,s,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(t instanceof mT){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",lR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof mu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${R2}=${encodeURIComponent(p)}`:"";return`${I2(i)}?${hu(m).slice(1)}${g}`}function I2({config:i}){return i.emulator?Ap(i,w2):`https://${i.authDomain}/${b2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=JC,this._overrideRedirectResult=XC}async _openPopup(t,n,s,o){var u;er((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await h0(t,n,s,Bm(),o);return A2(t,f,Ip())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await h0(t,n,s,Bm(),o);return OC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await g2(t),s=new t2(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Im,{type:Im},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[Im];f!==void 0&&n(!!f),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uT()||iT()||bp()}}const D2=C2;var f0="@firebase/auth",d0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(i){so(new Ys("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(i)},g=new KI(s,o,u,p);return rC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),so(new Ys("auth-internal",t=>{const n=rs(t.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(f0,d0,O2(i)),Qr(f0,d0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=5*60,M2=BE("authIdTokenMaxAge")||V2;let m0=null;const P2=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M2)return;const o=n?.token;m0!==o&&(m0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(i=GE()){const t=vp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=iC(i,{popupRedirectResolver:D2,persistence:[zC,CC,AT]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=P2(u.toString());wC(n,f,()=>f(n.currentUser)),bC(n,m=>f(m))}}const o=LE("auth");return o&&sC(n,`http://${o}`),n}function L2(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}XI({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",L2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,DT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(x,k,U){for(var D=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)D[Ae-2]=arguments[Ae];return w.prototype[k].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)x[k]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(k=0;16>k;++k)x[k]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],k=I.g[2];var U=I.g[3],D=w+(U^R&(k^U))+x[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=U+(k^w&(R^k))+x[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(R^U&(w^R))+x[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(w^k&(U^w))+x[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=w+(U^R&(k^U))+x[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(k^w&(R^k))+x[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(R^U&(w^R))+x[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(w^k&(U^w))+x[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=w+(U^R&(k^U))+x[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(k^w&(R^k))+x[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(R^U&(w^R))+x[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(w^k&(U^w))+x[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=w+(U^R&(k^U))+x[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(k^w&(R^k))+x[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(R^U&(w^R))+x[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(w^k&(U^w))+x[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=w+(k^U&(R^k))+x[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(w^R))+x[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^R&(U^w))+x[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(k^U))+x[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(R^k))+x[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(w^R))+x[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^R&(U^w))+x[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(k^U))+x[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(R^k))+x[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(w^R))+x[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^R&(U^w))+x[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(k^U))+x[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(R^k))+x[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(w^R))+x[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^R&(U^w))+x[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(k^U))+x[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=w+(R^k^U)+x[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^k)+x[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^R)+x[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^w)+x[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=w+(R^k^U)+x[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^k)+x[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^R)+x[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^w)+x[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=w+(R^k^U)+x[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^k)+x[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^R)+x[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^w)+x[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=w+(R^k^U)+x[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^k)+x[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^R)+x[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^w)+x[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=w+(k^(R|~U))+x[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~k))+x[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~R))+x[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~w))+x[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=w+(k^(R|~U))+x[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~k))+x[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~R))+x[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~w))+x[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=w+(k^(R|~U))+x[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~k))+x[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~R))+x[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~w))+x[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=w+(k^(R|~U))+x[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~k))+x[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~R))+x[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~w))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,x=this.B,k=this.h,U=0;U<w;){if(k==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(x[k++]=I.charCodeAt(U++),k==this.blockSize){o(this,x),k=0;break}}else for(;U<w;)if(x[k++]=I[U++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)I[R++]=this.g[w]>>>x&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;for(var R=[],x=!0,k=I.length-1;0<=k;k--){var U=I[k]|0;x&&U==w||(R[k]=U,x=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(w){return new f([w|0],0>w?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return L(g(-I));for(var w=[],R=1,x=0;I>=R;x++)w[x]=I/R|0,R*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return L(E(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=S,k=0;k<I.length;k+=8){var U=Math.min(8,I.length-k),D=parseInt(I.substring(k,k+U),w);8>U?(U=g(Math.pow(w,U)),x=x.j(U).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var S=p(0),A=p(1),N=p(16777216);i=f.prototype,i.m=function(){if(B(this))return-L(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);I+=(0<=x?x:4294967296+x)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(B(this))return"-"+L(this).toString(I);for(var w=g(Math.pow(I,6)),R=this,x="";;){var k=it(R,w).g;R=P(R,k.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,O(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function B(I){return I.h==-1}i.l=function(I){return I=P(this,I),B(I)?-1:O(I)?0:1};function L(I){for(var w=I.g.length,R=[],x=0;x<w;x++)R[x]=~I.g[x];return new f(R,~I.h).add(A)}i.abs=function(){return B(this)?L(this):this},i.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],x=0,k=0;k<=w;k++){var U=x+(this.i(k)&65535)+(I.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);x=D>>>16,U&=65535,D&=65535,R[k]=D<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function P(I,w){return I.add(L(w))}i.j=function(I){if(O(this)||O(I))return S;if(B(this))return B(I)?L(this).j(L(I)):L(L(this).j(I));if(B(I))return L(this.j(L(I)));if(0>this.l(N)&&0>I.l(N))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<I.g.length;k++){var U=this.i(x)>>>16,D=this.i(x)&65535,Ae=I.i(k)>>>16,ee=I.i(k)&65535;R[2*x+2*k]+=D*ee,F(R,2*x+2*k),R[2*x+2*k+1]+=U*ee,F(R,2*x+2*k+1),R[2*x+2*k+1]+=D*Ae,F(R,2*x+2*k+1),R[2*x+2*k+2]+=U*Ae,F(R,2*x+2*k+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function F(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Y(I,w){this.g=I,this.h=w}function it(I,w){if(O(w))throw Error("division by zero");if(O(I))return new Y(S,S);if(B(I))return w=it(L(I),w),new Y(L(w.g),L(w.h));if(B(w))return w=it(I,L(w)),new Y(L(w.g),w.h);if(30<I.g.length){if(B(I)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=w;0>=x.l(I);)R=st(R),x=st(x);var k=ct(R,1),U=ct(x,1);for(x=ct(x,2),R=ct(R,2);!O(x);){var D=U.add(x);0>=D.l(I)&&(k=k.add(R),U=D),x=ct(x,1),R=ct(R,1)}return w=P(I,k.j(w)),new Y(k,w)}for(k=S;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),D=U.j(w);B(D)||0<D.l(I);)R-=x,U=g(R),D=U.j(w);O(U)&&(U=A),k=k.add(U),I=P(I,D)}return new Y(k,I)}i.A=function(I){return it(this,I).h},i.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&I.i(x);return new f(R,this.h&I.h)},i.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|I.i(x);return new f(R,this.h|I.h)},i.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^I.i(x);return new f(R,this.h^I.h)};function st(I){for(var w=I.g.length+1,R=[],x=0;x<w;x++)R[x]=I.i(x)<<1|I.i(x-1)>>>31;return new f(R,I.h)}function ct(I,w){var R=w>>5;w%=32;for(var x=I.g.length-R,k=[],U=0;U<x;U++)k[U]=0<w?I.i(U+R)>>>w|I.i(U+R+1)<<32-w:I.i(U+R);return new f(k,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,DT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Yr=f}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,Bl,OT,lh,qm,xT,VT,MT;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break t;_=_[j]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,X){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return y.prototype[j].apply(b,ot)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,X=b.length||0;c.length=j+X;for(let ot=0;ot<X;ot++)c[j+ot]=b[ot]}else c.push(b)}}class P{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var st=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ct(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const b=ee.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new P(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,jt=new Ae,V=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(rt)}};var rt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{it(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}O(Dt,at);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Xn(c,y,_,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++$t,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,_,b,j){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ot=ls(c,y,b,j);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Xn(y,this.src,X,!!b,j),y.fa=_,c.push(y)),y};function os(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,y,void 0),X;(X=0<=j)&&Array.prototype.splice.call(b,j,1),X&&(ur(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ls(c,y,_,b){for(var j=0;j<c.length;++j){var X=c[j];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==b)return j}return-1}var us="closure_lm_"+(1e6*Math.random()|0),wo={};function bu(c,y,_,b,j){if(Array.isArray(y)){for(var X=0;X<y.length;X++)bu(c,y[X],_,b,j);return null}return _=wu(_),c&&c[Oe]?c.K(y,_,g(b)?!!b.capture:!1,j):bn(c,y,_,!1,b,j)}function bn(c,y,_,b,j,X){if(!y)throw Error("Invalid event type");var ot=g(j)?!!j.capture:!!j,kt=sa(c);if(kt||(c[us]=kt=new Ti(c)),_=kt.add(y,_,b,ot,X),_.proxy)return _;if(b=df(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)yt||(j=ot),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(cs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function df(){function c(_){return y.call(c.src,c.listener,_)}const y=mf;return c}function Ro(c,y,_,b,j){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ro(c,y[X],_,b,j);else b=g(b)?!!b.capture:!!b,_=wu(_),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=ls(X,_,b,j),-1<_&&(ur(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ls(y,_,b,j)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])os(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(cs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=sa(y))?(os(_,c),_.h==0&&(_.src=null,y[us]=null)):ur(c)}}}function cs(c){return c in wo?wo[c]:wo[c]="on"+c}function mf(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ra(c),c=_.call(b,y)}return c}function sa(c){return c=c[us],c instanceof Ti?c:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function ue(){ut.call(this),this.i=new Ti(this),this.M=this,this.F=null}O(ue,ut),ue.prototype[Oe]=!0,ue.prototype.removeEventListener=function(c,y,_,b){Ro(this,c,y,_,b)};function Gt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new at(y,c);else if(y instanceof at)y.target=y.target||c;else{var j=y;y=new at(b,c),x(y,j)}if(j=!0,_)for(var X=_.length-1;0<=X;X--){var ot=y.g=_[X];j=mn(ot,b,!0,y)&&j}if(ot=y.g=c,j=mn(ot,b,!0,y)&&j,j=mn(ot,b,!1,y)&&j,_)for(X=0;X<_.length;X++)ot=y.g=_[X],j=mn(ot,b,!1,y)&&j}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)ur(_[b]);delete c.g[y],c.h--}}this.F=null},ue.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ue.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function mn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,X=0;X<y.length;++X){var ot=y[X];if(ot&&!ot.da&&ot.capture==_){var kt=ot.listener,be=ot.ha||ot.src;ot.fa&&os(c.i,ot),j=kt.call(be,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ke(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ru(c){c.g=Ke(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class pf extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){ut.call(this),this.h=c,this.g={}}O(hs,ut);var fs=[];function ds(c){ct(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,aa=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function No(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){at.call(this,"d")}O(Si,at);function Oo(){at.call(this,"c")}O(Oo,at);var Wn={},xo=null;function cr(){return xo=xo||new ue}Wn.La="serverreachability";function oa(c){at.call(this,Wn.La,c)}O(oa,at);function hr(c){const y=cr();Gt(y,new oa(y))}Wn.STAT_EVENT="statevent";function Iu(c,y){at.call(this,Wn.STAT_EVENT,c),this.stat=y}O(Iu,at);function re(c){const y=cr();Gt(y,new Iu(y,c))}Wn.Ma="timingevent";function Se(c,y){at.call(this,Wn.Ma,c),this.size=y}O(Se,at);function ge(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Vo(c,y,_,b,j,X){c.info(function(){if(c.g)if(X)for(var ot="",kt=X.split("&"),be=0;be<kt.length;be++){var Lt=kt[be].split("=");if(1<Lt.length){var Ve=Lt[0];Lt=Lt[1];var we=Ve.split("_");ot=2<=we.length&&we[1]=="type"?ot+(Ve+"="+Lt+"&"):ot+(Ve+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+ot})}function gf(c,y,_,b,j,X,ot){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+X+" "+ot})}function fr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,_)+(b?" "+b:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<j.length;ot++)j[ot]=""}}}}return Bn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}O(Jn,Co),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function nn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Mo={},la={};function zn(c,y,_){c.L=1,c.v=Es(pn(y)),c.m=_,c.P=!0,wi(c,null)}function wi(c,y){c.F=Date.now(),gs(c),c.A=pn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),zo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new fe,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new pf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fs[0]=j.toString()),j=fs);for(var X=0;X<j.length;X++){var ot=bu(_,j[X],b||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const we=Dn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||we!=4||y==7||(y==8||0>=Vi?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;e:if(Du(this)){var b=ku(this.g);c="";var j=b.length,X=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),$n(this);var ot="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(X&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,gf(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,be=this.g;if((kt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(kt)){var Lt=kt;break e}}Lt=null}if(_=Lt)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,_);else{this.o=!1,this.s=3,re(12),ze(this),$n(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<ot.length;)if(je=Nu(this,ot),je==la){we==4&&(this.s=4,re(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Mo){this.s=4,re(15),fr(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,je,null),ys(this,je);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||ot.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,ot,"[Invalid Chunked Response]"),ze(this),$n(this);else if(0<ot.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Cs(Ve),Ve.M=!0,re(11))}}else fr(this.i,this.l,ot,null),ys(this,ot);we==4&&ze(this),this.o&&!this.J&&(we==4?ju(this.j,this):(this.o=!1,gs(this)))}else Tf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),ze(this),$n(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?la:(_=Number(y.substring(_,b)),isNaN(_)?Mo:(b+=1,b+_>y.length?la:(y=y.slice(b,b+_),c.C=b+_,y)))}nn.prototype.cancel=function(){this.J=!0,ze(this)};function gs(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ge(A(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(hr(),re(17)),ze(this),this.s=2,$n(this)):Ou(this,this.S-c)};function $n(c){c.j.G==0||c.J||ju(c.j,c)}function ze(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Po(_.h,c))){if(!c.K&&Po(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break t;Go(_),re(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ge(A(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&Ea(_),!F(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Lt=j[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Ve=Lt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const we=Lt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Vi=Lt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const je=c.g;if(je){const ai=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var X=b.h;X.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ha(X,X.h),X.h=null))}if(b.D){const Yo=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(b.ya=Yo,Kt(b.I,b.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=c;if(b.qa=Hu(b,b.J?b.ia:null,b.W),ot.K){rn(b.h,ot);var kt=ot,be=b.L;be&&(kt.I=be),kt.B&&(mr(kt),gs(kt)),b.g=ot}else Bu(b);0<_.i.length&&va(_)}else Lt[0]!="stop"&&Lt[0]!="close"||xi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?xi(_,7):Ho(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}hr(4)}catch{}}var xu=class{constructor(c,y){this.g=c,this.map=y}};function Ri(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ri.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function yf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),b=yf(c),j=b.length,X=0;X<j;X++)y.call(void 0,b[X],_&&_[X],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _f(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var X=c[_].substring(0,b);j=c[_].substring(b+1)}else X=c[_];y(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new Ci;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ii(this,_),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,vs(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),pr(this,y[4]),this.l=Rn(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}ye.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ts(_,_.charAt(0)=="/"?vf:Bo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ts(_,da)),c.join("")};function pn(c){return new ye(c)}function vs(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ii(c,y,_){y instanceof Ci?(c.i=y,Mu(c.i,c.h)):(_||(y=Ts(y,Ef)),c.i=new Ci(y,c.h))}function Kt(c,y,_){c.i.set(y,_)}function Es(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Bo=/[#\?:]/g,vf=/[#\?]/g,Ef=/[#\?@]/g,da=/#/g;function Ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&_f(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ci.prototype,i.add=function(c,y){In(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Di(c,y){In(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return In(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(y,j,b,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=c[b];for(let X=0;X<j.length;X++)_.push(y[b])}return _},i.V=function(c){In(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return In(this),this.i=null,c=ti(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Di(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),B(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const X=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var j=X;ot[b]!==""&&(j+="="+encodeURIComponent(String(ot[b]))),c.push(j)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Mu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Di(this,b),zo(this,j,_))},c)),c.j=y}function As(c,y){const _=new wn;if(m.Image){const b=new Image;b.onload=N(Cn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Cn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(Cn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Cn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function jn(c,y){const _=new wn,b=new AbortController,j=setTimeout(()=>{b.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(j),X.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function Ss(){this.g=new ms}function ei(c,y,_){const b=_||"";try{Lo(c,function(j,X){let ot=j;g(j)&&(ot=Bn(j)),y.push(b+X+"="+encodeURIComponent(ot))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(gr,Co),gr.prototype.g=function(){return new Oi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){ue.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Oi,ue),i=Oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ni(this):ii(this),this.readyState==3&&jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},i.Qa=function(c){this.g&&(this.response=c,ni(this))},i.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return ct(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,y,_))}function Ht(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ht,ue);var ma=/^https?$/i,bs=["POST","PUT"];i=Ht.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Do(this.o):Do(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Pu(this,X);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of _)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Pu(this,X)}};function Pu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),ri(c)}function pa(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ke(c.Ea,0,c);else if(Gt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ot===0){var j=String(c.D).match(_s)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!ma.test(j?j.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var X=2<Dn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",pa(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){ws(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(F(c[b]))continue;var _=k(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[j]||[];y[j]=X,X.push(_)}I(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){re(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Hu(this,null,this.W),va(this)};function Ho(c){if(Lu(c),c.G==3){var y=c.U++,_=pn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),Is(c,_),y=new nn(c,c.j,y),y.L=2,y.v=Es(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}qu(c)}function _a(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Lu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),mt||(lt(),mt=!0),jt.add(y,c),c.B=0}}function Af(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ge(A(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new nn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=w(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Uu(this,j,y),_=pn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),Is(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(qo(X)))+"&"+y:this.m&&xe(_,this.m,X)),ha(this.h,j),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",y),Kt(_,"SID","null"),j.T=!0,zn(j,_,null)):zn(j,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||ua(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const b=pn(c.I);Kt(b,"SID",c.K),Kt(b,"RID",_),Kt(b,"AID",c.T),Is(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),zn(_,b,y)}function Is(c,y){c.H&&ct(c.H,function(_,b){Kt(y,b,_)}),c.l&&Lo({},function(_,b){Kt(y,b,_)})}function Uu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let X=-1;for(;;){const ot=["count="+_];X==-1?0<_?(X=j[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let kt=!0;for(let be=0;be<_;be++){let Lt=j[be].g;const Ve=j[be].map;if(Lt-=X,0>Lt)X=Math.max(0,j[be].g-100),kt=!1;else try{ei(Ve,ot,"req"+Lt+"_")}catch{b&&b(Ve)}}if(kt){b=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),mt||(lt(),mt=!0),jt.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ge(A(c.Fa,c),Qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ge(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),_a(this),zu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(pn(y)),_.m=null,_.P=!0,wi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,_a(this),Go(this),re(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,y){var _=null;if(c.g==y){Ea(c),Cs(c),c.g=null;var b=2}else if(Po(c.h,y))_=y.D,rn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=cr(),Gt(b,new Se(b,_)),va(c)}else Bu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&Af(c,y)||b==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const j=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(b,"https"),Es(b),j?As(b.toString(),_):jn(b.toString(),_)}else re(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,_){var b=_ instanceof ye?pn(_):new ye(_);if(b.g!="")y&&(b.g=y+"."+b.g),pr(b,b.s);else{var j=m.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var X=new ye(null);b&&vs(X,b),y&&(X.g=y),j&&pr(X,j),_&&(X.l=_),b=X}return _=c.D,y=c.ya,_&&y&&Kt(b,_,y),Kt(b,"VER",c.la),Is(c,b),b}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new gr({eb:_})):new Ht(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ue.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!F(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}O(sn,ue),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ho(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new xu(y.Ya++,c)),y.G==3&&va(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,sn.aa.N.call(this)};function Qu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Qu,Si);function Yu(){Oo.call(this),this.status=1}O(Yu,Oo);function si(c){this.g=c}O(si,Gu),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new Qu(c))},si.prototype.sa=function(c){Gt(this.g,new Yu)},si.prototype.ra=function(){Gt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,MT=function(){return new Ta},VT=function(){return cr()},xT=Wn,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,lh=dr,bi.COMPLETE="complete",OT=bi,No.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Bl=No,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,NT=Ht}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore",y0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new yp("@firebase/firestore");function Wa(){return Ws.logLevel}function ht(i,...t){if(Ws.logLevel<=Mt.DEBUG){const n=t.map(Dp);Ws.debug(`Firestore (${Eo}): ${i}`,...n)}}function nr(i,...t){if(Ws.logLevel<=Mt.ERROR){const n=t.map(Dp);Ws.error(`Firestore (${Eo}): ${i}`,...n)}}function ao(i,...t){if(Ws.logLevel<=Mt.WARN){const n=t.map(Dp);Ws.warn(`Firestore (${Eo}): ${i}`,...n)}}function Dp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,PT(i,s,n)}function PT(i,t,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Ft(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||PT(t,o,s)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class B2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new kT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class j2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new j2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=F2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(i,t){return i<t?-1:i>t?1:0}function Hm(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=LT(),f=G2(u.encode(v0(i,n)),u.encode(v0(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(i.length,t.length)}function v0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function G2(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Ct(i[n],t[n]);return Ct(i.length,t.length)}function oo(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*T0);return new De(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<E0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-E0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new De(0,0))}static max(){return new bt(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(t).compare(fi.extractNumericId(n)):Hm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yr.fromString(t.substring(4,t.length-2))}}class ne extends fi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends fi{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return Q2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Qe([A0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ft(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function Y2(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new De(n+1,0):new De(n,s));return new Wr(o,gt.empty(),t)}function K2(i){return new Wr(i.readTime,i.key,$l)}class Wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(bt.min(),gt.empty(),$l)}static max(){return new Wr(bt.max(),gt.empty(),$l)}}function X2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(i.documentKey,t.documentKey),n!==0?n:Ct(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==W2)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function J2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Gh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function $2(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function tD(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=S0(t)),t=eD(i.get(n),t);return S0(t)}function eD(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case BT:n+="";break;default:n+=u}}return n}function S0(i){return i+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ss(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function zT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zc(this.root,t,this.comparator,!0)}}class Zc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(t){return new w0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ne(this.comparator);return n.data=t,n}}class w0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new Ne(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}}(t);return new Ye(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ft(!!i,39018),typeof i=="string"){let t=0;const n=nD.exec(i);if(Ft(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(i.seconds),nanos:pe(i.nanos)}}function pe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Ye.fromBase64String(i):Ye.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="server_timestamp",HT="__type__",FT="__previous_value__",GT="__local_write_time__";function Op(i){var t,n;return((n=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[HT])===null||n===void 0?void 0:n.stringValue)===qT}function Qh(i){const t=i.mapValue.fields[FT];return Op(t)?Qh(t):t}function tu(i){const t=Zr(i.mapValue.fields[GT].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Rh="(default)";class eu{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof eu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__type__",rD="__max__",Jc={mapValue:{}},YT="__vector__",Ih="value";function $r(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Op(i)?4:aD(i)?9007199254740991:sD(i)?10:11:Tt(28295,{value:i})}function vi(i,t){if(i===t)return!0;const n=$r(i);if(n!==$r(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return tu(i).isEqual(tu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return oo(i.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(b0(f)!==b0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(i,t);default:return Tt(52216,{left:i})}}function nu(i,t){return(i.values||[]).find(n=>vi(n,t))!==void 0}function lo(i,t){if(i===t)return 0;const n=$r(i),s=$r(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return R0(i.timestampValue,t.timestampValue);case 4:return R0(tu(i),tu(t));case 5:return Hm(i.stringValue,t.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ct(m[g],p[g]);if(E!==0)return E}return Ct(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(pe(u.latitude),pe(f.latitude));return m!==0?m:Ct(pe(u.longitude),pe(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return I0(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},A=f.fields||{},N=(m=S[Ih])===null||m===void 0?void 0:m.arrayValue,O=(p=A[Ih])===null||p===void 0?void 0:p.arrayValue,B=Ct(((g=N?.values)===null||g===void 0?void 0:g.length)||0,((E=O?.values)===null||E===void 0?void 0:E.length)||0);return B!==0?B:I0(N,O)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=Hm(p[S],E[S]);if(A!==0)return A;const N=lo(m[p[S]],g[E[S]]);if(N!==0)return N}return Ct(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function R0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ct(i,t);const n=Zr(i),s=Zr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function I0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function uo(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return gt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"}(i.mapValue):Tt(61005,{value:i})}function uh(i){switch($r(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(i);return t?16+uh(t):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,f)=>{o+=u.length+uh(f)}),o}(i.mapValue);default:throw Tt(13486,{value:i})}}function C0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Gm(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function D0(i){return!!i&&"nullValue"in i}function N0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function sD(i){var t,n;return((n=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[QT])===null||n===void 0?void 0:n.stringValue)===YT}function Gl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ss(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Gl(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gl(i.arrayValue.values[n]);return t}return Object.assign({},i)}function aD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ss(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new dn(Gl(this.value))}}function KT(i){const t=[];return ss(i.fields,(n,s)=>{const o=new Qe([n]);if(ch(s)){const u=KT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,bt.min(),bt.min(),bt.min(),dn.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,bt.min(),bt.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,bt.min(),bt.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this.position=t,this.inclusive=n}}function O0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function x0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function oD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{}class Te extends XT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new uD(t,n,s):n==="array-contains"?new fD(t,s):n==="in"?new dD(t,s):n==="not-in"?new mD(t,s):n==="array-contains-any"?new pD(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new cD(t,s):new hD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends XT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Kn(t,n)}matches(t){return WT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WT(i){return i.op==="and"}function ZT(i){return lD(i)&&WT(i)}function lD(i){for(const t of i.filters)if(t instanceof Kn)return!1;return!0}function Qm(i){if(i instanceof Te)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(ZT(i))return i.filters.map(t=>Qm(t)).join(",");{const t=i.filters.map(n=>Qm(n)).join(",");return`${i.op}(${t})`}}function JT(i,t){return i instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(i,t):i instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&JT(f,o.filters[m]),!0):!1}(i,t):void Tt(19439)}function $T(i){return i instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(i):"Filter"}class uD extends Te{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class cD extends Te{constructor(t,n){super(t,"in",n),this.keys=tA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class hD extends Te{constructor(t,n){super(t,"not-in",n),this.keys=tA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tA(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class fD extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xp(n)&&nu(n.arrayValue,this.value)}}class dD extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class mD extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class pD extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function V0(i,t=null,n=[],s=[],o=null,u=null,f=null){return new gD(i,t,n,s,o,u,f)}function Vp(i){const t=wt(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Qm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>uo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>uo(s)).join(",")),t.Ie=n}return t.Ie}function Mp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!oD(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!JT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!x0(i.startAt,t.startAt)&&x0(i.endAt,t.endAt)}function Ym(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yD(i,t,n,s,o,u,f,m){return new gu(i,t,n,s,o,u,f,m)}function Yh(i){return new gu(i)}function M0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eA(i){return i.collectionGroup!==null}function Ql(i){const t=wt(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ne(Qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Dh(u,s))}),n.has(Qe.keyField().canonicalString())||t.Ee.push(new Dh(Qe.keyField(),s))}return t.Ee}function pi(i){const t=wt(i);return t.de||(t.de=_D(t,Ql(i))),t.de}function _D(i,t){if(i.limitType==="F")return V0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)});const n=i.endAt?new Ch(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ch(i.startAt.position,i.startAt.inclusive):null;return V0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Km(i,t){const n=i.filters.concat([t]);return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Xm(i,t,n){return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Kh(i,t){return Mp(pi(i),pi(t))&&i.limitType===t.limitType}function nA(i){return`${Vp(pi(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$T(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(pi(i))}; limitType=${i.limitType})`}function Xh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=O0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=O0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,t)}function vD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iA(i){return(t,n)=>{let s=!1;for(const o of Ql(i)){const u=ED(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ED(i,t,n){const s=i.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Tt(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new le(gt.comparator);function ir(){return TD}const rA=new le(gt.comparator);function zl(...i){let t=rA;for(const n of i)t=t.insert(n.key,n);return t}function sA(i){let t=rA;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Gs(){return Yl()}function aA(){return Yl()}function Yl(){return new ea(i=>i.toString(),(i,t)=>i.isEqual(t))}const AD=new le(gt.comparator),SD=new Ne(gt.comparator);function Pt(...i){let t=SD;for(const n of i)t=t.add(n);return t}const bD=new Ne(Ct);function wD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function oA(i){return{integerValue:""+i}}function RD(i,t){return $2(t)?oA(t):Pp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function ID(i,t,n){return i instanceof iu?function(o,u){const f={fields:{[HT]:{stringValue:qT},[GT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Op(u)&&(u=Qh(u)),u&&(f.fields[FT]=u),{mapValue:f}}(n,t):i instanceof co?uA(i,t):i instanceof ru?cA(i,t):function(o,u){const f=lA(o,u),m=P0(f)+P0(o.Re);return Gm(f)&&Gm(o.Re)?oA(m):Pp(o.serializer,m)}(i,t)}function CD(i,t,n){return i instanceof co?uA(i,t):i instanceof ru?cA(i,t):n}function lA(i,t){return i instanceof Nh?function(s){return Gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class iu extends Wh{}class co extends Wh{constructor(t){super(),this.elements=t}}function uA(i,t){const n=hA(t);for(const s of i.elements)n.some(o=>vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ru extends Wh{constructor(t){super(),this.elements=t}}function cA(i,t){let n=hA(t);for(const s of i.elements)n=n.filter(o=>!vi(o,s));return{arrayValue:{values:n}}}class Nh extends Wh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function P0(i){return pe(i.integerValue||i.doubleValue)}function hA(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n){this.field=t,this.transform=n}}function DD(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof co&&o instanceof co||s instanceof ru&&o instanceof ru?oo(s.elements,o.elements,vi):s instanceof Nh&&o instanceof Nh?vi(s.Re,o.Re):s instanceof iu&&o instanceof iu}(i.transform,t.transform)}class ND{constructor(t,n){this.version=t,this.transformResults=n}}class gi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Zh{}function dA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new pA(i.key,gi.none()):new yu(i.key,i.data,gi.none());{const n=i.data,s=dn.empty();let o=new Ne(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(i.key,s,new Sn(o.toArray()),gi.none())}}function OD(i,t,n){i instanceof yu?function(o,u,f){const m=o.value.clone(),p=L0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,n):i instanceof as?function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=L0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(mA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Kl(i,t,n,s){return i instanceof yu?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),E=U0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof as?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=U0(u.fieldTransforms,p,f),E=f.data;return E.setAll(mA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,t,n,s):function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,n)}function xD(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=lA(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function k0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>DD(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class yu extends Zh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends Zh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mA(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function L0(i,t,n){const s=new Map;Ft(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,CD(f,m,n[o]))}return s}function U0(i,t,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ID(u,f,t))}return s}class pA extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&OD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=aA();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=dA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,(n,s)=>k0(n,s))&&oo(this.baseMutations,t.baseMutations,(n,s)=>k0(n,s))}}class kp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return AD}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Bt;function LD(i){switch(i){case nt.OK:return Tt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function gA(i){if(i===void 0)return nr("GRPC error has no .code"),nt.UNKNOWN;switch(i){case Ee.OK:return nt.OK;case Ee.CANCELLED:return nt.CANCELLED;case Ee.UNKNOWN:return nt.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return nt.INTERNAL;case Ee.UNAVAILABLE:return nt.UNAVAILABLE;case Ee.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ee.NOT_FOUND:return nt.NOT_FOUND;case Ee.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ee.ABORTED:return nt.ABORTED;case Ee.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ee.DATA_LOSS:return nt.DATA_LOSS;default:return Tt(39323,{code:i})}}(Bt=Ee||(Ee={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Yr([4294967295,4294967295],0);function B0(i){const t=LT().encode(i),n=new DT;return n.update(t),new Uint8Array(n.digest())}function z0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Lp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Yr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Yr.fromNumber(s)));return o.compare(UD)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=B0(t),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Lp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=B0(t),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Jh(bt.min(),o,new le(Ct),ir(),Pt())}}class _u{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new _u(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class yA{constructor(t,n){this.targetId=t,this.Ce=n}}class _A{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j0{constructor(){this.Fe=0,this.Me=q0(),this.xe=Ye.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new _u(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=q0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BD{constructor(t){this.ze=t,this.je=new Map,this.He=ir(),this.Je=$c(),this.Ye=$c(),this.Ze=new le(Ct)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new gt(u.path);this.tt(n,f,$e.newNoDocument(f,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof jT)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,u)}catch(p){return ao(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Ym(m.target)){const p=new gt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$e.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Jh(t,n,this.Ze,this.He,s);return this.He=ir(),this.Je=$c(),this.Ye=$c(),this.Ze=new le(Ct),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new j0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ne(Ct),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ne(Ct),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new j0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function $c(){return new le(gt.comparator)}function q0(){return new le(gt.comparator)}const zD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qD={and:"AND",or:"OR"};class HD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wm(i,t){return i.useProto3Json||Gh(t)?t:{value:t}}function Oh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function FD(i,t){return Oh(i,t.toTimestamp())}function yi(i){return Ft(!!i,49232),bt.fromTimestamp(function(n){const s=Zr(n);return new De(s.seconds,s.nanos)}(i))}function Up(i,t){return Zm(i,t).canonicalString()}function Zm(i,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function EA(i){const t=ne.fromString(i);return Ft(wA(t),10190,{key:t.toString()}),t}function Jm(i,t){return Up(i.databaseId,t.path)}function Cm(i,t){const n=EA(t);if(n.get(1)!==i.databaseId.projectId)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new gt(AA(n))}function TA(i,t){return Up(i.databaseId,t)}function GD(i){const t=EA(i);return t.length===4?ne.emptyPath():AA(t)}function $m(i){return new ne(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AA(i){return Ft(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function H0(i,t,n){return{name:Jm(i,t),fields:n.value.mapValue.fields}}function QD(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?nt.UNKNOWN:gA(g.code);return new ft(E,g.message||"")}(f);n=new _A(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(i,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):bt.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Cm(i,s.document),u=s.readTime?yi(s.readTime):bt.min(),f=$e.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Cm(i,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new kD(o,u),m=s.targetId;n=new yA(m,f)}}return n}function YD(i,t){let n;if(t instanceof yu)n={update:H0(i,t.key,t.value)};else if(t instanceof pA)n={delete:Jm(i,t.key)};else if(t instanceof as)n={update:H0(i,t.key,t.data),updateMask:nN(t.fieldMask)};else{if(!(t instanceof VD))return Tt(16599,{ft:t.type});n={verify:Jm(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof co)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:FD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(i,t.precondition)),n}function KD(i,t){return i&&i.length>0?(Ft(t!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(bt.min())&&(f=yi(u)),new ND(f,o.transformResults||[])}(n,t))):[]}function XD(i,t){return{documents:[TA(i,t.path)]}}function WD(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TA(i,o);const u=function(g){if(g.length!==0)return bA(Kn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Ja(A.field),direction:$D(A.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function ZD(i){let t=GD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const A=SA(S);return A instanceof Kn&&ZT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(A=>function(O){return new Dh($a(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,Gh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(S){const A=!!S.before,N=S.values||[];return new Ch(N,A)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const A=!S.before,N=S.values||[];return new Ch(N,A)}(n.endAt)),yD(t,o,f,u,m,"F",p,g)}function JD(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(i):i.fieldFilter!==void 0?function(n){return Te.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>SA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(i):Tt(30097,{filter:i})}function $D(i){return zD[i]}function tN(i){return jD[i]}function eN(i){return qD[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function $a(i){return Qe.fromServerFormat(i.fieldPath)}function bA(i){return i instanceof Te?function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:tN(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(o=>bA(o));return s.length===1?s[0]:{compositeFilter:{op:eN(n.op),filters:s}}}(i):Tt(54877,{filter:i})}function nN(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function wA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.wt=t}}function rN(i){const t=ZD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.Cn=new aN}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Wr.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class aN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ne(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ne(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RA=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(RA,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ho(0)}static lr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="LruGarbageCollector",oN=1048576;function Q0([i,t],[n,s]){const o=Ct(i,n);return o===0?Ct(t,s):o}class lN{constructor(t){this.Er=t,this.buffer=new Ne(Q0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Q0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(G0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ht(G0,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.mr(3e5)})}}class cN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Fh.le);const s=new lN(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(F0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),Wa()<=Mt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function hN(i,t){return new cN(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.changes=new ea(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Kl(s.mutation,o,Sn.empty(),De.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Gs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Gs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=ir();const f=Yl(),m=function(){return Yl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),De.now())):f.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new dN(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Yl();let o=new le((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=aA();E.forEach(A=>{if(!u.has(A)){const N=dA(n.get(A),s.get(A));N!==null&&S.set(A,N),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):eA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Gs());let m=$l,p=u;return f.next(g=>tt.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Pt())).next(E=>({batchId:m,changes:sA(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(S,A){return new gu(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((S,A)=>{f=f.insert(S,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))});let m=zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,Sn.empty(),De.now()),Xh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return tt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:yi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.overlays=new le(gt.comparator),this.Qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Gs();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Gs(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new le((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return tt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new PD(n,s));let u=this.Qr.get(n);u===void 0&&(u=Pt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.$r=new Ne(Le.Ur),this.Kr=new Ne(Le.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Le(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Le(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new gt(new ne([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new gt(new ne([])),s=new Le(n,t),o=new Le(n,t+1);let u=Pt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return gt.comparator(t.key,n.key)||Ct(t.Zr,n.Zr)}static Wr(t,n){return Ct(t.Zr,n.Zr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ne(Le.Ur)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Np:this.nr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ne(Ct);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new gt(u),0);let m=new Ne(Ct);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),tt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Le(n,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t){this.ii=t,this.docs=function(){return new le(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=ir();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ir();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||X2(K2(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}si(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new EN(this)}getSize(t){return tt.resolve(this.size)}}class EN extends fN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.persistence=t,this.oi=new ea(n=>Vp(n),Mp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this._i=0,this.ai=new Bp,this.targetCount=0,this.ui=ho.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),tt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ho(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Tr(n),tt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n){this.ci={},this.overlays={},this.li=new Fh(0),this.hi=!1,this.hi=!0,this.Pi=new yN,this.referenceDelegate=t(this),this.Ti=new TN(this),this.indexManager=new sN,this.remoteDocumentCache=function(o){return new vN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new iN(n),this.Ei=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new _N(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new AN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class AN extends Z2{constructor(t){super(),this.currentSequenceNumber=t}}class zp{constructor(t){this.persistence=t,this.Vi=new Bp,this.mi=null}static fi(t){return new zp(t)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=gt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return tt.or([()=>tt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class xh{constructor(t,n){this.persistence=t,this.yi=new ea(s=>tD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hN(this,n)}static fi(t,n){return new xh(t,n)}di(){}Ai(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return tt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=uh(t.data.value)),n}Dr(t,n,s){return tt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return nR()?8:J2(en())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new SN;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Wa()<=Mt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(Wa()<=Mt.DEBUG&&ht("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Wa()<=Mt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):tt.resolve())}ws(t,n){if(M0(n))return tt.resolve(null);let s=pi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(t,Xm(n,null,"F")):this.Fs(t,g,n,p)}))})))}bs(t,n,s,o){return M0(n)||o.isEqual(bt.min())?tt.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(Wa()<=Mt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Fs(t,f,n,Y2(o,$l)).next(m=>m))})}vs(t,n){let s=new Ne(iA(t));return n.forEach((o,u)=>{Xh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Wa()<=Mt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ys.getDocumentsMatchingQuery(t,n,Wr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",wN=3e8;class RN{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new le(Ct),this.Os=new ea(u=>Vp(u),Mp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function IN(i,t,n,s){return new RN(i,t,n,s)}async function CA(i,t){const n=wt(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function CN(i,t){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,A=S.keys();let N=tt.resolve();return A.forEach(O=>{N=N.next(()=>E.getEntry(p,O)).next(B=>{const L=g.docVersions.get(O);Ft(L!==null,48541),B.version.compareTo(L)<0&&(S.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function DA(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function DN(i,t){const n=wt(i),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,S)));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?N=N.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(S,N),function(B,L,P){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=wN?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(A,N,E)&&m.push(n.Ti.updateTargetData(u,N))});let p=ir(),g=Pt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(NN(u,f,t.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(bt.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function NN(i,t,n){let s=Pt(),o=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=ir();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function ON(i,t){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function xN(i,t){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Hr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function tp(i,t,n){const s=wt(i),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ao(f))throw f;ht(qp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function Y0(i,t,n){const s=wt(i);let o=bt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=wt(p),A=S.Os.get(E);return A!==void 0?tt.resolve(S.xs.get(A)):S.Ti.getTargetData(g,E)}(s,f,pi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Pt())).next(m=>(VN(s,vD(t),m),{documents:m,$s:u})))}function VN(i,t,n){let s=i.Ns.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class K0{constructor(){this.activeTargetIds=wD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MN{constructor(){this.xo=new K0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new K0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="ConnectivityMonitor";class W0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(X0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(X0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function ep(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",kN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=ep(),m=this.jo(t,n.toUriEncodedString());ht(Dm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=yo(g);return this.Jo(t,m,p,s,E).then(S=>(ht(Dm,`Received RPC '${t}' ${f}: `,S),S),S=>{throw ao(Dm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=kN[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class BN extends LN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ep();return new Promise((m,p)=>{const g=new NT;g.setWithCredentials(!0),g.listenOnce(OT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const S=g.getResponseJson();ht(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case lh.TIMEOUT:ht(Ze,`RPC '${t}' ${f} timed out`),p(new ft(nt.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const A=g.getStatus();if(ht(Ze,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const B=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(F)>=0?F:nt.UNKNOWN}(O.status);p(new ft(B,O.message))}else p(new ft(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ft(nt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{h_:t,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ht(Ze,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ht(Ze,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(t,n,s){const o=ep(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=MT(),m=VT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);this.E_(S);let A=!1,N=!1;const O=new UN({Zo:L=>{N?ht(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(A||(ht(Ze,`Opening RPC '${t}' stream ${o} transport.`),S.open(),A=!0),ht(Ze,`RPC '${t}' stream ${o} sending:`,L),S.send(L))},Xo:()=>S.close()}),B=(L,P,F)=>{L.listen(P,Y=>{try{F(Y)}catch(it){setTimeout(()=>{throw it},0)}})};return B(S,Bl.EventType.OPEN,()=>{N||(ht(Ze,`RPC '${t}' stream ${o} transport opened.`),O.__())}),B(S,Bl.EventType.CLOSE,()=>{N||(N=!0,ht(Ze,`RPC '${t}' stream ${o} transport closed`),O.u_(),this.d_(S))}),B(S,Bl.EventType.ERROR,L=>{N||(N=!0,ao(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),O.u_(new ft(nt.UNAVAILABLE,"The operation could not be completed")))}),B(S,Bl.EventType.MESSAGE,L=>{var P;if(!N){const F=L.data[0];Ft(!!F,16349);const Y=F,it=Y?.error||((P=Y[0])===null||P===void 0?void 0:P.error);if(it){ht(Ze,`RPC '${t}' stream ${o} received error:`,it);const st=it.status;let ct=function(R){const x=Ee[R];if(x!==void 0)return gA(x)}(st),I=it.message;ct===void 0&&(ct=nt.INTERNAL,I="Unknown error status: "+st+" with message "+it.message),N=!0,O.u_(new ft(ct,I)),S.close()}else ht(Ze,`RPC '${t}' stream ${o} received:`,F),O.c_(F)}}),B(m,xT.STAT_EVENT,L=>{L.stat===qm.PROXY?ht(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===qm.NOPROXY&&ht(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i){return new HD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="PersistentStream";class OA{constructor(t,n,s,o,u,f,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new NA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new ft(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ht(Z0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ht(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends OA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=QD(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?yi(f.readTime):bt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=$m(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:XD(u,p)}:{query:WD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=vA(u,f.resumeToken);const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=JD(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=$m(this.serializer),n.removeTarget=t,this.Q_(n)}}class jN extends OA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=KD(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=$m(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>YD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{}class HN extends qN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,Zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(nt.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,Zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(nt.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class FN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(nr(n),this.ua=!1):ht("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class GN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{na(this)&&(ht(Zs,"Restarting streams for network reachability change."),await async function(p){const g=wt(p);g.da.add(4),await vu(g),g.Va.set("Unknown"),g.da.delete(4),await tf(g)}(this))})}),this.Va=new FN(s,o)}}async function tf(i){if(na(i))for(const t of i.Aa)await t(!0)}async function vu(i){for(const t of i.Aa)await t(!1)}function xA(i,t){const n=wt(i);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Qp(n)?Gp(n):So(n).N_()&&Fp(n,t))}function Hp(i,t){const n=wt(i),s=So(n);n.Ea.delete(t),s.N_()&&VA(n,t),n.Ea.size===0&&(s.N_()?s.k_():na(n)&&n.Va.set("Unknown"))}function Fp(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(i).Z_(t)}function VA(i,t){i.ma.Ke(t),So(i).X_(t)}function Gp(i){i.ma=new BD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),So(i).start(),i.Va.ca()}function Qp(i){return na(i)&&!So(i).O_()&&i.Ea.size>0}function na(i){return wt(i).da.size===0}function MA(i){i.ma=void 0}async function QN(i){i.Va.set("Online")}async function YN(i){i.Ea.forEach((t,n)=>{Fp(i,t)})}async function KN(i,t){MA(i),Qp(i)?(i.Va.Pa(t),Gp(i)):i.Va.set("Unknown")}async function XN(i,t,n){if(i.Va.set("Online"),t instanceof _A&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(i,t)}catch(s){ht(Zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vh(i,s)}else if(t instanceof fh?i.ma.Xe(t):t instanceof yA?i.ma.ot(t):i.ma.nt(t),!n.isEqual(bt.min()))try{const s=await DA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),VA(u,p);const S=new Hr(E.target,p,g,E.sequenceNumber);Fp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ht(Zs,"Failed to raise snapshot:",s),await Vh(i,s)}}async function Vh(i,t,n){if(!Ao(t))throw t;i.da.add(1),await vu(i),i.Va.set("Offline"),n||(n=()=>DA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ht(Zs,"Retrying IndexedDB access"),await n(),i.da.delete(1),await tf(i)})}function PA(i,t){return t().catch(n=>Vh(i,n,t))}async function ef(i){const t=wt(i),n=ts(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Np;for(;WN(t);)try{const o=await ON(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,ZN(t,o)}catch(o){await Vh(t,o)}kA(t)&&LA(t)}function WN(i){return na(i)&&i.Ia.length<10}function ZN(i,t){i.Ia.push(t);const n=ts(i);n.N_()&&n.ea&&n.ta(t.mutations)}function kA(i){return na(i)&&!ts(i).O_()&&i.Ia.length>0}function LA(i){ts(i).start()}async function JN(i){ts(i).ia()}async function $N(i){const t=ts(i);for(const n of i.Ia)t.ta(n.mutations)}async function tO(i,t,n){const s=i.Ia.shift(),o=kp.from(s,t,n);await PA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ef(i)}async function eO(i,t){t&&ts(i).ea&&await async function(s,o){if(function(f){return LD(f)&&f!==nt.ABORTED}(o.code)){const u=s.Ia.shift();ts(s).L_(),await PA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ef(s)}}(i,t),kA(i)&&LA(i)}async function J0(i,t){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),ht(Zs,"RemoteStore received new credentials");const s=na(n);n.da.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await tf(n)}async function nO(i,t){const n=wt(i);t?(n.da.delete(2),await tf(n)):t||(n.da.add(2),await vu(n),n.Va.set("Unknown"))}function So(i){return i.fa||(i.fa=function(n,s,o){const u=wt(n);return u.oa(),new zN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:QN.bind(null,i),n_:YN.bind(null,i),i_:KN.bind(null,i),Y_:XN.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Qp(i)?Gp(i):i.Va.set("Unknown")):(await i.fa.stop(),MA(i))})),i.fa}function ts(i){return i.ga||(i.ga=function(n,s,o){const u=wt(n);return u.oa(),new jN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:JN.bind(null,i),i_:eO.bind(null,i),na:$N.bind(null,i),ra:tO.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await ef(i)):(await i.ga.stop(),i.Ia.length>0&&(ht(Zs,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Yp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(i,t){if(nr("AsyncQueue",`${t}: ${i}`),Ao(i))return new ft(nt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.pa=new le(gt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class fo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(t,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class rO{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=tE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ft(nt.ABORTED,"Firestore shutting down"))}}function tE(){return new ea(i=>nA(i),Kh)}async function Xp(i,t){const n=wt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new iO,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kp(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&Zp(n)}async function Wp(i,t){const n=wt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sO(i,t){const n=wt(i);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Zp(n)}function aO(i,t,n){const s=wt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Zp(i){i.Ca.forEach(t=>{t.next()})}var np,eE;(eE=np||(np={})).xa="default",eE.Cache="cache";class Jp{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new fo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this.key=t}}class BA{constructor(t){this.key=t}}class oO{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.Za=iA(t),this.Xa=new ro(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new $0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const A=o.get(E),N=Xh(this.query,S)?S:null,O=!!A&&this.mutatedKeys.has(A.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;A&&N?A.data.isEqual(N.data)?O!==B&&(s.track({type:3,doc:N}),L=!0):this.ru(A,N)||(s.track({type:2,doc:N}),L=!0,(p&&this.Za(N,p)>0||g&&this.Za(N,g)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),L=!0):A&&!N&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(N?(f=f.add(N),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((E,S)=>function(N,O){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:L})}};return B(N)-B(O)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new fo(this.query,t.Xa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new BA(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new UA(s))}),n}au(t){this.Ha=t.$s,this.Ya=Pt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return fo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const $p="SyncEngine";class lO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class uO{constructor(t){this.key=t,this.cu=!1}}class cO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new ea(m=>nA(m),Kh),this.Pu=new Map,this.Tu=new Set,this.Iu=new le(gt.comparator),this.Eu=new Map,this.du=new Bp,this.Au={},this.Ru=new Map,this.Vu=ho.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function hO(i,t,n=!0){const s=GA(i);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await zA(s,t,n,!0),o}async function fO(i,t){const n=GA(i);await zA(n,t,!0,!1)}async function zA(i,t,n,s){const o=await xN(i.localStore,pi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await dO(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&xA(i.remoteStore,o),m}async function dO(i,t,n,s,o){i.fu=(S,A,N)=>async function(B,L,P,F){let Y=L.view.tu(P);Y.Cs&&(Y=await Y0(B.localStore,L.query,!1).then(({documents:I})=>L.view.tu(I,Y)));const it=F&&F.targetChanges.get(L.targetId),st=F&&F.targetMismatches.get(L.targetId)!=null,ct=L.view.applyChanges(Y,B.isPrimaryClient,it,st);return iE(B,L.targetId,ct.ou),ct.snapshot}(i,S,A,N);const u=await Y0(i.localStore,t,!0),f=new oO(t,u.$s),m=f.tu(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);iE(i,n,g.ou);const E=new lO(t,n,f);return i.hu.set(t,E),i.Pu.has(n)?i.Pu.get(n).push(t):i.Pu.set(n,[t]),g.snapshot}async function mO(i,t,n){const s=wt(i),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Kh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),ip(s,o.targetId)}).catch(To)):(ip(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function pO(i,t){const n=wt(i),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function gO(i,t,n){const s=SO(i);try{const o=await function(f,m){const p=wt(f),g=De.now(),E=m.reduce((N,O)=>N.add(O.key),Pt());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=ir(),B=Pt();return p.Bs.getEntries(N,E).next(L=>{O=L,O.forEach((P,F)=>{F.isValidDocument()||(B=B.add(P))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(L=>{S=L;const P=[];for(const F of m){const Y=xD(F,S.get(F.key).overlayedDocument);Y!=null&&P.push(new as(F.key,Y,KT(Y.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,P,m)}).next(L=>{A=L;const P=L.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(N,L.batchId,P)})}).then(()=>({batchId:A.batchId,changes:sA(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new le(Ct)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await Eu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function jA(i,t){const n=wt(i);try{const s=await DN(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ft(f.cu,14607):o.removedDocuments.size>0&&(Ft(f.cu,42227),f.cu=!1))}),await Eu(n,s,t)}catch(s){await To(s)}}function nE(i,t,n){const s=wt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const A of S.Sa)A.Fa(m)&&(g=!0)}),g&&Zp(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function yO(i,t,n){const s=wt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new le(gt.comparator);f=f.insert(u,$e.newNoDocument(u,bt.min()));const m=Pt().add(u),p=new Jh(bt.min(),new Map,new le(Ct),f,m);await jA(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),tg(s)}else await tp(s.localStore,t,!1).then(()=>ip(s,t,n)).catch(To)}async function _O(i,t){const n=wt(i),s=t.batch.batchId;try{const o=await CN(n.localStore,t);HA(n,s,null),qA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await To(o)}}async function vO(i,t,n){const s=wt(i);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ft(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);HA(s,t,n),qA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Eu(s,o)}catch(o){await To(o)}}function qA(i,t){(i.Ru.get(t)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(t)}function HA(i,t,n){const s=wt(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function ip(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||FA(i,s)})}function FA(i,t){i.Tu.delete(t.path.canonicalString());const n=i.Iu.get(t);n!==null&&(Hp(i.remoteStore,n),i.Iu=i.Iu.remove(t),i.Eu.delete(n),tg(i))}function iE(i,t,n){for(const s of n)s instanceof UA?(i.du.addReference(s.key,t),EO(i,s)):s instanceof BA?(ht($p,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||FA(i,s.key)):Tt(19791,{pu:s})}function EO(i,t){const n=t.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(ht($p,"New document in limbo: "+n),i.Tu.add(s),tg(i))}function tg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const n=new gt(ne.fromString(t)),s=i.Vu.next();i.Eu.set(s,new uO(n)),i.Iu=i.Iu.insert(n,s),xA(i.remoteStore,new Hr(pi(Yh(n.path)),s,"TargetPurposeLimboResolution",Fh.le))}}async function Eu(i,t,n){const s=wt(i),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=jp.Rs(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>tt.forEach(g,A=>tt.forEach(A.ds,N=>E.persistence.referenceDelegate.addReference(S,A.targetId,N)).next(()=>tt.forEach(A.As,N=>E.persistence.referenceDelegate.removeReference(S,A.targetId,N)))))}catch(S){if(!Ao(S))throw S;ht(qp,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const N=E.xs.get(A),O=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(A,B)}}}(s.localStore,u))}async function TO(i,t){const n=wt(i);if(!n.currentUser.isEqual(t)){ht($p,"User change. New user:",t.toKey());const s=await CA(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ft(nt.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.ks)}}function AO(i,t){const n=wt(i),s=n.Eu.get(t);if(s&&s.cu)return Pt().add(s.key);{let o=Pt();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function GA(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yO.bind(null,t),t.lu.Y_=sO.bind(null,t.eventManager),t.lu.gu=aO.bind(null,t.eventManager),t}function SO(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vO.bind(null,t),t}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$h(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return IN(this.persistence,new bN,t.initialUser,this.serializer)}Su(t){return new IA(zp.fi,this.serializer)}bu(t){return new MN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class bO extends Mh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ft(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uN(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new IA(s=>xh.fi(s,n),this.serializer)}}class rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TO.bind(null,this.syncEngine),await nO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rO}()}createDatastore(t){const n=$h(t.databaseInfo.databaseId),s=function(u){return new BN(u)}(t.databaseInfo);return function(u,f,m,p){return new HN(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new GN(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return W0.C()?new W0:new PN}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const S=new cO(o,u,f,m,p,g);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);ht(Zs,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class wO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Om(i,t){i.asyncQueue.verifyOperationInProgress(),ht(es,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await CA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function rE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await RO(i);ht(es,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>J0(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>J0(t.remoteStore,o)),i._onlineComponents=t}async function RO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(es,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Om(i,new Mh)}}else ht(es,"Using default OfflineComponentProvider"),await Om(i,new bO(void 0));return i._offlineComponents}async function QA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(es,"Using user provided OnlineComponentProvider"),await rE(i,i._uninitializedComponentsProvider._online)):(ht(es,"Using default OnlineComponentProvider"),await rE(i,new rp))),i._onlineComponents}function IO(i){return QA(i).then(t=>t.syncEngine)}async function Ph(i){const t=await QA(i),n=t.eventManager;return n.onListen=hO.bind(null,t.syncEngine),n.onUnlisten=mO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pO.bind(null,t.syncEngine),n}function CO(i,t,n={}){const s=new Zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new eg({next:A=>{E.xu(),f.enqueueAndForget(()=>Wp(u,S));const N=A.docs.has(m);!N&&A.fromCache?g.reject(new ft(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&p&&p.source==="server"?g.reject(new ft(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new Jp(Yh(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Xp(u,S)}(await Ph(i),i.asyncQueue,t,n,s)),s.promise}function DO(i,t,n={}){const s=new Zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new eg({next:A=>{E.xu(),f.enqueueAndForget(()=>Wp(u,S)),A.fromCache&&p.source==="server"?g.reject(new ft(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new Jp(m,E,{includeMetadataChanges:!0,Qa:!0});return Xp(u,S)}(await Ph(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(i,t,n){if(!n)throw new ft(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function NO(i,t,n,s){if(t===!0&&s===!0)throw new ft(nt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function aE(i){if(!gt.isDocumentKey(i))throw new ft(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function oE(i){if(gt.isDocumentKey(i))throw new ft(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function Un(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ft(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new ft(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",lE=!0;class uE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=lE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:lE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oN)throw new ft(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new U2;switch(s.type){case"firstParty":return new q2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function OO(i,t,n,s={}){var o;i=Un(i,rf);const u=yo(t),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(zE(`https://${p}`),jE("Firestore",!0)),f.host!==XA&&f.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Xr(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Je.MOCK_USER;else{E=Yw(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Je(A)}i._authCredentials=new B2(new kT(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ia(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Kr extends ia{constructor(t,n,s){super(t,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new gt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function dh(i,t,...n){if(i=Be(i),KA("collection","path",t),i instanceof rf){const s=ne.fromString(t,...n);return oE(s),new Kr(i,null,s)}{if(!(i instanceof tn||i instanceof Kr))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...n));return oE(s),new Kr(i.firestore,null,s)}}function Ue(i,t,...n){if(i=Be(i),arguments.length===1&&(t=UT.newId()),KA("doc","path",t),i instanceof rf){const s=ne.fromString(t,...n);return aE(s),new tn(i,null,new gt(s))}{if(!(i instanceof tn||i instanceof Kr))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...n));return aE(s),new tn(i.firestore,i instanceof Kr?i.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new NA(this,"async_queue_retry"),this.rc=()=>{const s=Nm();s&&ht(cE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ao(t))throw t;ht(cE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,nr("INTERNAL UNHANDLED ERROR: ",fE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=Yp.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Tt(47125,{cc:fE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function fE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Js extends rf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new hE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hE(t),this._firestoreClient=void 0,await t}}}function xO(i,t){const n=typeof i=="object"?i:GE(),s=typeof i=="string"?i:Rh,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Gw("firestore");u&&OO(o,...u)}return o}function sf(i){if(i._terminated)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VO(i),i._firestoreClient}function VO(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new iD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,YA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new wO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mo(Ye.fromBase64String(t))}catch(n){throw new ft(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mo(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=/^__.*__$/;class PO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,n,this.fieldTransforms):new yu(t,this.data,n,this.fieldTransforms)}}class WA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new as(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ic:i})}}class of{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new of(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return kh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(ZA(this.Ic)&&MO.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class kO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||$h(t)}bc(t,n,s,o=!1){return new of({Ic:t,methodName:n,wc:s,path:Qe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(i){const t=i._freezeSettings(),n=$h(i._databaseId);return new kO(i._databaseId,!!t.ignoreUndefinedProperties,n)}function LO(i,t,n,s,o,u={}){const f=i.bc(u.merge||u.mergeFields?2:0,t,n,o);og("Data must be an object, but it was:",f,s);const m=JA(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=sp(t,S,n);if(!f.contains(A))throw new ft(nt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);t1(E,A)||E.push(A)}p=new Sn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new PO(new dn(m),p,g)}class lf extends Tu{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lf}}function UO(i,t,n){return new of({Ic:3,wc:t.settings.wc,methodName:i._methodName,Rc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class sg extends Tu{_toFieldTransform(t){return new fA(t.path,new iu)}isEqual(t){return t instanceof sg}}class ag extends Tu{constructor(t,n){super(t),this.Sc=n}_toFieldTransform(t){const n=UO(this,t,!0),s=this.Sc.map(u=>bo(u,n)),o=new co(s);return new fA(t.path,o)}isEqual(t){return t instanceof ag&&Xr(this.Sc,t.Sc)}}function BO(i,t,n,s){const o=i.bc(1,t,n);og("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ss(s,(p,g)=>{const E=lg(t,p,n);g=Be(g);const S=o.mc(E);if(g instanceof lf)u.push(E);else{const A=bo(g,S);A!=null&&(u.push(E),f.set(E,A))}});const m=new Sn(u);return new WA(f,m,o.fieldTransforms)}function zO(i,t,n,s,o,u){const f=i.bc(1,t,n),m=[sp(t,s,n)],p=[o];if(u.length%2!=0)throw new ft(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(sp(t,u[A])),p.push(u[A+1]);const g=[],E=dn.empty();for(let A=m.length-1;A>=0;--A)if(!t1(g,m[A])){const N=m[A];let O=p[A];O=Be(O);const B=f.mc(N);if(O instanceof lf)g.push(N);else{const L=bo(O,B);L!=null&&(g.push(N),E.set(N,L))}}const S=new Sn(g);return new WA(E,S,f.fieldTransforms)}function jO(i,t,n,s=!1){return bo(n,i.bc(s?4:3,t))}function bo(i,t){if($A(i=Be(i)))return og("Unsupported field value:",t,i),JA(i,t);if(i instanceof Tu)return function(s,o){if(!ZA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=bo(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=De.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof De){const u=new De(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof ng)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:vA(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ig)return function(f,m){return{mapValue:{fields:{[QT]:{stringValue:YT},[Ih]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${nf(s)}`)}(i,t)}function JA(i,t){const n={};return zT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(i,(s,o)=>{const u=bo(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $A(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof De||i instanceof ng||i instanceof mo||i instanceof tn||i instanceof Tu||i instanceof ig)}function og(i,t,n){if(!$A(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=nf(n);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function sp(i,t,n){if((t=Be(t))instanceof af)return t._internalPath;if(typeof t=="string")return lg(i,t);throw kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const qO=new RegExp("[~\\*/\\[\\]]");function lg(i,t,n){if(t.search(qO)>=0)throw kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...t.split("."))._internalPath}catch{throw kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function kh(i,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ft(nt.INVALID_ARGUMENT,m+i+p)}function t1(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HO extends e1{data(){return super.data()}}function ug(i,t){return typeof t=="string"?lg(i,t):t instanceof af?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ft(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class FO extends cg{}function i1(i,t,...n){let s=[];t instanceof cg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof hg).length,m=u.filter(p=>p instanceof uf).length;if(f>1||f>0&&m>0)throw new ft(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class uf extends FO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new uf(t,n,s)}_apply(t){const n=this._parse(t);return s1(t._query,n),new ia(t.firestore,t.converter,Km(t._query,n))}_parse(t){const n=rg(t.firestore);return function(u,f,m,p,g,E,S){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){pE(S,E);const O=[];for(const B of S)O.push(mE(p,u,B));A={arrayValue:{values:O}}}else A=mE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||pE(S,E),A=jO(m,f,S,E==="in"||E==="not-in");return Te.create(g,E,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function r1(i,t,n){const s=t,o=ug("where",i);return uf._create(o,s,n)}class hg extends cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)s1(f,p),f=Km(f,p)}(t._query,n),new ia(t.firestore,t.converter,Km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mE(i,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ft(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(t)&&n.indexOf("/")!==-1)throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(s))throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C0(i,new gt(s))}if(n instanceof tn)return C0(i,n._key);throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function pE(i,t){if(!Array.isArray(i)||i.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function s1(i,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class GO{convertValue(t,n="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ss(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new ig(u)}convertGeoPoint(t){return new ng(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(t));default:return null}}convertTimestamp(t){const n=Zr(t);return new De(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(wA(s),9688,{name:t});const o=new eu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class a1 extends e1{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mh extends a1{data(t={}){return super.data(t)}}class o1{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:YO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(i){i=Un(i,tn);const t=Un(i.firestore,Js);return CO(sf(t),i._key).then(n=>h1(t,i,n))}class fg extends GO{constructor(t){super(),this.firestore=t}convertBytes(t){return new mo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function l1(i){i=Un(i,ia);const t=Un(i.firestore,Js),n=sf(t),s=new fg(t);return n1(i._query),DO(n,i._query).then(o=>new o1(t,s,i,o))}function ap(i,t,n){i=Un(i,tn);const s=Un(i.firestore,Js),o=QO(i.converter,t);return c1(s,[LO(rg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,gi.none())])}function Qn(i,t,n,...s){i=Un(i,tn);const o=Un(i.firestore,Js),u=rg(o);let f;return f=typeof(t=Be(t))=="string"||t instanceof af?zO(u,"updateDoc",i._key,t,n,s):BO(u,"updateDoc",i._key,t),c1(o,[f.toMutation(i._key,gi.exists(!0))])}function u1(i,...t){var n,s,o;i=Be(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||dE(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(dE(t[f])){const S=t[f];t[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(i instanceof tn)g=Un(i.firestore,Js),E=Yh(i._key.path),p={next:S=>{t[f]&&t[f](h1(g,i,S))},error:t[f+1],complete:t[f+2]};else{const S=Un(i,ia);g=Un(S.firestore,Js),E=S._query;const A=new fg(g);p={next:N=>{t[f]&&t[f](new o1(g,A,S,N))},error:t[f+1],complete:t[f+2]},n1(i._query)}return function(A,N,O,B){const L=new eg(B),P=new Jp(N,L,O);return A.asyncQueue.enqueueAndForget(async()=>Xp(await Ph(A),P)),()=>{L.xu(),A.asyncQueue.enqueueAndForget(async()=>Wp(await Ph(A),P))}}(sf(g),E,m,p)}function c1(i,t){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>gO(await IO(s),o,u)),u.promise}(sf(i),t)}function h1(i,t,n){const s=n.docs.get(t._key),o=new fg(i);return new a1(i,o,t._key,s,new ql(n.hasPendingWrites,n.fromCache),t.converter)}function KO(){return new sg("serverTimestamp")}function Lh(...i){return new ag("arrayUnion",i)}(function(t,n=!0){(function(o){Eo=o})(_o),so(new Ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Js(new z2(s.getProvider("auth-internal")),new H2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Qr(g0,y0,t),Qr(g0,y0,"esm2017")})();function f1(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=f1(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Qs(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=f1(i))&&(s&&(s+=" "),s+=t);return s}function XO(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}XO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Au=i=>typeof i=="number"&&!isNaN(i),$s=i=>typeof i=="string",rr=i=>typeof i=="function",WO=i=>$s(i)||Au(i),op=i=>$s(i)||rr(i)?i:null,ZO=(i,t)=>i===!1||Au(i)&&i>0?i:t,lp=i=>q.isValidElement(i)||$s(i)||rr(i)||Au(i);function JO(i,t,n=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function $O({enter:i,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:S}){let A=n?`${i}--${f}`:i,N=n?`${t}--${f}`:t,O=q.useRef(0);return q.useLayoutEffect(()=>{let B=g.current,L=A.split(" "),P=F=>{F.target===g.current&&(S(),B.removeEventListener("animationend",P),B.removeEventListener("animationcancel",P),O.current===0&&F.type!=="animationcancel"&&B.classList.remove(...L))};B.classList.add(...L),B.addEventListener("animationend",P),B.addEventListener("animationcancel",P)},[]),q.useEffect(()=>{let B=g.current,L=()=>{B.removeEventListener("animationend",L),s?JO(B,p,o):p()};E||(m?L():(O.current=1,B.className+=` ${N}`,B.addEventListener("animationend",L)))},[E]),ie.createElement(ie.Fragment,null,u)}}function gE(i,t){return{content:d1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function d1(i,t,n=!1){return q.isValidElement(i)&&!$s(i.type)?q.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):rr(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function tx({closeToast:i,theme:t,ariaLabel:n="close"}){return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ex({delay:i,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let S=o||f&&m===0,A={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};f&&(A.transform=`scaleX(${m})`);let N=Qs("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),O=rr(u)?u({rtl:p,type:s,defaultClassName:N}):Qs(N,u),B={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return ie.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},ie.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),ie.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:O,style:A,...B}))}var nx=1,m1=()=>`${nx++}`;function ix(i,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=F=>(g.add(F),()=>g.delete(F)),S=()=>{f=Array.from(p.values()),g.forEach(F=>F())},A=({containerId:F,toastId:Y,updateId:it})=>{let st=F?F!==i:i!==1,ct=p.has(Y)&&it==null;return st||ct},N=(F,Y)=>{p.forEach(it=>{var st;(Y==null||Y===it.props.toastId)&&((st=it.toggle)==null||st.call(it,F))})},O=F=>{var Y,it;(it=(Y=F.props)==null?void 0:Y.onClose)==null||it.call(Y,F.removalReason),F.isActive=!1},B=F=>{if(F==null)p.forEach(O);else{let Y=p.get(F);Y&&O(Y)}S()},L=()=>{o-=u.length,u=[]},P=F=>{var Y,it;let{toastId:st,updateId:ct}=F.props,I=ct==null;F.staleId&&p.delete(F.staleId),F.isActive=!0,p.set(st,F),S(),n(gE(F,I?"added":"updated")),I&&((it=(Y=F.props).onOpen)==null||it.call(Y))};return{id:i,props:m,observe:E,toggle:N,removeToast:B,toasts:p,clearQueue:L,buildToast:(F,Y)=>{if(A(Y))return;let{toastId:it,updateId:st,data:ct,staleId:I,delay:w}=Y,R=st==null;R&&o++;let x={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([U,D])=>D!=null)),toastId:it,updateId:st,data:ct,isIn:!1,className:op(Y.className||m.toastClassName),progressClassName:op(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:ZO(Y.autoClose,m.autoClose),closeToast(U){p.get(it).removalReason=U,B(it)},deleteToast(){let U=p.get(it);if(U!=null){if(n(gE(U,"removed")),p.delete(it),o--,o<0&&(o=0),u.length>0){P(u.shift());return}S()}}};x.closeButton=m.closeButton,Y.closeButton===!1||lp(Y.closeButton)?x.closeButton=Y.closeButton:Y.closeButton===!0&&(x.closeButton=lp(m.closeButton)?m.closeButton:!0);let k={content:F,props:x,staleId:I};m.limit&&m.limit>0&&o>m.limit&&R?u.push(k):Au(w)?setTimeout(()=>{P(k)},w):P(k)},setProps(F){m=F},setToggle:(F,Y)=>{let it=p.get(F);it&&(it.toggle=Y)},isToastActive:F=>{var Y;return(Y=p.get(F))==null?void 0:Y.isActive},getSnapshot:()=>f}}var ln=new Map,su=[],up=new Set,rx=i=>up.forEach(t=>t(i)),p1=()=>ln.size>0;function sx(){su.forEach(i=>y1(i.content,i.options)),su=[]}var ax=(i,{containerId:t})=>{var n;return(n=ln.get(t||1))==null?void 0:n.toasts.get(i)};function g1(i,t){var n;if(t)return!!((n=ln.get(t))!=null&&n.isToastActive(i));let s=!1;return ln.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function ox(i){if(!p1()){su=su.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||WO(i))ln.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=ln.get(i.containerId);t?t.removeToast(i.id):ln.forEach(n=>{n.removeToast(i.id)})}}var lx=(i={})=>{ln.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function y1(i,t){lp(i)&&(p1()||su.push({content:i,options:t}),ln.forEach(n=>{n.buildToast(i,t)}))}function ux(i){var t;(t=ln.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function _1(i,t){ln.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(i,t?.id)})}function cx(i){let t=i.containerId||1;return{subscribe(n){let s=ix(t,i,rx);ln.set(t,s);let o=s.observe(n);return sx(),()=>{o(),ln.delete(t)}},setProps(n){var s;(s=ln.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ln.get(t))==null?void 0:n.getSnapshot()}}}function hx(i){return up.add(i),()=>{up.delete(i)}}function fx(i){return i&&($s(i.toastId)||Au(i.toastId))?i.toastId:m1()}function Su(i,t){return y1(i,t),t.toastId}function cf(i,t){return{...t,type:t&&t.type||i,toastId:fx(t)}}function hf(i){return(t,n)=>Su(t,cf(i,n))}function Ot(i,t){return Su(i,cf("default",t))}Ot.loading=(i,t)=>Su(i,cf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dx(i,{pending:t,error:n,success:s},o){let u;t&&(u=$s(t)?Ot.loading(t,o):Ot.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,S)=>{if(E==null){Ot.dismiss(u);return}let A={type:g,...f,...o,data:S},N=$s(E)?{render:E}:E;return u?Ot.update(u,{...A,...N}):Ot(N.render,{...A,...N}),S},p=rr(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Ot.promise=dx;Ot.success=hf("success");Ot.info=hf("info");Ot.error=hf("error");Ot.warning=hf("warning");Ot.warn=Ot.warning;Ot.dark=(i,t)=>Su(i,cf("default",{theme:"dark",...t}));function mx(i){ox(i)}Ot.dismiss=mx;Ot.clearWaitingQueue=lx;Ot.isActive=g1;Ot.update=(i,t={})=>{let n=ax(i,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:m1()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,Su(f,u)}};Ot.done=i=>{Ot.update(i,{progress:1})};Ot.onChange=hx;Ot.play=i=>_1(!0,i);Ot.pause=i=>_1(!1,i);function px(i){var t;let{subscribe:n,getSnapshot:s,setProps:o}=q.useRef(cx(i)).current;o(i);let u=(t=q.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:g1,count:u?.length}}function gx(i){let[t,n]=q.useState(!1),[s,o]=q.useState(!1),u=q.useRef(null),f=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:S}=i;ux({id:i.toastId,containerId:i.containerId,fn:n}),q.useEffect(()=>{if(i.pauseOnFocusLoss)return A(),()=>{N()}},[i.pauseOnFocusLoss]);function A(){document.hasFocus()||P(),window.addEventListener("focus",L),window.addEventListener("blur",P)}function N(){window.removeEventListener("focus",L),window.removeEventListener("blur",P)}function O(I){if(i.draggable===!0||i.draggable===I.pointerType){F();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",i.draggableDirection==="x"?(f.start=I.clientX,f.removalDistance=w.offsetWidth*(i.draggablePercent/100)):(f.start=I.clientY,f.removalDistance=w.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function B(I){let{top:w,bottom:R,left:x,right:k}=u.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&i.pauseOnHover&&I.clientX>=x&&I.clientX<=k&&I.clientY>=w&&I.clientY<=R?P():L()}function L(){n(!0)}function P(){n(!1)}function F(){f.didMove=!1,document.addEventListener("pointermove",it),document.addEventListener("pointerup",st)}function Y(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st)}function it(I){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&P(),i.draggableDirection==="x"?f.delta=I.clientX-f.start:f.delta=I.clientY-f.start,f.start!==I.clientX&&(f.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${R},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function st(){Y();let I=u.current;if(f.canDrag&&f.didMove&&I){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let ct={onPointerDown:O,onPointerUp:B};return m&&p&&(ct.onMouseEnter=P,i.stacked||(ct.onMouseLeave=L)),S&&(ct.onClick=I=>{E&&E(I),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:P,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:ct}}var yx=typeof window<"u"?q.useLayoutEffect:q.useEffect,ff=({theme:i,type:t,isLoading:n,...s})=>ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function _x(i){return ie.createElement(ff,{...i},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vx(i){return ie.createElement(ff,{...i},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Ex(i){return ie.createElement(ff,{...i},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Tx(i){return ie.createElement(ff,{...i},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ax(){return ie.createElement("div",{className:"Toastify__spinner"})}var cp={info:vx,warning:_x,success:Ex,error:Tx,spinner:Ax},Sx=i=>i in cp;function bx({theme:i,type:t,isLoading:n,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(rr(s)?o=s({...u,isLoading:n}):q.isValidElement(s)?o=q.cloneElement(s,u):n?o=cp.spinner():Sx(t)&&(o=cp[t](u))),o}var wx=i=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=gx(i),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:S,closeToast:A,transition:N,position:O,className:B,style:L,progressClassName:P,updateId:F,role:Y,progress:it,rtl:st,toastId:ct,deleteToast:I,isIn:w,isLoading:R,closeOnClick:x,theme:k,ariaLabel:U}=i,D=Qs("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":x}),Ae=rr(B)?B({rtl:st,position:O,type:E,defaultClassName:D}):Qs(D,B),ee=bx(i),W=!!it||!p,lt={closeToast:A,type:E,theme:k},mt=null;return f===!1||(rr(f)?mt=f(lt):q.isValidElement(f)?mt=q.cloneElement(f,lt):mt=tx(lt)),ie.createElement(N,{isIn:w,done:I,position:O,preventExitTransition:n,nodeRef:s,playToast:u},ie.createElement("div",{id:ct,tabIndex:0,onClick:g,"data-in":w,className:Ae,...o,style:L,ref:s,...w&&{role:Y,"aria-label":U}},ee!=null&&ie.createElement("div",{className:Qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ee),d1(m,i,!t),mt,!i.customProgressBar&&ie.createElement(ex,{...F&&!W?{key:`p-${F}`}:{},rtl:st,theme:k,delay:p,isRunning:t,isIn:w,closeToast:A,hide:S,type:E,className:P,controlledProgress:W,progress:it||0})))},Rx=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),Ix=$O(Rx("bounce",!0)),Cx={position:"top-right",transition:Ix,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function Dx(i){let t={...Cx,...i},n=i.stacked,[s,o]=q.useState(!0),u=q.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=px(t),{className:g,style:E,rtl:S,containerId:A,hotKeys:N}=t;function O(L){let P=Qs("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":S});return rr(g)?g({position:L,rtl:S,defaultClassName:P}):Qs(P,op(g))}function B(){n&&(o(!0),Ot.play())}return yx(()=>{var L;if(n){let P=u.current.querySelectorAll('[data-in="true"]'),F=12,Y=(L=t.position)==null?void 0:L.includes("top"),it=0,st=0;Array.from(P).reverse().forEach((ct,I)=>{let w=ct;w.classList.add("Toastify__toast--stacked"),I>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=Y?"top":"bot");let R=it*(s?.2:1)+(s?0:F*I);w.style.setProperty("--y",`${Y?R:R*-1}px`),w.style.setProperty("--g",`${F}`),w.style.setProperty("--s",`${1-(s?st:0)}`),it+=w.offsetHeight,st+=.025})}},[s,p,n]),q.useEffect(()=>{function L(P){var F;let Y=u.current;N(P)&&((F=Y.querySelector('[tabIndex="0"]'))==null||F.focus(),o(!1),Ot.pause()),P.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),Ot.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[N]),ie.createElement("section",{ref:u,className:"Toastify",id:A,onMouseEnter:()=>{n&&(o(!1),Ot.pause())},onMouseLeave:B,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,P)=>{let F=P.length?{...E}:{...E,pointerEvents:"none"};return ie.createElement("div",{tabIndex:-1,className:O(L),"data-stacked":n,style:F,key:`c-${L}`},P.map(({content:Y,props:it})=>ie.createElement(wx,{...it,stacked:n,collapseAll:B,isIn:m(it.toastId,it.containerId),key:`t-${it.key}`},Y)))}))}const Nx={apiKey:"AIzaSyAA53JDXKFg4P5Q5_G0dKUhcl7mViH6JUU",authDomain:"chat-app-gs-d9730.firebaseapp.com",projectId:"chat-app-gs-d9730",storageBucket:"chat-app-gs-d9730.appspot.com",messagingSenderId:"197136245483",appId:"1:197136245483:web:a7833397856e12befd14ae"},v1=FE(Nx),ns=k2(v1),Ce=xO(v1),Ox=async(i,t,n)=>{try{const o=(await AC(ns,t,n)).user;await ap(Ue(Ce,"users",o.uid),{id:o.uid,username:i.toLowerCase(),email:t,name:"",avatar:"",bio:"Hey There I am Chat App",lastSeen:Date.now()}),await ap(Ue(Ce,"chats",o.uid),{chatsData:[]}),console.log("User registered successfully!")}catch(s){console.error("Signup error:",s.message),Ot.error(s.code.split("/")[1].split("-").join(" "))}},xx=async(i,t)=>{try{await SC(ns,i,t)}catch(n){console.error(n),Ot.error(n.code.split("/")[1].split("_").join(" "))}},Vx=async i=>{if(!i){Ot.error("Enter email");return}try{const t=dh(Ce,"users"),n=i1(t,r1("email","==",i));(await l1(n)).empty?Ot.error("Email does not exist"):(await TC(ns,i),Ot.success("Reset email sent"))}catch(t){console.error("Password reset error:",t),Ot.error(t.message)}},Mx=()=>{const[i,t]=q.useState("Sign up");q.useEffect(()=>(document.body.classList.add("login-body"),()=>{document.body.classList.remove("login-body")}),[]);const[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(""),p=g=>{g.preventDefault(),i==="Sign up"?Ox(n,o,f):xx(o,f)};return et.jsxs("div",{className:"login",children:[et.jsx("img",{src:on.logo_big,alt:"",className:"logo"}),et.jsxs("form",{onSubmit:p,className:"login-form",children:[et.jsx("h2",{children:i}),i==="Sign up"&&et.jsx("input",{onChange:g=>s(g.target.value),value:n,type:"text",placeholder:"Username",className:"form-input",required:!0}),et.jsx("input",{onChange:g=>u(g.target.value),value:o,type:"email",placeholder:"Email Address",className:"form-input"}),et.jsx("input",{onChange:g=>m(g.target.value),value:f,type:"password",placeholder:"Password",className:"form-input"}),et.jsx("button",{type:"submit",children:i==="Sign up"?"Create Account":"Login Now"}),et.jsxs("div",{className:"login-term",children:[et.jsx("input",{type:"checkbox"}),et.jsx("p",{children:"Agree to the terms and conditions"})]}),et.jsxs("div",{className:"login-forgot",children:[i==="Sign up"?et.jsxs("p",{className:"login-toggle",children:["Already have an account? ",et.jsx("span",{onClick:()=>t("Login"),children:"Login here"})]}):et.jsxs("p",{className:"login-toggle",children:["Create an account ",et.jsx("span",{onClick:()=>t("Sign up"),children:"Click here"})]}),i==="Login"?et.jsxs("p",{className:"login-toggle",children:["Forgot password ",et.jsx("span",{onClick:()=>Vx(o),children:"Click here"})]}):null]})]})]})},is=q.createContext(),Px=i=>{const t=lu(),[n,s]=q.useState(null),[o,u]=q.useState(null),[f,m]=q.useState(null),[p,g]=q.useState([]),[E,S]=q.useState(null),[A,N]=q.useState(!1),O=async F=>{try{const Y=Ue(Ce,"users",F),st=(await Ji(Y)).data();s(st),st.avatar&&st.name?t("/chat"):t("/profile"),await Qn(Y,{lastSeen:Date.now()}),setInterval(()=>{(async()=>{if(ns.chatUser)try{await Qn(Y,{lastSeen:Date.now()})}catch(I){console.error("Error updating last seen:",I)}})()},6e4)}catch(Y){console.log(Y)}},B=()=>{s(null),u(null),m(null),g([]),S(null)},L=async()=>{try{B(),await ns.signOut(),t("/")}catch(F){console.error("Logout failed",F)}};q.useEffect(()=>{if(n){const F=Ue(Ce,"chats",n.id),Y=u1(F,async it=>{const st=it.data().chatsData,ct=[];for(const I of st){const w=Ue(Ce,"users",I.rId),x=(await Ji(w)).data();ct.push({...I,userData:x})}u(ct.sort((I,w)=>w.updatedAt-I.updatedAt))});return()=>{Y()}}},[n]);const P={userdata:n,setuserdata:s,chatdata:o,setchatdata:u,loadUserData:O,messages:p,setMessages:g,messagesId:f,setMessagesId:m,chatUser:E,setChatUser:S,handleLogout:L,chatVisible:A,setChatVisible:N};return et.jsx(is.Provider,{value:P,children:i.children})},kx=()=>{const i=lu(),{userdata:t,chatdata:n,chatUser:s,setChatUser:o,setMessagesId:u,messagesId:f,chatVisible:m,setChatVisible:p}=q.useContext(is),[g,E]=q.useState(null),[S,A]=q.useState(!1),N=async P=>{try{const F=P.target.value;if(F){A(!0);const Y=dh(Ce,"users"),it=i1(Y,r1("username","==",F.toLowerCase())),st=await l1(it);if(!st.empty&&st.docs[0].id!==t.id){let ct=!1;n?.forEach(I=>{I.rId===st.docs[0].data().id&&(ct=!0)}),E(ct?null:st.docs[0].data())}else E(null)}else A(!1)}catch(F){console.error(F)}},O=async()=>{const P=dh(Ce,"messages"),F=dh(Ce,"chats");try{if(n?.some(I=>I.rId===g.id)){Ot.info("Chat already exists");return}const it=Ue(P);await ap(it,{createAt:KO(),messages:[]}),await Qn(Ue(F,g.id),{chatsData:Lh({messagesId:it.id,lastMessage:"",rId:t.id,updatedAt:Date.now(),messageSeen:!0})}),await Qn(Ue(F,t.id),{chatsData:Lh({messagesId:it.id,lastMessage:"",rId:g.id,updatedAt:Date.now(),messageSeen:!0})});const ct=(await Ji(Ue(Ce,"users",g.id))).data();B({messagesId:it.id,lastMessage:"",rId:g.id,updatedAt:Date.now(),messageSeen:!0,userdata:ct}),A(!1),p(!0)}catch(Y){Ot.error(Y.message),console.error(Y)}},B=async P=>{u(P.messagesId),o(P);const F=Ue(Ce,"chats",t.id),it=(await Ji(F)).data(),st=it.chatsData.findIndex(ct=>ct.messagesId===P.messagesId);st!==-1&&(it.chatsData[st].messageSeen=!0,await Qn(F,{chatsData:it.chatsData}),p(!0))},L=async()=>{try{await ns.signOut(),i("/")}catch(P){Ot.error("Logout failed"),console.error(P)}};return q.useEffect(()=>{(async()=>{if(s){const F=Ue(Ce,"users",s.userdata.id),it=(await Ji(F)).data();o(st=>({...st,userdata:it}))}})()},[n]),et.jsxs("div",{className:`ls ${m?"hidden":""}`,children:[et.jsxs("div",{className:"ls-top",children:[et.jsxs("div",{className:"ls-nav",children:[et.jsx("img",{src:on.logo,className:"logoleftsidebar",alt:"ChatApp Logo"}),et.jsxs("div",{className:"menu",children:[et.jsx("img",{src:on.menu_icon,alt:"Menu"}),et.jsxs("div",{className:"sub-menu",children:[et.jsx("p",{onClick:()=>i("/profile"),children:"Edit Profile"}),et.jsx("hr",{}),et.jsx("p",{onClick:L,children:"Logout"})]})]})]}),et.jsxs("div",{className:"ls-search",children:[et.jsx("img",{src:on.search_icon,alt:"Search"}),et.jsx("input",{onChange:N,type:"text",placeholder:"Search here.."})]})]}),et.jsx("div",{className:"ls-list",children:S&&g?et.jsxs("div",{onClick:O,className:"friends add-user",children:[et.jsx("img",{src:g.avatar||on.default_avatar,alt:"avatar"}),et.jsx("p",{children:g.name})]}):Array.isArray(n)&&n.length>0?[...new Map(n.map(P=>[P.rId,P])).values()].map(P=>et.jsxs("div",{onClick:()=>B(P),className:`friends${P.messageSeen||P.messagesId===f?"":" border"}`,children:[et.jsx("img",{src:P.userData.avatar||on.default_avatar,alt:"Profile"}),et.jsxs("div",{children:[et.jsx("p",{children:P.userData.name}),et.jsx("span",{children:P.lastMessage})]})]},P.messagesId)):et.jsx("p",{children:"No chats available"})})]})},E1=async i=>{if(!i)return null;const t="dxsfgviht",n="avatars",s="avatars",o=new FormData;o.append("file",i),o.append("upload_preset",n),o.append("folder",s);try{return(await(await fetch(`https://api.cloudinary.com/v1_1/${t}/image/upload`,{method:"POST",body:o})).json()).secure_url}catch(u){return console.error("Cloudinary Upload Failed:",u),null}},Lx=()=>{const{userdata:i,messagesId:t,chatUser:n,messages:s,setMessages:o,chatVisible:u,setChatVisible:f}=q.useContext(is),[m,p]=q.useState(""),g=async()=>{try{if(m&&t){await Qn(Ue(Ce,"messages",t),{messages:Lh({sId:i.id,text:m,createdAt:new Date})});const A=[n.rId,i.id];for(const N of A){const O=Ue(Ce,"chats",N),B=await Ji(O);if(B.exists()){const L=B.data(),P=L.chatsData.findIndex(F=>F.messagesId===t);P!==-1?(L.chatsData[P].lastMessage=m.slice(0,30),L.chatsData[P].updatedAt=Date.now(),L.chatsData[P].rId===i.id&&(L.chatsData[P].messageSeen=!1),await Qn(O,{chatsData:L.chatsData})):console.warn(`Chat not found in user ${N}'s chat list.`)}}p("")}}catch(A){console.error("Send message error:",A.message),toast.error("Failed to send message")}},E=async A=>{try{const N=await E1(A.target.files[0]);if(N&&t){await Qn(Ue(Ce,"messages",t),{messages:Lh({sId:i.id,img:N,createdAt:new Date})});const O=[n.rId,i.id];for(const B of O){const L=Ue(Ce,"chats",B),P=await Ji(L);if(P.exists()){const F=P.data(),Y=F.chatsData.findIndex(it=>it.messagesId===t);Y!==-1?(F.chatsData[Y].lastMessage="📷 Image",F.chatsData[Y].updatedAt=Date.now(),F.chatsData[Y].rId===i.id&&(F.chatsData[Y].messageSeen=!1),await Qn(L,{chatsData:F.chatsData})):console.warn(`Chat not found in user ${B}'s chat list.`)}}}}catch(N){toast.error(N.message),console.error("Send image error:",N.message)}},S=A=>{let N=A.toDate();const O=N.getHours(),B=N.getMinutes();return O>12?O-12+":"+B+"PM":O+":"+B+"AM"};return q.useEffect(()=>{if(t){console.log("Listening to messagesId:",t);const A=u1(Ue(Ce,"messages",t),N=>{o(N.data().messages.reverse())});return()=>{A()}}},[t]),n?et.jsxs("div",{className:`chat-box ${u?"":"hidden"}`,children:[et.jsxs("div",{className:"chat-user",children:[et.jsx("img",{src:n.userData.avatar,alt:""}),et.jsxs("p",{children:[n.userData.name,Date.now()-n.userData.lastSeen<=7e4?et.jsx("img",{className:"dot",src:on.green_dot,alt:""}):null]}),et.jsx("img",{src:on.help_icon,className:"help",alt:""}),et.jsx("img",{src:on.arrow_icon,onClick:()=>f(!1),style:{width:"24px",height:"24px",cursor:"pointer"},className:"arrow",alt:""})]}),et.jsx("div",{className:"chat-msg",children:s.map((A,N)=>et.jsxs("div",{className:A.sId===i.id?"s-msg":"r-msg",children:[A.img?et.jsx("img",{className:"msg-image",src:A.img,alt:"sent-image"}):et.jsx("p",{className:"msg",children:A.text}),console.log("Message:",A),et.jsxs("div",{children:[et.jsx("img",{src:A.sId===i.id?i.avatar:n.userData.avatar,alt:""}),et.jsx("p",{className:"pa",children:S(A.createdAt)})]})]},N))}),et.jsxs("div",{className:"chat-input",children:[et.jsx("input",{onChange:A=>p(A.target.value),value:m,type:"text",placeholder:"send a meessage"}),et.jsx("input",{onChange:E,type:"file",id:"image",accept:"image/png, image/jpeg",hidden:!0}),et.jsx("label",{htmlFor:"image",children:et.jsx("img",{src:on.gallery_icon,alt:""})}),et.jsx("img",{onClick:g,src:on.send_button,alt:""})]})]}):et.jsxs("div",{className:`chat-welcome ${u?"":"hidden"}`,children:[et.jsx("img",{src:on.logo_icon,alt:""}),et.jsx("p",{children:"Chat any time Anywhere"})]})},Ux=()=>{const{chatUser:i,messages:t}=q.useContext(is),n=i?.userData?.lastSeen&&Date.now()-(typeof i.userData.lastSeen.toMillis=="function"?i.userData.lastSeen.toMillis():i.userData.lastSeen)<=7e4,{handleLogout:s}=q.useContext(is),[o,u]=q.useState([]);return q.useEffect(()=>{if(Array.isArray(t)&&t.length>0){const f=t.filter(m=>m.img).map(m=>m.img);u(f)}},[t]),i?et.jsx("div",{children:et.jsxs("div",{className:"rs",children:[et.jsxs("div",{className:"rs-profile",children:[et.jsx("img",{src:i.userData.avatar,alt:""}),et.jsxs("h3",{children:[i.userData.name,n&&et.jsx("img",{src:on.green_dot,className:"dot",alt:"online"})]}),et.jsx("p",{children:i.userData.bio})]}),et.jsx("hr",{}),et.jsxs("div",{className:"rs-media",children:[et.jsx("p",{children:"media"}),et.jsx("div",{children:o.map((f,m)=>et.jsx("img",{onClick:()=>window.open(f),src:f},m))})]}),et.jsx("button",{onClick:s,children:"Logout"})]})}):et.jsx("div",{className:"rs",children:et.jsx("button",{onClick:()=>s(),children:"Logout"})})},Bx=()=>{const{chatdata:i,userdata:t}=q.useContext(is),[n,s]=q.useState(!0);return q.useEffect(()=>{i&&t&&s(!1)},[i,t]),et.jsx("div",{className:"chat",children:n?et.jsx("p",{className:"loading",children:"Loading..."}):et.jsxs("div",{className:"chat-container",children:[et.jsx(kx,{}),et.jsx(Lx,{}),et.jsx(Ux,{})]})})},zx=()=>{const i=lu(),[t,n]=q.useState(!1),[s,o]=q.useState(""),[u,f]=q.useState(""),[m,p]=q.useState(""),[g,E]=q.useState(""),{setuserdata:S}=q.useContext(is),A=async N=>{N.preventDefault();try{if(!g&&!t){Ot.error("Upload Profile Pic");return}const O=Ue(Ce,"users",m);if(t){const L=await E1(t);E(L),await Qn(O,{avatar:L,bio:u,name:s})}else await Qn(O,{bio:u,name:s});const B=await Ji(O);S(B.data()),i("/chat")}catch(O){console.error(O),Ot.error(O.message)}};return q.useEffect(()=>{_T(ns,async N=>{if(N){p(N.uid);const O=Ue(Ce,"users",N.uid),B=await Ji(O);B.data().name&&o(B.data().name),B.data().bio&&f(B.data().bio),B.data().avatar&&E(B.data().avatar)}else i("/")})},[i]),et.jsx("div",{className:"profile",children:et.jsxs("div",{className:"profile-container",children:[et.jsxs("form",{onSubmit:A,children:[et.jsx("h3",{children:"Profile Details"}),et.jsxs("label",{htmlFor:"avatar",children:[et.jsx("input",{onChange:N=>n(N.target.files[0]),type:"file",id:"avatar",accept:".png, .jpg, .jpeg",hidden:!0}),et.jsx("img",{src:t?URL.createObjectURL(t):g||on.avatar_icon,alt:""}),"Upload Profile Image"]}),et.jsx("input",{onChange:N=>o(N.target.value),value:s,type:"text",placeholder:"Your name",required:!0}),et.jsx("textarea",{onChange:N=>f(N.target.value),value:u,placeholder:"Write Profile Bio",required:!0}),et.jsx("button",{type:"submit",children:"Save"})]}),et.jsx("img",{className:"profile-pic",src:t?URL.createObjectURL(t):g||on.logo_icon,alt:""})]})})},jx=()=>{const i=lu(),{loadUserData:t}=q.useContext(is);return q.useEffect(()=>{_T(ns,async n=>{n?(i("/chat"),await t(n.uid)):i("/")})},[]),et.jsxs(et.Fragment,{children:[et.jsx(Dx,{}),et.jsxs(Qb,{children:[et.jsx(eh,{path:"/",element:et.jsx(Mx,{})}),et.jsx(eh,{path:"/chat",element:et.jsx(Bx,{})}),et.jsx(eh,{path:"/profile",element:et.jsx(zx,{})})]})]})};eb.createRoot(document.getElementById("root")).render(et.jsx(gw,{children:et.jsx(Px,{children:et.jsx(jx,{})})}));
